var rm=e=>{throw TypeError(e)};var Eu=(e,t,r)=>t.has(e)||rm("Cannot "+r);var R=(e,t,r)=>(Eu(e,t,"read from private field"),r?r.call(e):t.get(e)),xe=(e,t,r)=>t.has(e)?rm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(Eu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rt=(e,t,r)=>(Eu(e,t,"access private method"),r);var Va=(e,t,r,n)=>({set _(s){ae(e,t,s,r)},get _(){return R(e,t,n)}});function ey(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function ty(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ry(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ny={exports:{}},Tc={},sy={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),WS=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),GS=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),YS=Symbol.for("react.suspense"),JS=Symbol.for("react.memo"),XS=Symbol.for("react.lazy"),nm=Symbol.iterator;function ZS(e){return e===null||typeof e!="object"?null:(e=nm&&e[nm]||e["@@iterator"],typeof e=="function"?e:null)}var oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iy=Object.assign,ay={};function Zo(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||oy}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ly(){}ly.prototype=Zo.prototype;function oh(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||oy}var ih=oh.prototype=new ly;ih.constructor=oh;iy(ih,Zo.prototype);ih.isPureReactComponent=!0;var sm=Array.isArray,cy=Object.prototype.hasOwnProperty,ah={current:null},uy={key:!0,ref:!0,__self:!0,__source:!0};function dy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)cy.call(t,n)&&!uy.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Pa,type:e,key:o,ref:i,props:s,_owner:ah.current}}function eE(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function tE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var om=/\/+/g;function Cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tE(""+e.key):t.toString(36)}function Nl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pa:case WS:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Cu(i,0):n,sm(s)?(r="",e!=null&&(r=e.replace(om,"$&/")+"/"),Nl(s,t,r,"",function(u){return u})):s!=null&&(lh(s)&&(s=eE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(om,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",sm(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+Cu(o,a);i+=Nl(o,t,r,c,s)}else if(c=ZS(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+Cu(o,a++),i+=Nl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ha(e,t,r){if(e==null)return e;var n=[],s=0;return Nl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function rE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Pl={transition:null},nE={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:ah};function fy(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ha,forEach:function(e,t,r){Ha(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!lh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Zo;he.Fragment=qS;he.Profiler=HS;he.PureComponent=oh;he.StrictMode=VS;he.Suspense=YS;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;he.act=fy;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=iy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ah.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)cy.call(t,c)&&!uy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Pa,type:e.type,key:s,ref:o,props:n,_owner:i}};he.createContext=function(e){return e={$$typeof:GS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KS,_context:e},e.Consumer=e};he.createElement=dy;he.createFactory=function(e){var t=dy.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:QS,render:e}};he.isValidElement=lh;he.lazy=function(e){return{$$typeof:XS,_payload:{_status:-1,_result:e},_init:rE}};he.memo=function(e,t){return{$$typeof:JS,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Pl.transition;Pl.transition={};try{e()}finally{Pl.transition=t}};he.unstable_act=fy;he.useCallback=function(e,t){return mt.current.useCallback(e,t)};he.useContext=function(e){return mt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};he.useEffect=function(e,t){return mt.current.useEffect(e,t)};he.useId=function(){return mt.current.useId()};he.useImperativeHandle=function(e,t,r){return mt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return mt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return mt.current.useReducer(e,t,r)};he.useRef=function(e){return mt.current.useRef(e)};he.useState=function(e){return mt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return mt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return mt.current.useTransition()};he.version="18.3.1";sy.exports=he;var h=sy.exports;const z=ty(h),ch=ey({__proto__:null,default:z},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=h,oE=Symbol.for("react.element"),iE=Symbol.for("react.fragment"),aE=Object.prototype.hasOwnProperty,lE=sE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cE={key:!0,ref:!0,__self:!0,__source:!0};function hy(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)aE.call(t,n)&&!cE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:oE,type:e,key:o,ref:i,props:s,_owner:lE.current}}Tc.Fragment=iE;Tc.jsx=hy;Tc.jsxs=hy;ny.exports=Tc;var l=ny.exports,py={exports:{}},It={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,k){var I=P.length;P.push(k);e:for(;0<I;){var F=I-1>>>1,N=P[F];if(0<s(N,k))P[F]=k,P[I]=N,I=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var k=P[0],I=P.pop();if(I!==k){P[0]=I;e:for(var F=0,N=P.length,D=N>>>1;F<D;){var U=2*(F+1)-1,V=P[U],re=U+1,$=P[re];if(0>s(V,I))re<N&&0>s($,V)?(P[F]=$,P[re]=I,F=re):(P[F]=V,P[U]=I,F=U);else if(re<N&&0>s($,I))P[F]=$,P[re]=I,F=re;else break e}}return k}function s(P,k){var I=P.sortIndex-k.sortIndex;return I!==0?I:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,g=3,p=!1,b=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=P)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function _(P){if(m=!1,x(P),!b)if(r(c)!==null)b=!0,T(S);else{var k=r(u);k!==null&&W(_,k.startTime-P)}}function S(P,k){b=!1,m&&(m=!1,v(j),j=-1),p=!0;var I=g;try{for(x(k),f=r(c);f!==null&&(!(f.expirationTime>k)||P&&!K());){var F=f.callback;if(typeof F=="function"){f.callback=null,g=f.priorityLevel;var N=F(f.expirationTime<=k);k=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(c)&&n(c),x(k)}else n(c);f=r(c)}if(f!==null)var D=!0;else{var U=r(u);U!==null&&W(_,U.startTime-k),D=!1}return D}finally{f=null,g=I,p=!1}}var E=!1,C=null,j=-1,O=5,A=-1;function K(){return!(e.unstable_now()-A<O)}function B(){if(C!==null){var P=e.unstable_now();A=P;var k=!0;try{k=C(!0,P)}finally{k?X():(E=!1,C=null)}}else E=!1}var X;if(typeof w=="function")X=function(){w(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=B,X=function(){Y.postMessage(null)}}else X=function(){y(B,0)};function T(P){C=P,E||(E=!0,X())}function W(P,k){j=y(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,T(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var k=3;break;default:k=g}var I=g;g=k;try{return P()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=g;g=P;try{return k()}finally{g=I}},e.unstable_scheduleCallback=function(P,k,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,P){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=I+N,P={id:d++,callback:k,priorityLevel:P,startTime:I,expirationTime:N,sortIndex:-1},I>F?(P.sortIndex=I,t(u,P),r(c)===null&&P===r(u)&&(m?(v(j),j=-1):m=!0,W(_,I-F))):(P.sortIndex=N,t(c,P),b||p||(b=!0,T(S))),P},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(P){var k=g;return function(){var I=g;g=k;try{return P.apply(this,arguments)}finally{g=I}}}})(gy);my.exports=gy;var uE=my.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=h,At=uE;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vy=new Set,ea={};function Ms(e,t){Bo(e,t),Bo(e+"Capture",t)}function Bo(e,t){for(ea[e]=t,e=0;e<t.length;e++)vy.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=Object.prototype.hasOwnProperty,fE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,im={},am={};function hE(e){return jd.call(am,e)?!0:jd.call(im,e)?!1:fE.test(e)?am[e]=!0:(im[e]=!0,!1)}function pE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mE(e,t,r,n){if(t===null||typeof t>"u"||pE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var uh=/[\-:]([a-z])/g;function dh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uh,dh);Ze[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uh,dh);Ze[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uh,dh);Ze[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fh(e,t,r,n){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mE(t,r,s,n)&&(r=null),n||s===null?hE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rn=dE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),uo=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),wy=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),Td=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),xy=Symbol.for("react.offscreen"),lm=Symbol.iterator;function bi(e){return e===null||typeof e!="object"?null:(e=lm&&e[lm]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,ku;function Di(e){if(ku===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ku=t&&t[1]||""}return`
`+ku+e}var ju=!1;function Nu(e,t){if(!e||ju)return"";ju=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{ju=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Di(e):""}function gE(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=Nu(e.type,!1),e;case 11:return e=Nu(e.type.render,!1),e;case 1:return e=Nu(e.type,!0),e;default:return""}}function Od(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case uo:return"Portal";case Nd:return"Profiler";case hh:return"StrictMode";case Pd:return"Suspense";case Td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wy:return(e.displayName||"Context")+".Consumer";case yy:return(e._context.displayName||"Context")+".Provider";case ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mh:return t=e.displayName||null,t!==null?t:Od(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return Od(e(t))}catch{}}return null}function vE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Od(t);case 8:return t===hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function by(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yE(e){var t=by(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ga(e){e._valueTracker||(e._valueTracker=yE(e))}function _y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=by(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rd(e,t){var r=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sy(e,t){t=t.checked,t!=null&&fh(e,"checked",t,!1)}function Ad(e,t){Sy(e,t);var r=Mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Id(e,t.type,r):t.hasOwnProperty("defaultValue")&&Id(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function um(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Id(e,t,r){(t!=="number"||Hl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $i=Array.isArray;function So(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if($i(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mn(r)}}function Ey(e,t){var r=Mn(t.value),n=Mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $d(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wE=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){wE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function jy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function Ny(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var xE=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Md(e,t){if(t){if(xE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ld(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=null;function gh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ud=null,Eo=null,Co=null;function hm(e){if(e=Ra(e)){if(typeof Ud!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Dc(t),Ud(e.stateNode,e.type,t))}}function Py(e){Eo?Co?Co.push(e):Co=[e]:Eo=e}function Ty(){if(Eo){var e=Eo,t=Co;if(Co=Eo=null,hm(e),t)for(e=0;e<t.length;e++)hm(t[e])}}function Oy(e,t){return e(t)}function Ry(){}var Pu=!1;function Ay(e,t,r){if(Pu)return e(t,r);Pu=!0;try{return Oy(e,t,r)}finally{Pu=!1,(Eo!==null||Co!==null)&&(Ry(),Ty())}}function ra(e,t){var r=e.stateNode;if(r===null)return null;var n=Dc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Bd=!1;if(Qr)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Bd=!1}function bE(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zi=!1,Kl=null,Gl=!1,zd=null,_E={onError:function(e){zi=!0,Kl=e}};function SE(e,t,r,n,s,o,i,a,c){zi=!1,Kl=null,bE.apply(_E,arguments)}function EE(e,t,r,n,s,o,i,a,c){if(SE.apply(this,arguments),zi){if(zi){var u=Kl;zi=!1,Kl=null}else throw Error(L(198));Gl||(Gl=!0,zd=u)}}function Ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(Ls(e)!==e)throw Error(L(188))}function CE(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return pm(s),e;if(o===n)return pm(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Dy(e){return e=CE(e),e!==null?$y(e):null}function $y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$y(e);if(t!==null)return t;e=e.sibling}return null}var My=At.unstable_scheduleCallback,mm=At.unstable_cancelCallback,kE=At.unstable_shouldYield,jE=At.unstable_requestPaint,Fe=At.unstable_now,NE=At.unstable_getCurrentPriorityLevel,vh=At.unstable_ImmediatePriority,Ly=At.unstable_UserBlockingPriority,Ql=At.unstable_NormalPriority,PE=At.unstable_LowPriority,Fy=At.unstable_IdlePriority,Oc=null,Rr=null;function TE(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Oc,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:AE,OE=Math.log,RE=Math.LN2;function AE(e){return e>>>=0,e===0?32:31-(OE(e)/RE|0)|0}var Ya=64,Ja=4194304;function Mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Mi(a):(o&=i,o!==0&&(n=Mi(o)))}else i=r&~s,i!==0?n=Mi(i):o!==0&&(n=Mi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hr(t),s=1<<r,n|=e[r],t&=~s;return n}function IE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-hr(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=IE(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uy(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function Tu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ta(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=r}function $E(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-hr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function yh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function By(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zy,wh,Wy,qy,Vy,qd=!1,Xa=[],Nn=null,Pn=null,Tn=null,na=new Map,sa=new Map,vn=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function Si(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ra(t),t!==null&&wh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function LE(e,t,r,n,s){switch(t){case"focusin":return Nn=Si(Nn,e,t,r,n,s),!0;case"dragenter":return Pn=Si(Pn,e,t,r,n,s),!0;case"mouseover":return Tn=Si(Tn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return na.set(o,Si(na.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,sa.set(o,Si(sa.get(o)||null,e,t,r,n,s)),!0}return!1}function Hy(e){var t=cs(e.target);if(t!==null){var r=Ls(t);if(r!==null){if(t=r.tag,t===13){if(t=Iy(r),t!==null){e.blockedOn=t,Vy(e.priority,function(){Wy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fd=n,r.target.dispatchEvent(n),Fd=null}else return t=Ra(r),t!==null&&wh(t),e.blockedOn=r,!1;t.shift()}return!0}function vm(e,t,r){Tl(e)&&r.delete(t)}function FE(){qd=!1,Nn!==null&&Tl(Nn)&&(Nn=null),Pn!==null&&Tl(Pn)&&(Pn=null),Tn!==null&&Tl(Tn)&&(Tn=null),na.forEach(vm),sa.forEach(vm)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,qd||(qd=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,FE)))}function oa(e){function t(s){return Ei(s,e)}if(0<Xa.length){Ei(Xa[0],e);for(var r=1;r<Xa.length;r++){var n=Xa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nn!==null&&Ei(Nn,e),Pn!==null&&Ei(Pn,e),Tn!==null&&Ei(Tn,e),na.forEach(t),sa.forEach(t),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&vn.shift()}var ko=rn.ReactCurrentBatchConfig,Jl=!0;function UE(e,t,r,n){var s=Ee,o=ko.transition;ko.transition=null;try{Ee=1,xh(e,t,r,n)}finally{Ee=s,ko.transition=o}}function BE(e,t,r,n){var s=Ee,o=ko.transition;ko.transition=null;try{Ee=4,xh(e,t,r,n)}finally{Ee=s,ko.transition=o}}function xh(e,t,r,n){if(Jl){var s=Vd(e,t,r,n);if(s===null)Uu(e,t,n,Xl,r),gm(e,n);else if(LE(s,e,t,r,n))n.stopPropagation();else if(gm(e,n),t&4&&-1<ME.indexOf(e)){for(;s!==null;){var o=Ra(s);if(o!==null&&zy(o),o=Vd(e,t,r,n),o===null&&Uu(e,t,n,Xl,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Uu(e,t,n,null,r)}}var Xl=null;function Vd(e,t,r,n){if(Xl=null,e=gh(n),e=cs(e),e!==null)if(t=Ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Iy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function Ky(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NE()){case vh:return 1;case Ly:return 4;case Ql:case PE:return 16;case Fy:return 536870912;default:return 16}default:return 16}}var Cn=null,bh=null,Ol=null;function Gy(){if(Ol)return Ol;var e,t=bh,r=t.length,n,s="value"in Cn?Cn.value:Cn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ol=s.slice(e,1<n?1-n:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function ym(){return!1}function Dt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Za:ym,this.isPropagationStopped=ym,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=Dt(ei),Oa=$e({},ei,{view:0,detail:0}),zE=Dt(Oa),Ou,Ru,Ci,Rc=$e({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Ou=e.screenX-Ci.screenX,Ru=e.screenY-Ci.screenY):Ru=Ou=0,Ci=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),wm=Dt(Rc),WE=$e({},Rc,{dataTransfer:0}),qE=Dt(WE),VE=$e({},Oa,{relatedTarget:0}),Au=Dt(VE),HE=$e({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),KE=Dt(HE),GE=$e({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QE=Dt(GE),YE=$e({},ei,{data:0}),xm=Dt(YE),JE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZE[e])?!!t[e]:!1}function Sh(){return eC}var tC=$e({},Oa,{key:function(e){if(e.key){var t=JE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rC=Dt(tC),nC=$e({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Dt(nC),sC=$e({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),oC=Dt(sC),iC=$e({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),aC=Dt(iC),lC=$e({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cC=Dt(lC),uC=[9,13,27,32],Eh=Qr&&"CompositionEvent"in window,Wi=null;Qr&&"documentMode"in document&&(Wi=document.documentMode);var dC=Qr&&"TextEvent"in window&&!Wi,Qy=Qr&&(!Eh||Wi&&8<Wi&&11>=Wi),_m=" ",Sm=!1;function Yy(e,t){switch(e){case"keyup":return uC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function fC(e,t){switch(e){case"compositionend":return Jy(t);case"keypress":return t.which!==32?null:(Sm=!0,_m);case"textInput":return e=t.data,e===_m&&Sm?null:e;default:return null}}function hC(e,t){if(ho)return e==="compositionend"||!Eh&&Yy(e,t)?(e=Gy(),Ol=bh=Cn=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qy&&t.locale!=="ko"?null:t.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pC[e.type]:t==="textarea"}function Xy(e,t,r,n){Py(n),t=Zl(t,"onChange"),0<t.length&&(r=new _h("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qi=null,ia=null;function mC(e){cw(e,0)}function Ac(e){var t=go(e);if(_y(t))return e}function gC(e,t){if(e==="change")return t}var Zy=!1;if(Qr){var Iu;if(Qr){var Du="oninput"in document;if(!Du){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Du=typeof Cm.oninput=="function"}Iu=Du}else Iu=!1;Zy=Iu&&(!document.documentMode||9<document.documentMode)}function km(){qi&&(qi.detachEvent("onpropertychange",ew),ia=qi=null)}function ew(e){if(e.propertyName==="value"&&Ac(ia)){var t=[];Xy(t,ia,e,gh(e)),Ay(mC,t)}}function vC(e,t,r){e==="focusin"?(km(),qi=t,ia=r,qi.attachEvent("onpropertychange",ew)):e==="focusout"&&km()}function yC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ac(ia)}function wC(e,t){if(e==="click")return Ac(t)}function xC(e,t){if(e==="input"||e==="change")return Ac(t)}function bC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:bC;function aa(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jd.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nm(e,t){var r=jm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jm(r)}}function tw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rw(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hl(e.document)}return t}function Ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _C(e){var t=rw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tw(r.ownerDocument.documentElement,r)){if(n!==null&&Ch(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Nm(r,o);var i=Nm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SC=Qr&&"documentMode"in document&&11>=document.documentMode,po=null,Hd=null,Vi=null,Kd=!1;function Pm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kd||po==null||po!==Hl(n)||(n=po,"selectionStart"in n&&Ch(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vi&&aa(Vi,n)||(Vi=n,n=Zl(Hd,"onSelect"),0<n.length&&(t=new _h("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=po)))}function el(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mo={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},$u={},nw={};Qr&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Ic(e){if($u[e])return $u[e];if(!mo[e])return e;var t=mo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nw)return $u[e]=t[r];return e}var sw=Ic("animationend"),ow=Ic("animationiteration"),iw=Ic("animationstart"),aw=Ic("transitionend"),lw=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){lw.set(e,t),Ms(t,[e])}for(var Mu=0;Mu<Tm.length;Mu++){var Lu=Tm[Mu],EC=Lu.toLowerCase(),CC=Lu[0].toUpperCase()+Lu.slice(1);zn(EC,"on"+CC)}zn(sw,"onAnimationEnd");zn(ow,"onAnimationIteration");zn(iw,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(aw,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Om(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,EE(n,t,void 0,e),e.currentTarget=null}function cw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Om(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Om(s,a,u),o=c}}}if(Gl)throw e=zd,Gl=!1,zd=null,e}function Pe(e,t){var r=t[Xd];r===void 0&&(r=t[Xd]=new Set);var n=e+"__bubble";r.has(n)||(uw(t,e,2,!1),r.add(n))}function Fu(e,t,r){var n=0;t&&(n|=4),uw(r,e,n,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[tl]){e[tl]=!0,vy.forEach(function(r){r!=="selectionchange"&&(kC.has(r)||Fu(r,!1,e),Fu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,Fu("selectionchange",!1,t))}}function uw(e,t,r,n){switch(Ky(t)){case 1:var s=UE;break;case 4:s=BE;break;default:s=xh}r=s.bind(null,t,r,e),s=void 0,!Bd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Uu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=cs(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Ay(function(){var u=o,d=gh(r),f=[];e:{var g=lw.get(e);if(g!==void 0){var p=_h,b=e;switch(e){case"keypress":if(Rl(r)===0)break e;case"keydown":case"keyup":p=rC;break;case"focusin":b="focus",p=Au;break;case"focusout":b="blur",p=Au;break;case"beforeblur":case"afterblur":p=Au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oC;break;case sw:case ow:case iw:p=KE;break;case aw:p=aC;break;case"scroll":p=zE;break;case"wheel":p=cC;break;case"copy":case"cut":case"paste":p=QE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bm}var m=(t&4)!==0,y=!m&&e==="scroll",v=m?g!==null?g+"Capture":null:g;m=[];for(var w=u,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=ra(w,v),_!=null&&m.push(ca(w,_,x)))),y)break;w=w.return}0<m.length&&(g=new p(g,b,null,r,d),f.push({event:g,listeners:m}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==Fd&&(b=r.relatedTarget||r.fromElement)&&(cs(b)||b[Yr]))break e;if((p||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?cs(b):null,b!==null&&(y=Ls(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(m=wm,_="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=bm,_="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?g:go(p),x=b==null?g:go(b),g=new m(_,w+"leave",p,r,d),g.target=y,g.relatedTarget=x,_=null,cs(d)===u&&(m=new m(v,w+"enter",b,r,d),m.target=x,m.relatedTarget=y,_=m),y=_,p&&b)t:{for(m=p,v=b,w=0,x=m;x;x=Ys(x))w++;for(x=0,_=v;_;_=Ys(_))x++;for(;0<w-x;)m=Ys(m),w--;for(;0<x-w;)v=Ys(v),x--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ys(m),v=Ys(v)}m=null}else m=null;p!==null&&Rm(f,g,p,m,!1),b!==null&&y!==null&&Rm(f,y,b,m,!0)}}e:{if(g=u?go(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var S=gC;else if(Em(g))if(Zy)S=xC;else{S=yC;var E=vC}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=wC);if(S&&(S=S(e,u))){Xy(f,S,r,d);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Id(g,"number",g.value)}switch(E=u?go(u):window,e){case"focusin":(Em(E)||E.contentEditable==="true")&&(po=E,Hd=u,Vi=null);break;case"focusout":Vi=Hd=po=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,Pm(f,r,d);break;case"selectionchange":if(SC)break;case"keydown":case"keyup":Pm(f,r,d)}var C;if(Eh)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ho?Yy(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Qy&&r.locale!=="ko"&&(ho||j!=="onCompositionStart"?j==="onCompositionEnd"&&ho&&(C=Gy()):(Cn=d,bh="value"in Cn?Cn.value:Cn.textContent,ho=!0)),E=Zl(u,j),0<E.length&&(j=new xm(j,e,null,r,d),f.push({event:j,listeners:E}),C?j.data=C:(C=Jy(r),C!==null&&(j.data=C)))),(C=dC?fC(e,r):hC(e,r))&&(u=Zl(u,"onBeforeInput"),0<u.length&&(d=new xm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}cw(f,t)})}function ca(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ra(e,r),o!=null&&n.unshift(ca(e,o,s)),o=ra(e,t),o!=null&&n.push(ca(e,o,s))),e=e.return}return n}function Ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=ra(r,o),c!=null&&i.unshift(ca(r,c,a))):s||(c=ra(r,o),c!=null&&i.push(ca(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var jC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(jC,`
`).replace(NC,"")}function rl(e,t,r){if(t=Am(t),Am(e)!==t&&r)throw Error(L(425))}function ec(){}var Gd=null,Qd=null;function Yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,PC=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(OC)}:Jd;function OC(e){setTimeout(function(){throw e})}function Bu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oa(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Nr="__reactFiber$"+ti,ua="__reactProps$"+ti,Yr="__reactContainer$"+ti,Xd="__reactEvents$"+ti,RC="__reactListeners$"+ti,AC="__reactHandles$"+ti;function cs(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dm(e);e!==null;){if(r=e[Nr])return r;e=Dm(e)}return t}e=r,r=e.parentNode}return null}function Ra(e){return e=e[Nr]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function go(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Dc(e){return e[ua]||null}var Zd=[],vo=-1;function Wn(e){return{current:e}}function Te(e){0>vo||(e.current=Zd[vo],Zd[vo]=null,vo--)}function je(e,t){vo++,Zd[vo]=e.current,e.current=t}var Ln={},at=Wn(Ln),bt=Wn(!1),Ss=Ln;function zo(e,t){var r=e.type.contextTypes;if(!r)return Ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function tc(){Te(bt),Te(at)}function $m(e,t,r){if(at.current!==Ln)throw Error(L(168));je(at,t),je(bt,r)}function dw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,vE(e)||"Unknown",s));return $e({},r,n)}function rc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Ss=at.current,je(at,e),je(bt,bt.current),!0}function Mm(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=dw(e,t,Ss),n.__reactInternalMemoizedMergedChildContext=e,Te(bt),Te(at),je(at,e)):Te(bt),je(bt,r)}var zr=null,$c=!1,zu=!1;function fw(e){zr===null?zr=[e]:zr.push(e)}function IC(e){$c=!0,fw(e)}function qn(){if(!zu&&zr!==null){zu=!0;var e=0,t=Ee;try{var r=zr;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zr=null,$c=!1}catch(s){throw zr!==null&&(zr=zr.slice(e+1)),My(vh,qn),s}finally{Ee=t,zu=!1}}return null}var yo=[],wo=0,nc=null,sc=0,Ut=[],Bt=0,Es=null,qr=1,Vr="";function ns(e,t){yo[wo++]=sc,yo[wo++]=nc,nc=e,sc=t}function hw(e,t,r){Ut[Bt++]=qr,Ut[Bt++]=Vr,Ut[Bt++]=Es,Es=e;var n=qr;e=Vr;var s=32-hr(n)-1;n&=~(1<<s),r+=1;var o=32-hr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,qr=1<<32-hr(t)+s|r<<s|n,Vr=o+e}else qr=1<<o|r<<s|n,Vr=e}function kh(e){e.return!==null&&(ns(e,1),hw(e,1,0))}function jh(e){for(;e===nc;)nc=yo[--wo],yo[wo]=null,sc=yo[--wo],yo[wo]=null;for(;e===Es;)Es=Ut[--Bt],Ut[Bt]=null,Vr=Ut[--Bt],Ut[Bt]=null,qr=Ut[--Bt],Ut[Bt]=null}var Ot=null,Tt=null,Re=!1,fr=null;function pw(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Tt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Es!==null?{id:qr,overflow:Vr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,Tt=null,!0):!1;default:return!1}}function ef(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tf(e){if(Re){var t=Tt;if(t){var r=t;if(!Lm(e,t)){if(ef(e))throw Error(L(418));t=On(r.nextSibling);var n=Ot;t&&Lm(e,t)?pw(n,r):(e.flags=e.flags&-4097|2,Re=!1,Ot=e)}}else{if(ef(e))throw Error(L(418));e.flags=e.flags&-4097|2,Re=!1,Ot=e}}}function Fm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function nl(e){if(e!==Ot)return!1;if(!Re)return Fm(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yd(e.type,e.memoizedProps)),t&&(t=Tt)){if(ef(e))throw mw(),Error(L(418));for(;t;)pw(e,t),t=On(t.nextSibling)}if(Fm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=On(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Ot?On(e.stateNode.nextSibling):null;return!0}function mw(){for(var e=Tt;e;)e=On(e.nextSibling)}function Wo(){Tt=Ot=null,Re=!1}function Nh(e){fr===null?fr=[e]:fr.push(e)}var DC=rn.ReactCurrentBatchConfig;function ki(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Um(e){var t=e._init;return t(e._payload)}function gw(e){function t(v,w){if(e){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Dn(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,_){return w===null||w.tag!==6?(w=Qu(x,v.mode,_),w.return=v,w):(w=s(w,x),w.return=v,w)}function c(v,w,x,_){var S=x.type;return S===fo?d(v,w,x.props.children,_,x.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mn&&Um(S)===w.type)?(_=s(w,x.props),_.ref=ki(v,w,x),_.return=v,_):(_=Fl(x.type,x.key,x.props,null,v.mode,_),_.ref=ki(v,w,x),_.return=v,_)}function u(v,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Yu(x,v.mode,_),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function d(v,w,x,_,S){return w===null||w.tag!==7?(w=xs(x,v.mode,_,S),w.return=v,w):(w=s(w,x),w.return=v,w)}function f(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qu(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ka:return x=Fl(w.type,w.key,w.props,null,v.mode,x),x.ref=ki(v,null,w),x.return=v,x;case uo:return w=Yu(w,v.mode,x),w.return=v,w;case mn:var _=w._init;return f(v,_(w._payload),x)}if($i(w)||bi(w))return w=xs(w,v.mode,x,null),w.return=v,w;sl(v,w)}return null}function g(v,w,x,_){var S=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ka:return x.key===S?c(v,w,x,_):null;case uo:return x.key===S?u(v,w,x,_):null;case mn:return S=x._init,g(v,w,S(x._payload),_)}if($i(x)||bi(x))return S!==null?null:d(v,w,x,_,null);sl(v,x)}return null}function p(v,w,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,a(w,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ka:return v=v.get(_.key===null?x:_.key)||null,c(w,v,_,S);case uo:return v=v.get(_.key===null?x:_.key)||null,u(w,v,_,S);case mn:var E=_._init;return p(v,w,x,E(_._payload),S)}if($i(_)||bi(_))return v=v.get(x)||null,d(w,v,_,S,null);sl(w,_)}return null}function b(v,w,x,_){for(var S=null,E=null,C=w,j=w=0,O=null;C!==null&&j<x.length;j++){C.index>j?(O=C,C=null):O=C.sibling;var A=g(v,C,x[j],_);if(A===null){C===null&&(C=O);break}e&&C&&A.alternate===null&&t(v,C),w=o(A,w,j),E===null?S=A:E.sibling=A,E=A,C=O}if(j===x.length)return r(v,C),Re&&ns(v,j),S;if(C===null){for(;j<x.length;j++)C=f(v,x[j],_),C!==null&&(w=o(C,w,j),E===null?S=C:E.sibling=C,E=C);return Re&&ns(v,j),S}for(C=n(v,C);j<x.length;j++)O=p(C,v,j,x[j],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?j:O.key),w=o(O,w,j),E===null?S=O:E.sibling=O,E=O);return e&&C.forEach(function(K){return t(v,K)}),Re&&ns(v,j),S}function m(v,w,x,_){var S=bi(x);if(typeof S!="function")throw Error(L(150));if(x=S.call(x),x==null)throw Error(L(151));for(var E=S=null,C=w,j=w=0,O=null,A=x.next();C!==null&&!A.done;j++,A=x.next()){C.index>j?(O=C,C=null):O=C.sibling;var K=g(v,C,A.value,_);if(K===null){C===null&&(C=O);break}e&&C&&K.alternate===null&&t(v,C),w=o(K,w,j),E===null?S=K:E.sibling=K,E=K,C=O}if(A.done)return r(v,C),Re&&ns(v,j),S;if(C===null){for(;!A.done;j++,A=x.next())A=f(v,A.value,_),A!==null&&(w=o(A,w,j),E===null?S=A:E.sibling=A,E=A);return Re&&ns(v,j),S}for(C=n(v,C);!A.done;j++,A=x.next())A=p(C,v,j,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?j:A.key),w=o(A,w,j),E===null?S=A:E.sibling=A,E=A);return e&&C.forEach(function(B){return t(v,B)}),Re&&ns(v,j),S}function y(v,w,x,_){if(typeof x=="object"&&x!==null&&x.type===fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ka:e:{for(var S=x.key,E=w;E!==null;){if(E.key===S){if(S=x.type,S===fo){if(E.tag===7){r(v,E.sibling),w=s(E,x.props.children),w.return=v,v=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mn&&Um(S)===E.type){r(v,E.sibling),w=s(E,x.props),w.ref=ki(v,E,x),w.return=v,v=w;break e}r(v,E);break}else t(v,E);E=E.sibling}x.type===fo?(w=xs(x.props.children,v.mode,_,x.key),w.return=v,v=w):(_=Fl(x.type,x.key,x.props,null,v.mode,_),_.ref=ki(v,w,x),_.return=v,v=_)}return i(v);case uo:e:{for(E=x.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=Yu(x,v.mode,_),w.return=v,v=w}return i(v);case mn:return E=x._init,y(v,w,E(x._payload),_)}if($i(x))return b(v,w,x,_);if(bi(x))return m(v,w,x,_);sl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(v,w.sibling),w=s(w,x),w.return=v,v=w):(r(v,w),w=Qu(x,v.mode,_),w.return=v,v=w),i(v)):r(v,w)}return y}var qo=gw(!0),vw=gw(!1),oc=Wn(null),ic=null,xo=null,Ph=null;function Th(){Ph=xo=ic=null}function Oh(e){var t=oc.current;Te(oc),e._currentValue=t}function rf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jo(e,t){ic=e,Ph=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Ph!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(ic===null)throw Error(L(308));xo=e,ic.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var us=null;function Rh(e){us===null?us=[e]:us.push(e)}function yw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Rh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jr(e,n)}function Jr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gn=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Jr(e,r)}return s=n.interleaved,s===null?(t.next=t,Rh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Jr(e,r)}function Al(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yh(e,r)}}function Bm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ac(e,t,r,n){var s=e.updateQueue;gn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var g=a.lane,p=a.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,m=a;switch(g=t,p=r,m.tag){case 1:if(b=m.payload,typeof b=="function"){f=b.call(p,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,g=typeof b=="function"?b.call(p,f,g):b,g==null)break e;f=$e({},f,g);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ks|=i,e.lanes=i,e.memoizedState=f}}function zm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Aa={},Ar=Wn(Aa),da=Wn(Aa),fa=Wn(Aa);function ds(e){if(e===Aa)throw Error(L(174));return e}function Ih(e,t){switch(je(fa,t),je(da,e),je(Ar,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$d(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$d(t,e)}Te(Ar),je(Ar,t)}function Vo(){Te(Ar),Te(da),Te(fa)}function xw(e){ds(fa.current);var t=ds(Ar.current),r=$d(t,e.type);t!==r&&(je(da,e),je(Ar,r))}function Dh(e){da.current===e&&(Te(Ar),Te(da))}var Ie=Wn(0);function lc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wu=[];function $h(){for(var e=0;e<Wu.length;e++)Wu[e]._workInProgressVersionPrimary=null;Wu.length=0}var Il=rn.ReactCurrentDispatcher,qu=rn.ReactCurrentBatchConfig,Cs=0,De=null,Ve=null,Ke=null,cc=!1,Hi=!1,ha=0,$C=0;function nt(){throw Error(L(321))}function Mh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function Lh(e,t,r,n,s,o){if(Cs=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Il.current=e===null||e.memoizedState===null?UC:BC,e=r(n,s),Hi){o=0;do{if(Hi=!1,ha=0,25<=o)throw Error(L(301));o+=1,Ke=Ve=null,t.updateQueue=null,Il.current=zC,e=r(n,s)}while(Hi)}if(Il.current=uc,t=Ve!==null&&Ve.next!==null,Cs=0,Ke=Ve=De=null,cc=!1,t)throw Error(L(300));return e}function Fh(){var e=ha!==0;return ha=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?De.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ht(){if(Ve===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?De.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(L(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?De.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function pa(e,t){return typeof t=="function"?t(e):t}function Vu(e){var t=Ht(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ve,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Cs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,De.lanes|=d,ks|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,mr(n,t.memoizedState)||(wt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,De.lanes|=o,ks|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hu(e){var t=Ht(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);mr(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function bw(){}function _w(e,t){var r=De,n=Ht(),s=t(),o=!mr(n.memoizedState,s);if(o&&(n.memoizedState=s,wt=!0),n=n.queue,Uh(Cw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,ma(9,Ew.bind(null,r,n,s,t),void 0,null),Qe===null)throw Error(L(349));Cs&30||Sw(r,t,s)}return s}function Sw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ew(e,t,r,n){t.value=r,t.getSnapshot=n,kw(t)&&jw(e)}function Cw(e,t,r){return r(function(){kw(t)&&jw(e)})}function kw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function jw(e){var t=Jr(e,1);t!==null&&pr(t,e,1,-1)}function Wm(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=FC.bind(null,De,e),[t.memoizedState,e]}function ma(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Nw(){return Ht().memoizedState}function Dl(e,t,r,n){var s=Er();De.flags|=e,s.memoizedState=ma(1|t,r,void 0,n===void 0?null:n)}function Mc(e,t,r,n){var s=Ht();n=n===void 0?null:n;var o=void 0;if(Ve!==null){var i=Ve.memoizedState;if(o=i.destroy,n!==null&&Mh(n,i.deps)){s.memoizedState=ma(t,r,o,n);return}}De.flags|=e,s.memoizedState=ma(1|t,r,o,n)}function qm(e,t){return Dl(8390656,8,e,t)}function Uh(e,t){return Mc(2048,8,e,t)}function Pw(e,t){return Mc(4,2,e,t)}function Tw(e,t){return Mc(4,4,e,t)}function Ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rw(e,t,r){return r=r!=null?r.concat([e]):null,Mc(4,4,Ow.bind(null,t,e),r)}function Bh(){}function Aw(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Iw(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dw(e,t,r){return Cs&21?(mr(r,t)||(r=Uy(),De.lanes|=r,ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=r)}function MC(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=qu.transition;qu.transition={};try{e(!1),t()}finally{Ee=r,qu.transition=n}}function $w(){return Ht().memoizedState}function LC(e,t,r){var n=In(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mw(e))Lw(t,r);else if(r=yw(e,t,r,n),r!==null){var s=ht();pr(r,e,n,s),Fw(r,t,n)}}function FC(e,t,r){var n=In(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mw(e))Lw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,mr(a,i)){var c=t.interleaved;c===null?(s.next=s,Rh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=yw(e,t,s,n),r!==null&&(s=ht(),pr(r,e,n,s),Fw(r,t,n))}}function Mw(e){var t=e.alternate;return e===De||t!==null&&t===De}function Lw(e,t){Hi=cc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yh(e,r)}}var uc={readContext:Vt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},UC={readContext:Vt,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:qm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dl(4194308,4,Ow.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var r=Er();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Er();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LC.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:Bh,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=MC.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,s=Er();if(Re){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Qe===null)throw Error(L(349));Cs&30||Sw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,qm(Cw.bind(null,n,o,e),[e]),n.flags|=2048,ma(9,Ew.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Er(),t=Qe.identifierPrefix;if(Re){var r=Vr,n=qr;r=(n&~(1<<32-hr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ha++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$C++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BC={readContext:Vt,useCallback:Aw,useContext:Vt,useEffect:Uh,useImperativeHandle:Rw,useInsertionEffect:Pw,useLayoutEffect:Tw,useMemo:Iw,useReducer:Vu,useRef:Nw,useState:function(){return Vu(pa)},useDebugValue:Bh,useDeferredValue:function(e){var t=Ht();return Dw(t,Ve.memoizedState,e)},useTransition:function(){var e=Vu(pa)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:bw,useSyncExternalStore:_w,useId:$w,unstable_isNewReconciler:!1},zC={readContext:Vt,useCallback:Aw,useContext:Vt,useEffect:Uh,useImperativeHandle:Rw,useInsertionEffect:Pw,useLayoutEffect:Tw,useMemo:Iw,useReducer:Hu,useRef:Nw,useState:function(){return Hu(pa)},useDebugValue:Bh,useDeferredValue:function(e){var t=Ht();return Ve===null?t.memoizedState=e:Dw(t,Ve.memoizedState,e)},useTransition:function(){var e=Hu(pa)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:bw,useSyncExternalStore:_w,useId:$w,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lc={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ht(),s=In(e),o=Hr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(pr(t,e,s,n),Al(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ht(),s=In(e),o=Hr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(pr(t,e,s,n),Al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),n=In(e),s=Hr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,n),t!==null&&(pr(t,e,n,r),Al(t,e,n))}};function Vm(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!aa(r,n)||!aa(s,o):!0}function Uw(e,t,r){var n=!1,s=Ln,o=t.contextType;return typeof o=="object"&&o!==null?o=Vt(o):(s=_t(t)?Ss:at.current,n=t.contextTypes,o=(n=n!=null)?zo(e,s):Ln),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Hm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function sf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ah(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Vt(o):(o=_t(t)?Ss:at.current,s.context=zo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lc.enqueueReplaceState(s,s.state,null),ac(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var r="",n=t;do r+=gE(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ku(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function of(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WC=typeof WeakMap=="function"?WeakMap:Map;function Bw(e,t,r){r=Hr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fc||(fc=!0,gf=n),of(e,t)},r}function zw(e,t,r){r=Hr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){of(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){of(e,t),typeof n!="function"&&(An===null?An=new Set([this]):An.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Km(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=nk.bind(null,e,t,r),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hr(-1,1),t.tag=2,Rn(r,t,1))),r.lanes|=1),e)}var qC=rn.ReactCurrentOwner,wt=!1;function ut(e,t,r,n){t.child=e===null?vw(t,null,r,n):qo(t,e.child,r,n)}function Ym(e,t,r,n,s){r=r.render;var o=t.ref;return jo(t,s),n=Lh(e,t,r,n,o,s),r=Fh(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(Re&&r&&kh(t),t.flags|=1,ut(e,t,n,s),t.child)}function Jm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Qh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ww(e,t,o,n,s)):(e=Fl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:aa,r(i,n)&&e.ref===t.ref)return Xr(e,t,s)}return t.flags|=1,e=Dn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ww(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(aa(o,n)&&e.ref===t.ref)if(wt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,Xr(e,t,s)}return af(e,t,r,n,s)}function qw(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(_o,kt),kt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(_o,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,je(_o,kt),kt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,je(_o,kt),kt|=n;return ut(e,t,s,r),t.child}function Vw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function af(e,t,r,n,s){var o=_t(r)?Ss:at.current;return o=zo(t,o),jo(t,s),r=Lh(e,t,r,n,o,s),n=Fh(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(Re&&n&&kh(t),t.flags|=1,ut(e,t,r,s),t.child)}function Xm(e,t,r,n,s){if(_t(r)){var o=!0;rc(t)}else o=!1;if(jo(t,s),t.stateNode===null)$l(e,t),Uw(t,r,n),sf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=_t(r)?Ss:at.current,u=zo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Hm(t,i,n,u),gn=!1;var g=t.memoizedState;i.state=g,ac(t,n,i,s),c=t.memoizedState,a!==n||g!==c||bt.current||gn?(typeof d=="function"&&(nf(t,r,d,n),c=t.memoizedState),(a=gn||Vm(t,r,a,n,g,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ww(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:or(t.type,a),i.props=u,f=t.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=_t(r)?Ss:at.current,c=zo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||g!==c)&&Hm(t,i,n,c),gn=!1,g=t.memoizedState,i.state=g,ac(t,n,i,s);var b=t.memoizedState;a!==f||g!==b||bt.current||gn?(typeof p=="function"&&(nf(t,r,p,n),b=t.memoizedState),(u=gn||Vm(t,r,u,n,g,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return lf(e,t,r,n,o,s)}function lf(e,t,r,n,s,o){Vw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Mm(t,r,!1),Xr(e,t,o);n=t.stateNode,qC.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=qo(t,e.child,null,o),t.child=qo(t,null,a,o)):ut(e,t,a,o),t.memoizedState=n.state,s&&Mm(t,r,!0),t.child}function Hw(e){var t=e.stateNode;t.pendingContext?$m(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$m(e,t.context,!1),Ih(e,t.containerInfo)}function Zm(e,t,r,n,s){return Wo(),Nh(s),t.flags|=256,ut(e,t,r,n),t.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function uf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kw(e,t,r){var n=t.pendingProps,s=Ie.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ie,s&1),e===null)return tf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Bc(i,n,0,null),e=xs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=uf(r),t.memoizedState=cf,e):zh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VC(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Dn(a,o):(o=xs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?uf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=cf,n}return o=e.child,e=o.sibling,n=Dn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zh(e,t){return t=Bc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,r,n){return n!==null&&Nh(n),qo(t,e.child,null,r),e=zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VC(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Ku(Error(L(422))),ol(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Bc({mode:"visible",children:n.children},s,0,null),o=xs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&qo(t,e.child,null,i),t.child.memoizedState=uf(i),t.memoizedState=cf,o);if(!(t.mode&1))return ol(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=Ku(o,n,void 0),ol(e,t,i,n)}if(a=(i&e.childLanes)!==0,wt||a){if(n=Qe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Jr(e,s),pr(n,e,s,-1))}return Gh(),n=Ku(Error(L(421))),ol(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Tt=On(s.nextSibling),Ot=t,Re=!0,fr=null,e!==null&&(Ut[Bt++]=qr,Ut[Bt++]=Vr,Ut[Bt++]=Es,qr=e.id,Vr=e.overflow,Es=t),t=zh(t,n.children),t.flags|=4096,t)}function eg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rf(e.return,t,r)}function Gu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Gw(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(ut(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eg(e,r,t);else if(e.tag===19)eg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&lc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gu(t,!0,r,null,o);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Dn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HC(e,t,r){switch(t.tag){case 3:Hw(t),Wo();break;case 5:xw(t);break;case 1:_t(t.type)&&rc(t);break;case 4:Ih(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(oc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Kw(e,t,r):(je(Ie,Ie.current&1),e=Xr(e,t,r),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Gw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,qw(e,t,r)}return Xr(e,t,r)}var Qw,df,Yw,Jw;Qw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};df=function(){};Yw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ds(Ar.current);var o=null;switch(r){case"input":s=Rd(e,s),n=Rd(e,n),o=[];break;case"select":s=$e({},s,{value:void 0}),n=$e({},n,{value:void 0}),o=[];break;case"textarea":s=Dd(e,s),n=Dd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ec)}Md(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Jw=function(e,t,r,n){r!==n&&(t.flags|=4)};function ji(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function KC(e,t,r){var n=t.pendingProps;switch(jh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return _t(t.type)&&tc(),st(t),null;case 3:return n=t.stateNode,Vo(),Te(bt),Te(at),$h(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(wf(fr),fr=null))),df(e,t),st(t),null;case 5:Dh(t);var s=ds(fa.current);if(r=t.type,e!==null&&t.stateNode!=null)Yw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return st(t),null}if(e=ds(Ar.current),nl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Nr]=t,n[ua]=o,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(s=0;s<Li.length;s++)Pe(Li[s],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":cm(n,o),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",n);break;case"textarea":dm(n,o),Pe("invalid",n)}Md(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&rl(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rl(n.textContent,a,e),s=["children",""+a]):ea.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Pe("scroll",n)}switch(r){case"input":Ga(n),um(n,o,!0);break;case"textarea":Ga(n),fm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ec)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Nr]=t,e[ua]=n,Qw(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ld(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),s=n;break;case"iframe":case"object":case"embed":Pe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Li.length;s++)Pe(Li[s],e);s=n;break;case"source":Pe("error",e),s=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=n;break;case"details":Pe("toggle",e),s=n;break;case"input":cm(e,n),s=Rd(e,n),Pe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=$e({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":dm(e,n),s=Dd(e,n),Pe("invalid",e);break;default:s=n}Md(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Ny(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ky(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ta(e,c):typeof c=="number"&&ta(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Pe("scroll",e):c!=null&&fh(e,o,c,i))}switch(r){case"input":Ga(e),um(e,n,!1);break;case"textarea":Ga(e),fm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?So(e,!!n.multiple,o,!1):n.defaultValue!=null&&So(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ec)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Jw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=ds(fa.current),ds(Ar.current),nl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nr]=t,(o=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:rl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=t,t.stateNode=n}return st(t),null;case 13:if(Te(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Tt!==null&&t.mode&1&&!(t.flags&128))mw(),Wo(),t.flags|=98560,o=!1;else if(o=nl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Nr]=t}else Wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),o=!1}else fr!==null&&(wf(fr),fr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?He===0&&(He=3):Gh())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Vo(),df(e,t),e===null&&la(t.stateNode.containerInfo),st(t),null;case 10:return Oh(t.type._context),st(t),null;case 17:return _t(t.type)&&tc(),st(t),null;case 19:if(Te(Ie),o=t.memoizedState,o===null)return st(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)ji(o,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=lc(e),i!==null){for(t.flags|=128,ji(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Ko&&(t.flags|=128,n=!0,ji(o,!1),t.lanes=4194304)}else{if(!n)if(e=lc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ji(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return st(t),null}else 2*Fe()-o.renderingStartTime>Ko&&r!==1073741824&&(t.flags|=128,n=!0,ji(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,r=Ie.current,je(Ie,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return Kh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function GC(e,t){switch(jh(t),t.tag){case 1:return _t(t.type)&&tc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vo(),Te(bt),Te(at),$h(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dh(t),null;case 13:if(Te(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ie),null;case 4:return Vo(),null;case 10:return Oh(t.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var il=!1,it=!1,QC=typeof WeakSet=="function"?WeakSet:Set,G=null;function bo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function ff(e,t,r){try{r()}catch(n){Le(e,t,n)}}var tg=!1;function YC(e,t){if(Gd=Jl,e=rw(),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===e)break t;if(g===r&&++u===s&&(a=i),g===o&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qd={focusedElem:e,selectionRange:r},Jl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,y=b.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:or(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Le(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=tg,tg=!1,b}function Ki(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ff(t,r,o)}s=s.next}while(s!==n)}}function Fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xw(e){var t=e.alternate;t!==null&&(e.alternate=null,Xw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[ua],delete t[Xd],delete t[RC],delete t[AC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zw(e){return e.tag===5||e.tag===3||e.tag===4}function rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ec));else if(n!==4&&(e=e.child,e!==null))for(pf(e,t,r),e=e.sibling;e!==null;)pf(e,t,r),e=e.sibling}function mf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mf(e,t,r),e=e.sibling;e!==null;)mf(e,t,r),e=e.sibling}var Ye=null,ur=!1;function ln(e,t,r){for(r=r.child;r!==null;)e0(e,t,r),r=r.sibling}function e0(e,t,r){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Oc,r)}catch{}switch(r.tag){case 5:it||bo(r,t);case 6:var n=Ye,s=ur;Ye=null,ln(e,t,r),Ye=n,ur=s,Ye!==null&&(ur?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(ur?(e=Ye,r=r.stateNode,e.nodeType===8?Bu(e.parentNode,r):e.nodeType===1&&Bu(e,r),oa(e)):Bu(Ye,r.stateNode));break;case 4:n=Ye,s=ur,Ye=r.stateNode.containerInfo,ur=!0,ln(e,t,r),Ye=n,ur=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ff(r,t,i),s=s.next}while(s!==n)}ln(e,t,r);break;case 1:if(!it&&(bo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Le(r,t,a)}ln(e,t,r);break;case 21:ln(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,ln(e,t,r),it=n):ln(e,t,r);break;default:ln(e,t,r)}}function ng(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QC),t.forEach(function(n){var s=ok.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,ur=!1;break e;case 3:Ye=a.stateNode.containerInfo,ur=!0;break e;case 4:Ye=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ye===null)throw Error(L(160));e0(o,i,s),Ye=null,ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t0(t,e),t=t.sibling}function t0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),Sr(e),n&4){try{Ki(3,e,e.return),Fc(3,e)}catch(m){Le(e,e.return,m)}try{Ki(5,e,e.return)}catch(m){Le(e,e.return,m)}}break;case 1:er(t,e),Sr(e),n&512&&r!==null&&bo(r,r.return);break;case 5:if(er(t,e),Sr(e),n&512&&r!==null&&bo(r,r.return),e.flags&32){var s=e.stateNode;try{ta(s,"")}catch(m){Le(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Sy(s,o),Ld(a,i);var u=Ld(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Ny(s,f):d==="dangerouslySetInnerHTML"?ky(s,f):d==="children"?ta(s,f):fh(s,d,f,u)}switch(a){case"input":Ad(s,o);break;case"textarea":Ey(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?So(s,!!o.multiple,p,!1):g!==!!o.multiple&&(o.defaultValue!=null?So(s,!!o.multiple,o.defaultValue,!0):So(s,!!o.multiple,o.multiple?[]:"",!1))}s[ua]=o}catch(m){Le(e,e.return,m)}}break;case 6:if(er(t,e),Sr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){Le(e,e.return,m)}}break;case 3:if(er(t,e),Sr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(m){Le(e,e.return,m)}break;case 4:er(t,e),Sr(e);break;case 13:er(t,e),Sr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Vh=Fe())),n&4&&ng(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,er(t,e),it=u):er(t,e),Sr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(g=G,p=g.child,g.tag){case 0:case 11:case 14:case 15:Ki(4,g,g.return);break;case 1:bo(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){Le(n,r,m)}}break;case 5:bo(g,g.return);break;case 22:if(g.memoizedState!==null){og(f);continue}}p!==null?(p.return=g,G=p):og(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jy("display",i))}catch(m){Le(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Le(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(t,e),Sr(e),n&4&&ng(e);break;case 21:break;default:er(t,e),Sr(e)}}function Sr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zw(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ta(s,""),n.flags&=-33);var o=rg(e);mf(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=rg(e);pf(e,a,i);break;default:throw Error(L(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JC(e,t,r){G=e,r0(e)}function r0(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||il;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||it;a=il;var u=it;if(il=i,(it=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?ig(s):c!==null?(c.return=i,G=c):ig(s);for(;o!==null;)G=o,r0(o),o=o.sibling;G=s,il=a,it=u}sg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):sg(e)}}function sg(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Fc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:or(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zm(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}it||t.flags&512&&hf(t)}catch(g){Le(t,t.return,g)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function og(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function ig(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fc(4,t)}catch(c){Le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Le(t,s,c)}}var o=t.return;try{hf(t)}catch(c){Le(t,o,c)}break;case 5:var i=t.return;try{hf(t)}catch(c){Le(t,i,c)}}}catch(c){Le(t,t.return,c)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var XC=Math.ceil,dc=rn.ReactCurrentDispatcher,Wh=rn.ReactCurrentOwner,qt=rn.ReactCurrentBatchConfig,ye=0,Qe=null,ze=null,Xe=0,kt=0,_o=Wn(0),He=0,ga=null,ks=0,Uc=0,qh=0,Gi=null,yt=null,Vh=0,Ko=1/0,Ur=null,fc=!1,gf=null,An=null,al=!1,kn=null,hc=0,Qi=0,vf=null,Ml=-1,Ll=0;function ht(){return ye&6?Fe():Ml!==-1?Ml:Ml=Fe()}function In(e){return e.mode&1?ye&2&&Xe!==0?Xe&-Xe:DC.transition!==null?(Ll===0&&(Ll=Uy()),Ll):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Ky(e.type)),e):1}function pr(e,t,r,n){if(50<Qi)throw Qi=0,vf=null,Error(L(185));Ta(e,r,n),(!(ye&2)||e!==Qe)&&(e===Qe&&(!(ye&2)&&(Uc|=r),He===4&&yn(e,Xe)),St(e,n),r===1&&ye===0&&!(t.mode&1)&&(Ko=Fe()+500,$c&&qn()))}function St(e,t){var r=e.callbackNode;DE(e,t);var n=Yl(e,e===Qe?Xe:0);if(n===0)r!==null&&mm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mm(r),t===1)e.tag===0?IC(ag.bind(null,e)):fw(ag.bind(null,e)),TC(function(){!(ye&6)&&qn()}),r=null;else{switch(By(n)){case 1:r=vh;break;case 4:r=Ly;break;case 16:r=Ql;break;case 536870912:r=Fy;break;default:r=Ql}r=u0(r,n0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function n0(e,t){if(Ml=-1,Ll=0,ye&6)throw Error(L(327));var r=e.callbackNode;if(No()&&e.callbackNode!==r)return null;var n=Yl(e,e===Qe?Xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pc(e,n);else{t=n;var s=ye;ye|=2;var o=o0();(Qe!==e||Xe!==t)&&(Ur=null,Ko=Fe()+500,ws(e,t));do try{tk();break}catch(a){s0(e,a)}while(!0);Th(),dc.current=o,ye=s,ze!==null?t=0:(Qe=null,Xe=0,t=He)}if(t!==0){if(t===2&&(s=Wd(e),s!==0&&(n=s,t=yf(e,s))),t===1)throw r=ga,ws(e,0),yn(e,n),St(e,Fe()),r;if(t===6)yn(e,n);else{if(s=e.current.alternate,!(n&30)&&!ZC(s)&&(t=pc(e,n),t===2&&(o=Wd(e),o!==0&&(n=o,t=yf(e,o))),t===1))throw r=ga,ws(e,0),yn(e,n),St(e,Fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:ss(e,yt,Ur);break;case 3:if(yn(e,n),(n&130023424)===n&&(t=Vh+500-Fe(),10<t)){if(Yl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jd(ss.bind(null,e,yt,Ur),t);break}ss(e,yt,Ur);break;case 4:if(yn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-hr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XC(n/1960))-n,10<n){e.timeoutHandle=Jd(ss.bind(null,e,yt,Ur),n);break}ss(e,yt,Ur);break;case 5:ss(e,yt,Ur);break;default:throw Error(L(329))}}}return St(e,Fe()),e.callbackNode===r?n0.bind(null,e):null}function yf(e,t){var r=Gi;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=pc(e,t),e!==2&&(t=yt,yt=r,t!==null&&wf(t)),e}function wf(e){yt===null?yt=e:yt.push.apply(yt,e)}function ZC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!mr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~qh,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hr(t),n=1<<r;e[r]=-1,t&=~n}}function ag(e){if(ye&6)throw Error(L(327));No();var t=Yl(e,0);if(!(t&1))return St(e,Fe()),null;var r=pc(e,t);if(e.tag!==0&&r===2){var n=Wd(e);n!==0&&(t=n,r=yf(e,n))}if(r===1)throw r=ga,ws(e,0),yn(e,t),St(e,Fe()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,yt,Ur),St(e,Fe()),null}function Hh(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Ko=Fe()+500,$c&&qn())}}function js(e){kn!==null&&kn.tag===0&&!(ye&6)&&No();var t=ye;ye|=1;var r=qt.transition,n=Ee;try{if(qt.transition=null,Ee=1,e)return e()}finally{Ee=n,qt.transition=r,ye=t,!(ye&6)&&qn()}}function Kh(){kt=_o.current,Te(_o)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PC(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(jh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tc();break;case 3:Vo(),Te(bt),Te(at),$h();break;case 5:Dh(n);break;case 4:Vo();break;case 13:Te(Ie);break;case 19:Te(Ie);break;case 10:Oh(n.type._context);break;case 22:case 23:Kh()}r=r.return}if(Qe=e,ze=e=Dn(e.current,null),Xe=kt=t,He=0,ga=null,qh=Uc=ks=0,yt=Gi=null,us!==null){for(t=0;t<us.length;t++)if(r=us[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}us=null}return e}function s0(e,t){do{var r=ze;try{if(Th(),Il.current=uc,cc){for(var n=De.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}cc=!1}if(Cs=0,Ke=Ve=De=null,Hi=!1,ha=0,Wh.current=null,r===null||r.return===null){He=1,ga=t,ze=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Xe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Gm(i);if(p!==null){p.flags&=-257,Qm(p,i,a,o,t),p.mode&1&&Km(o,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var m=new Set;m.add(c),t.updateQueue=m}else b.add(c);break e}else{if(!(t&1)){Km(o,u,t),Gh();break e}c=Error(L(426))}}else if(Re&&a.mode&1){var y=Gm(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Qm(y,i,a,o,t),Nh(Ho(c,a));break e}}o=c=Ho(c,a),He!==4&&(He=2),Gi===null?Gi=[o]:Gi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Bw(o,c,t);Bm(o,v);break e;case 1:a=c;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(An===null||!An.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=zw(o,a,t);Bm(o,_);break e}}o=o.return}while(o!==null)}a0(r)}catch(S){t=S,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function o0(){var e=dc.current;return dc.current=uc,e===null?uc:e}function Gh(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(ks&268435455)&&!(Uc&268435455)||yn(Qe,Xe)}function pc(e,t){var r=ye;ye|=2;var n=o0();(Qe!==e||Xe!==t)&&(Ur=null,ws(e,t));do try{ek();break}catch(s){s0(e,s)}while(!0);if(Th(),ye=r,dc.current=n,ze!==null)throw Error(L(261));return Qe=null,Xe=0,He}function ek(){for(;ze!==null;)i0(ze)}function tk(){for(;ze!==null&&!kE();)i0(ze)}function i0(e){var t=c0(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?a0(e):ze=t,Wh.current=null}function a0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=GC(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,ze=null;return}}else if(r=KC(r,t,kt),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);He===0&&(He=5)}function ss(e,t,r){var n=Ee,s=qt.transition;try{qt.transition=null,Ee=1,rk(e,t,r,n)}finally{qt.transition=s,Ee=n}return null}function rk(e,t,r,n){do No();while(kn!==null);if(ye&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if($E(e,o),e===Qe&&(ze=Qe=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||al||(al=!0,u0(Ql,function(){return No(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var i=Ee;Ee=1;var a=ye;ye|=4,Wh.current=null,YC(e,r),t0(r,e),_C(Qd),Jl=!!Gd,Qd=Gd=null,e.current=r,JC(r),jE(),ye=a,Ee=i,qt.transition=o}else e.current=r;if(al&&(al=!1,kn=e,hc=s),o=e.pendingLanes,o===0&&(An=null),TE(r.stateNode),St(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fc)throw fc=!1,e=gf,gf=null,e;return hc&1&&e.tag!==0&&No(),o=e.pendingLanes,o&1?e===vf?Qi++:(Qi=0,vf=e):Qi=0,qn(),null}function No(){if(kn!==null){var e=By(hc),t=qt.transition,r=Ee;try{if(qt.transition=null,Ee=16>e?16:e,kn===null)var n=!1;else{if(e=kn,kn=null,hc=0,ye&6)throw Error(L(331));var s=ye;for(ye|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ki(8,d,o)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var g=d.sibling,p=d.return;if(Xw(d),d===u){G=null;break}if(g!==null){g.return=p,G=g;break}G=p}}}var b=o.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ki(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var w=e.current;for(G=w;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fc(9,a)}}catch(S){Le(a,a.return,S)}if(a===i){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(ye=s,qn(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Oc,e)}catch{}n=!0}return n}finally{Ee=r,qt.transition=t}}return!1}function lg(e,t,r){t=Ho(r,t),t=Bw(e,t,1),e=Rn(e,t,1),t=ht(),e!==null&&(Ta(e,1,t),St(e,t))}function Le(e,t,r){if(e.tag===3)lg(e,e,r);else for(;t!==null;){if(t.tag===3){lg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){e=Ho(r,e),e=zw(t,e,1),t=Rn(t,e,1),e=ht(),t!==null&&(Ta(t,1,e),St(t,e));break}}t=t.return}}function nk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(Xe&r)===r&&(He===4||He===3&&(Xe&130023424)===Xe&&500>Fe()-Vh?ws(e,0):qh|=r),St(e,t)}function l0(e,t){t===0&&(e.mode&1?(t=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):t=1);var r=ht();e=Jr(e,t),e!==null&&(Ta(e,t,r),St(e,r))}function sk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),l0(e,r)}function ok(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),l0(e,r)}var c0;c0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return wt=!1,HC(e,t,r);wt=!!(e.flags&131072)}else wt=!1,Re&&t.flags&1048576&&hw(t,sc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$l(e,t),e=t.pendingProps;var s=zo(t,at.current);jo(t,r),s=Lh(null,t,n,e,s,r);var o=Fh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(n)?(o=!0,rc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ah(t),s.updater=Lc,t.stateNode=s,s._reactInternals=t,sf(t,n,e,r),t=lf(null,t,n,!0,o,r)):(t.tag=0,Re&&o&&kh(t),ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch($l(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ak(n),e=or(n,e),s){case 0:t=af(null,t,n,e,r);break e;case 1:t=Xm(null,t,n,e,r);break e;case 11:t=Ym(null,t,n,e,r);break e;case 14:t=Jm(null,t,n,or(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),af(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),Xm(e,t,n,s,r);case 3:e:{if(Hw(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,ww(e,t),ac(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ho(Error(L(423)),t),t=Zm(e,t,n,r,s);break e}else if(n!==s){s=Ho(Error(L(424)),t),t=Zm(e,t,n,r,s);break e}else for(Tt=On(t.stateNode.containerInfo.firstChild),Ot=t,Re=!0,fr=null,r=vw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wo(),n===s){t=Xr(e,t,r);break e}ut(e,t,n,r)}t=t.child}return t;case 5:return xw(t),e===null&&tf(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Yd(n,s)?i=null:o!==null&&Yd(n,o)&&(t.flags|=32),Vw(e,t),ut(e,t,i,r),t.child;case 6:return e===null&&tf(t),null;case 13:return Kw(e,t,r);case 4:return Ih(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qo(t,null,n,r):ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),Ym(e,t,n,s,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,je(oc,n._currentValue),n._currentValue=i,o!==null)if(mr(o.value,i)){if(o.children===s.children&&!bt.current){t=Xr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Hr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),rf(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),rf(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,jo(t,r),s=Vt(s),n=n(s),t.flags|=1,ut(e,t,n,r),t.child;case 14:return n=t.type,s=or(n,t.pendingProps),s=or(n.type,s),Jm(e,t,n,s,r);case 15:return Ww(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),$l(e,t),t.tag=1,_t(n)?(e=!0,rc(t)):e=!1,jo(t,r),Uw(t,n,s),sf(t,n,s,r),lf(null,t,n,!0,e,r);case 19:return Gw(e,t,r);case 22:return qw(e,t,r)}throw Error(L(156,t.tag))};function u0(e,t){return My(e,t)}function ik(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,n){return new ik(e,t,r,n)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ak(e){if(typeof e=="function")return Qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ph)return 11;if(e===mh)return 14}return 2}function Dn(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Qh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fo:return xs(r.children,s,o,t);case hh:i=8,s|=8;break;case Nd:return e=Wt(12,r,t,s|2),e.elementType=Nd,e.lanes=o,e;case Pd:return e=Wt(13,r,t,s),e.elementType=Pd,e.lanes=o,e;case Td:return e=Wt(19,r,t,s),e.elementType=Td,e.lanes=o,e;case xy:return Bc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yy:i=10;break e;case wy:i=9;break e;case ph:i=11;break e;case mh:i=14;break e;case mn:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Wt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function xs(e,t,r,n){return e=Wt(7,e,n,t),e.lanes=r,e}function Bc(e,t,r,n){return e=Wt(22,e,n,t),e.elementType=xy,e.lanes=r,e.stateNode={isHidden:!1},e}function Qu(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function Yu(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yh(e,t,r,n,s,o,i,a,c){return e=new lk(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(o),e}function ck(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function d0(e){if(!e)return Ln;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(_t(r))return dw(e,r,t)}return t}function f0(e,t,r,n,s,o,i,a,c){return e=Yh(r,n,!0,e,s,o,i,a,c),e.context=d0(null),r=e.current,n=ht(),s=In(r),o=Hr(n,s),o.callback=t??null,Rn(r,o,s),e.current.lanes=s,Ta(e,s,n),St(e,n),e}function zc(e,t,r,n){var s=t.current,o=ht(),i=In(s);return r=d0(r),t.context===null?t.context=r:t.pendingContext=r,t=Hr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rn(s,t,i),e!==null&&(pr(e,s,i,o),Al(e,s,i)),i}function mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jh(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function uk(){return null}var h0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xh(e){this._internalRoot=e}Wc.prototype.render=Xh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));zc(e,t,null,null)};Wc.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;js(function(){zc(null,e,null,null)}),t[Yr]=null}};function Wc(e){this._internalRoot=e}Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=qy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vn.length&&t!==0&&t<vn[r].priority;r++);vn.splice(r,0,e),r===0&&Hy(e)}};function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ug(){}function dk(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=mc(i);o.call(u)}}var i=f0(t,n,e,0,null,!1,!1,"",ug);return e._reactRootContainer=i,e[Yr]=i.current,la(e.nodeType===8?e.parentNode:e),js(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=mc(c);a.call(u)}}var c=Yh(e,0,!1,null,null,!1,!1,"",ug);return e._reactRootContainer=c,e[Yr]=c.current,la(e.nodeType===8?e.parentNode:e),js(function(){zc(t,c,r,n)}),c}function Vc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=mc(i);a.call(c)}}zc(t,i,e,s)}else i=dk(r,t,e,s,n);return mc(i)}zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mi(t.pendingLanes);r!==0&&(yh(t,r|1),St(t,Fe()),!(ye&6)&&(Ko=Fe()+500,qn()))}break;case 13:js(function(){var n=Jr(e,1);if(n!==null){var s=ht();pr(n,e,1,s)}}),Jh(e,1)}};wh=function(e){if(e.tag===13){var t=Jr(e,134217728);if(t!==null){var r=ht();pr(t,e,134217728,r)}Jh(e,134217728)}};Wy=function(e){if(e.tag===13){var t=In(e),r=Jr(e,t);if(r!==null){var n=ht();pr(r,e,t,n)}Jh(e,t)}};qy=function(){return Ee};Vy=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};Ud=function(e,t,r){switch(t){case"input":if(Ad(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Dc(n);if(!s)throw Error(L(90));_y(n),Ad(n,s)}}}break;case"textarea":Ey(e,r);break;case"select":t=r.value,t!=null&&So(e,!!r.multiple,t,!1)}};Oy=Hh;Ry=js;var fk={usingClientEntryPoint:!1,Events:[Ra,go,Dc,Py,Ty,Hh]},Ni={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hk={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Oc=ll.inject(hk),Rr=ll}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk;It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(t))throw Error(L(200));return ck(e,t,null,r)};It.createRoot=function(e,t){if(!Zh(e))throw Error(L(299));var r=!1,n="",s=h0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yh(e,1,!1,null,null,r,!1,n,s),e[Yr]=t.current,la(e.nodeType===8?e.parentNode:e),new Xh(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Dy(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return js(e)};It.hydrate=function(e,t,r){if(!qc(t))throw Error(L(200));return Vc(null,e,t,!0,r)};It.hydrateRoot=function(e,t,r){if(!Zh(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=h0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=f0(t,null,e,1,r??null,s,!1,o,i),e[Yr]=t.current,la(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wc(t)};It.render=function(e,t,r){if(!qc(t))throw Error(L(200));return Vc(null,e,t,!1,r)};It.unmountComponentAtNode=function(e){if(!qc(e))throw Error(L(40));return e._reactRootContainer?(js(function(){Vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};It.unstable_batchedUpdates=Hh;It.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qc(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Vc(e,t,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function p0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p0)}catch(e){console.error(e)}}p0(),py.exports=It;var Fs=py.exports;const m0=ty(Fs);var g0,dg=Fs;g0=dg.createRoot,dg.hydrateRoot;const pk=1,mk=1e6;let Ju=0;function gk(){return Ju=(Ju+1)%Number.MAX_SAFE_INTEGER,Ju.toString()}const Xu=new Map,fg=e=>{if(Xu.has(e))return;const t=setTimeout(()=>{Xu.delete(e),Yi({type:"REMOVE_TOAST",toastId:e})},mk);Xu.set(e,t)},vk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?fg(r):e.toasts.forEach(n=>{fg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ul=[];let Bl={toasts:[]};function Yi(e){Bl=vk(Bl,e),Ul.forEach(t=>{t(Bl)})}function yk({...e}){const t=gk(),r=s=>Yi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Yi({type:"DISMISS_TOAST",toastId:t});return Yi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function wk(){const[e,t]=h.useState(Bl);return h.useEffect(()=>(Ul.push(t),()=>{const r=Ul.indexOf(t);r>-1&&Ul.splice(r,1)}),[e]),{...e,toast:yk,dismiss:r=>Yi({type:"DISMISS_TOAST",toastId:r})}}function J(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function hg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ns(...e){return t=>{let r=!1;const n=e.map(s=>{const o=hg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():hg(e[s],null)}}}}function be(...e){return h.useCallback(Ns(...e),e)}function xk(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function xr(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var v;const{scope:g,children:p,...b}=f,m=((v=g==null?void 0:g[e])==null?void 0:v[c])||a,y=h.useMemo(()=>b,Object.values(b));return l.jsx(m.Provider,{value:y,children:p})};u.displayName=o+"Provider";function d(f,g){var m;const p=((m=g==null?void 0:g[e])==null?void 0:m[c])||a,b=h.useContext(p);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,bk(s,...t)]}function bk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ps(e){const t=Sk(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(Ck);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var _k=Ps("Slot");function Sk(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=jk(s),a=kk(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Ns(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v0=Symbol("radix.slottable");function Ek(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=v0,t}function Ck(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v0}function kk(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function jk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ep(e){const t=e+"CollectionProvider",[r,n]=xr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:v}=m,w=z.useRef(null),x=z.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:v})};i.displayName=t;const a=e+"CollectionSlot",c=Ps(a),u=z.forwardRef((m,y)=>{const{scope:v,children:w}=m,x=o(a,v),_=be(y,x.collectionRef);return l.jsx(c,{ref:_,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",g=Ps(d),p=z.forwardRef((m,y)=>{const{scope:v,children:w,...x}=m,_=z.useRef(null),S=be(y,_),E=o(d,v);return z.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),l.jsx(g,{[f]:"",ref:S,children:w})});p.displayName=d;function b(m){const y=o(e+"CollectionConsumer",m);return z.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((E,C)=>x.indexOf(E.ref.current)-x.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},b,n]}var Nk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ee=Nk.reduce((e,t)=>{const r=Ps(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function y0(e,t){e&&Fs.flushSync(()=>e.dispatchEvent(t))}function Kt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Pk(e,t=globalThis==null?void 0:globalThis.document){const r=Kt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Tk="DismissableLayer",xf="dismissableLayer.update",Ok="dismissableLayer.pointerDownOutside",Rk="dismissableLayer.focusOutside",pg,w0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ri=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(w0),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=be(t,C=>f(C)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),w=d?m.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=v,S=Ik(C=>{const j=C.target,O=[...u.branches].some(A=>A.contains(j));!_||O||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},g),E=Dk(C=>{const j=C.target;[...u.branches].some(A=>A.contains(j))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},g);return Pk(C=>{w===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},g),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),mg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=pg)}},[d,g,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),mg())},[d,u]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(xf,C),()=>document.removeEventListener(xf,C)},[]),l.jsx(ee.div,{...c,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,E.onFocusCapture),onBlurCapture:J(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,S.onPointerDownCapture)})});ri.displayName=Tk;var Ak="DismissableLayerBranch",x0=h.forwardRef((e,t)=>{const r=h.useContext(w0),n=h.useRef(null),s=be(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(ee.div,{...e,ref:s})});x0.displayName=Ak;function Ik(e,t=globalThis==null?void 0:globalThis.document){const r=Kt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){b0(Ok,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Dk(e,t=globalThis==null?void 0:globalThis.document){const r=Kt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&b0(Rk,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mg(){const e=new CustomEvent(xf);document.dispatchEvent(e)}function b0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?y0(s,o):s.dispatchEvent(o)}var $k=ri,Mk=x0,et=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Lk="Portal",Ia=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);et(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?m0.createPortal(l.jsx(ee.div,{...n,ref:t}),i):null});Ia.displayName=Lk;function Fk(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var $r=e=>{const{present:t,children:r}=e,n=Uk(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=be(n.ref,Bk(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};$r.displayName="Presence";function Uk(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=Fk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=cl(n.current);o.current=a==="mounted"?u:"none"},[a]),et(()=>{const u=n.current,d=s.current;if(d!==e){const g=o.current,p=cl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=cl(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=p=>{p.target===t&&(o.current=cl(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function cl(e){return(e==null?void 0:e.animationName)||"none"}function Bk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zk=ch[" useInsertionEffect ".trim().toString()]||et;function Zr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=Wk({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=h.useCallback(d=>{var f;if(a){const g=qk(d)?d(e):d;g!==e&&((f=i.current)==null||f.call(i,g))}else o(d)},[a,e,o,i]);return[c,u]}function Wk({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return zk(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function qk(e){return typeof e=="function"}var _0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vk="VisuallyHidden",Hc=h.forwardRef((e,t)=>l.jsx(ee.span,{...e,ref:t,style:{..._0,...e.style}}));Hc.displayName=Vk;var Hk=Hc,tp="ToastProvider",[rp,Kk,Gk]=ep("Toast"),[S0,sL]=xr("Toast",[Gk]),[Qk,Kc]=S0(tp),E0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${tp}\`. Expected non-empty \`string\`.`),l.jsx(rp.Provider,{scope:t,children:l.jsx(Qk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:i})})};E0.displayName=tp;var C0="ToastViewport",Yk=["F8"],bf="toast.viewportPause",_f="toast.viewportResume",k0=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Yk,label:s="Notifications ({hotkey})",...o}=e,i=Kc(C0,r),a=Kk(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),g=be(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const y=v=>{var x;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),h.useEffect(()=>{const y=c.current,v=f.current;if(b&&y&&v){const w=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(bf);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(_f);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!y.contains(E.relatedTarget)&&x()},S=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",w),y.addEventListener("focusout",_),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:y})=>{const w=a().map(x=>{const _=x.ref.current,S=[_,...cj(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return h.useEffect(()=>{const y=f.current;if(y){const v=w=>{var S,E,C;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const j=document.activeElement,O=w.shiftKey;if(w.target===y&&O){(S=u.current)==null||S.focus();return}const B=m({tabbingDirection:O?"backwards":"forwards"}),X=B.findIndex(M=>M===j);Zu(B.slice(X+1))?w.preventDefault():O?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,m]),l.jsxs(Mk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Sf,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Zu(y)}}),l.jsx(rp.Slot,{scope:r,children:l.jsx(ee.ol,{tabIndex:-1,...o,ref:g})}),b&&l.jsx(Sf,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Zu(y)}})]})});k0.displayName=C0;var j0="ToastFocusProxy",Sf=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Kc(j0,r);return l.jsx(Hc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});Sf.displayName=j0;var Da="Toast",Jk="toast.swipeStart",Xk="toast.swipeMove",Zk="toast.swipeCancel",ej="toast.swipeEnd",N0=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Zr({prop:n,defaultProp:s??!0,onChange:o,caller:Da});return l.jsx($r,{present:r||a,children:l.jsx(nj,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:Kt(e.onPause),onResume:Kt(e.onResume),onSwipeStart:J(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});N0.displayName=Da;var[tj,rj]=S0(Da,{onClose(){}}),nj=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:p,...b}=e,m=Kc(Da,r),[y,v]=h.useState(null),w=be(t,M=>v(M)),x=h.useRef(null),_=h.useRef(null),S=s||m.duration,E=h.useRef(0),C=h.useRef(S),j=h.useRef(0),{onToastAdd:O,onToastRemove:A}=m,K=Kt(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=m.viewport)==null||Y.focus()),i()}),B=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(K,M))},[K]);h.useEffect(()=>{const M=m.viewport;if(M){const Y=()=>{B(C.current),u==null||u()},T=()=>{const W=new Date().getTime()-E.current;C.current=C.current-W,window.clearTimeout(j.current),c==null||c()};return M.addEventListener(bf,T),M.addEventListener(_f,Y),()=>{M.removeEventListener(bf,T),M.removeEventListener(_f,Y)}}},[m.viewport,S,c,u,B]),h.useEffect(()=>{o&&!m.isClosePausedRef.current&&B(S)},[o,S,m.isClosePausedRef,B]),h.useEffect(()=>(O(),()=>A()),[O,A]);const X=h.useMemo(()=>y?D0(y):null,[y]);return m.viewport?l.jsxs(l.Fragment,{children:[X&&l.jsx(sj,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),l.jsx(tj,{scope:r,onClose:K,children:Fs.createPortal(l.jsx(rp.ItemSlot,{scope:r,children:l.jsx($k,{asChild:!0,onEscapeKeyDown:J(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||K(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:J(e.onPointerDown,M=>{M.button===0&&(x.current={x:M.clientX,y:M.clientY})}),onPointerMove:J(e.onPointerMove,M=>{if(!x.current)return;const Y=M.clientX-x.current.x,T=M.clientY-x.current.y,W=!!_.current,P=["left","right"].includes(m.swipeDirection),k=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,I=P?k(0,Y):0,F=P?0:k(0,T),N=M.pointerType==="touch"?10:2,D={x:I,y:F},U={originalEvent:M,delta:D};W?(_.current=D,ul(Xk,f,U,{discrete:!1})):gg(D,m.swipeDirection,N)?(_.current=D,ul(Jk,d,U,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(Y)>N||Math.abs(T)>N)&&(x.current=null)}),onPointerUp:J(e.onPointerUp,M=>{const Y=_.current,T=M.target;if(T.hasPointerCapture(M.pointerId)&&T.releasePointerCapture(M.pointerId),_.current=null,x.current=null,Y){const W=M.currentTarget,P={originalEvent:M,delta:Y};gg(Y,m.swipeDirection,m.swipeThreshold)?ul(ej,p,P,{discrete:!0}):ul(Zk,g,P,{discrete:!0}),W.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),sj=e=>{const{__scopeToast:t,children:r,...n}=e,s=Kc(Da,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return aj(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Ia,{asChild:!0,children:l.jsx(Hc,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},oj="ToastTitle",P0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ee.div,{...n,ref:t})});P0.displayName=oj;var ij="ToastDescription",T0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ee.div,{...n,ref:t})});T0.displayName=ij;var O0="ToastAction",R0=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(I0,{altText:r,asChild:!0,children:l.jsx(np,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${O0}\`. Expected non-empty \`string\`.`),null)});R0.displayName=O0;var A0="ToastClose",np=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=rj(A0,r);return l.jsx(I0,{asChild:!0,children:l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,s.onClose)})})});np.displayName=A0;var I0=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function D0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),lj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...D0(n))}}),t}function ul(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?y0(s,o):s.dispatchEvent(o)}var gg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function aj(e=()=>{}){const t=Kt(e);et(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lj(e){return e.nodeType===e.ELEMENT_NODE}function cj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uj=E0,$0=k0,M0=N0,L0=P0,F0=T0,U0=R0,B0=np;function z0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=z0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function W0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=z0(e))&&(n&&(n+=" "),n+=t);return n}const vg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yg=W0,Gc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return yg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const g=vg(d)||vg(f);return s[u][g]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:g,...p}=d;return Object.entries(p).every(b=>{let[m,y]=b;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...u,f,g]:u},[]);return yg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...fj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:q0("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(hj,{ref:o,iconNode:t,className:q0(`lucide-${dj(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=pe("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=pe("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=pe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=pe("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=pe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ip="-",Dj=e=>{const t=Mj(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(ip);return a[0]===""&&a.length!==1&&a.shift(),J0(a,t)||$j(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},J0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?J0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(ip);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},xg=/^\[(.+)\]$/,$j=e=>{if(xg.test(e)){const t=xg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Mj=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Fj(Object.entries(e.classGroups),r).forEach(([o,i])=>{kf(i,n,o,t)}),n},kf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:bg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(Lj(s)){kf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{kf(i,bg(t,o),r,n)})})},bg=(e,t)=>{let r=e;return t.split(ip).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Lj=e=>e.isThemeGetter,Fj=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,Uj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},X0="!",Bj=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let v=a[y];if(u===0){if(v===s&&(n||a.slice(y,y+o)===t)){c.push(a.slice(d,y)),d=y+o;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const g=c.length===0?a:a.substring(d),p=g.startsWith(X0),b=p?g.substring(1):g,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:i}):i},zj=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Wj=e=>({cache:Uj(e.cacheSize),parseClassName:Bj(e),...Dj(e)}),qj=/\s+/,Vj=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(qj);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(u);let b=!!p,m=n(b?g.substring(0,p):g);if(!m){if(!b){a=u+(a.length>0?" "+a:a);continue}if(m=n(g),!m){a=u+(a.length>0?" "+a:a);continue}b=!1}const y=zj(d).join(":"),v=f?y+X0:y,w=v+m;if(o.includes(w))continue;o.push(w);const x=s(m,b);for(let _=0;_<x.length;++_){const S=x[_];o.push(v+S)}a=u+(a.length>0?" "+a:a)}return a};function Hj(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Z0(t))&&(n&&(n+=" "),n+=r);return n}const Z0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Z0(e[n]))&&(r&&(r+=" "),r+=t);return r};function Kj(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Wj(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=Vj(c,r);return s(c,d),d}return function(){return o(Hj.apply(null,arguments))}}const Ne=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ex=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gj=/^\d+\/\d+$/,Qj=new Set(["px","full","screen"]),Yj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=e=>Po(e)||Qj.has(e)||Gj.test(e),cn=e=>oi(e,"length",lN),Po=e=>!!e&&!Number.isNaN(Number(e)),ed=e=>oi(e,"number",Po),Pi=e=>!!e&&Number.isInteger(Number(e)),tN=e=>e.endsWith("%")&&Po(e.slice(0,-1)),ue=e=>ex.test(e),un=e=>Yj.test(e),rN=new Set(["length","size","percentage"]),nN=e=>oi(e,rN,tx),sN=e=>oi(e,"position",tx),oN=new Set(["image","url"]),iN=e=>oi(e,oN,uN),aN=e=>oi(e,"",cN),Ti=()=>!0,oi=(e,t,r)=>{const n=ex.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},lN=e=>Jj.test(e)&&!Xj.test(e),tx=()=>!1,cN=e=>Zj.test(e),uN=e=>eN.test(e),dN=()=>{const e=Ne("colors"),t=Ne("spacing"),r=Ne("blur"),n=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),g=Ne("gap"),p=Ne("gradientColorStops"),b=Ne("gradientColorStopPositions"),m=Ne("inset"),y=Ne("margin"),v=Ne("opacity"),w=Ne("padding"),x=Ne("saturate"),_=Ne("scale"),S=Ne("sepia"),E=Ne("skew"),C=Ne("space"),j=Ne("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",ue,t],B=()=>[ue,t],X=()=>["",Lr,cn],M=()=>["auto",Po,ue],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ue],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Po,ue];return{cacheSize:500,separator:":",theme:{colors:[Ti],spacing:[Lr,cn],blur:["none","",un,ue],brightness:F(),borderColor:[e],borderRadius:["none","","full",un,ue],borderSpacing:B(),borderWidth:X(),contrast:F(),grayscale:k(),hueRotate:F(),invert:k(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[tN,cn],inset:K(),margin:K(),opacity:F(),padding:B(),saturate:F(),scale:F(),sepia:k(),skew:F(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[un]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ue]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pi,ue]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Pi,ue]}],"grid-cols":[{"grid-cols":[Ti]}],"col-start-end":[{col:["auto",{span:["full",Pi,ue]},ue]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ti]}],"row-start-end":[{row:["auto",{span:[Pi,ue]},ue]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[un]},un]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",un,cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[Ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Po,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,cn]}],"underline-offset":[{"underline-offset":["auto",Lr,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),sN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Lr,ue]}],"outline-w":[{outline:[Lr,cn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lr,cn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",un,aN]}],"shadow-color":[{shadow:[Ti]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",un,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Pi,ue]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lr,cn,ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fN=Kj(dN);function te(...e){return fN(W0(e))}const hN=uj,rx=h.forwardRef(({className:e,...t},r)=>l.jsx($0,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rx.displayName=$0.displayName;const pN=Gc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nx=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(M0,{ref:n,className:te(pN({variant:t}),e),...r}));nx.displayName=M0.displayName;const mN=h.forwardRef(({className:e,...t},r)=>l.jsx(U0,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));mN.displayName=U0.displayName;const sx=h.forwardRef(({className:e,...t},r)=>l.jsx(B0,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Y0,{className:"h-4 w-4"})}));sx.displayName=B0.displayName;const ox=h.forwardRef(({className:e,...t},r)=>l.jsx(L0,{ref:r,className:te("text-sm font-semibold",e),...t}));ox.displayName=L0.displayName;const ix=h.forwardRef(({className:e,...t},r)=>l.jsx(F0,{ref:r,className:te("text-sm opacity-90",e),...t}));ix.displayName=F0.displayName;function gN(){const{toasts:e}=wk();return l.jsxs(hN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(nx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(ox,{children:r}),n&&l.jsx(ix,{children:n})]}),s,l.jsx(sx,{})]},t)}),l.jsx(rx,{})]})}var _g=["light","dark"],vN="(prefers-color-scheme: dark)",yN=h.createContext(void 0),wN={setTheme:e=>{},themes:[]},xN=()=>{var e;return(e=h.useContext(yN))!=null?e:wN};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?_g.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,m=!1,y=!0)=>{let v=i?i[b]:b,w=m?b+"|| ''":`'${v}'`,x="";return s&&y&&!m&&_g.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?m||v?x+=`c.add(${w})`:x+="null":v&&(x+=`d[s](n,${w})`),x},p=e?`!function(){${d}${g(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${vN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var bN=e=>{switch(e){case"success":return EN;case"info":return kN;case"warning":return CN;case"error":return jN;default:return null}},_N=Array(12).fill(0),SN=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},_N.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),EN=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CN=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kN=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jN=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NN=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PN=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},jf=1,TN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(RN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||jf++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new TN,ON=(e,t)=>{let r=(t==null?void 0:t.id)||jf++;return vt.addToast({title:e,...t,id:r}),r},RN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AN=ON,IN=()=>vt.toasts,DN=()=>vt.getActiveToasts(),q=Object.assign(AN,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:IN,getToasts:DN});function $N(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$N(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dl(e){return e.label!==void 0}var MN=3,LN="32px",FN="16px",Sg=4e3,UN=356,BN=14,zN=20,WN=200;function tr(...e){return e.filter(Boolean).join(" ")}function qN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var VN=e=>{var t,r,n,s,o,i,a,c,u,d,f;let{invert:g,toast:p,unstyled:b,interacting:m,setHeights:y,visibleToasts:v,heights:w,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:j,style:O,cancelButtonStyle:A,actionButtonStyle:K,className:B="",descriptionClassName:X="",duration:M,position:Y,gap:T,loadingIcon:W,expandByDefault:P,classNames:k,icons:I,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:N}=e,[D,U]=z.useState(null),[V,re]=z.useState(null),[$,oe]=z.useState(!1),[fe,me]=z.useState(!1),[ve,we]=z.useState(!1),[tt,$t]=z.useState(!1),[Yn,nn]=z.useState(!1),[Jn,wi]=z.useState(0),[Hs,Yp]=z.useState(0),xi=z.useRef(p.duration||M||Sg),Jp=z.useRef(null),Xn=z.useRef(null),IS=x===0,DS=x+1<=v,Mt=p.type,Ks=p.dismissible!==!1,$S=p.className||"",MS=p.descriptionClassName||"",qa=z.useMemo(()=>w.findIndex(ie=>ie.toastId===p.id)||0,[w,p.id]),LS=z.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:j},[p.closeButton,j]),Xp=z.useMemo(()=>p.duration||M||Sg,[p.duration,M]),_u=z.useRef(0),Gs=z.useRef(0),Zp=z.useRef(0),Qs=z.useRef(null),[FS,US]=Y.split("-"),em=z.useMemo(()=>w.reduce((ie,Ce,Oe)=>Oe>=qa?ie:ie+Ce.height,0),[w,qa]),tm=PN(),BS=p.invert||g,Su=Mt==="loading";Gs.current=z.useMemo(()=>qa*T+em,[qa,em]),z.useEffect(()=>{xi.current=Xp},[Xp]),z.useEffect(()=>{oe(!0)},[]),z.useEffect(()=>{let ie=Xn.current;if(ie){let Ce=ie.getBoundingClientRect().height;return Yp(Ce),y(Oe=>[{toastId:p.id,height:Ce,position:p.position},...Oe]),()=>y(Oe=>Oe.filter(Jt=>Jt.toastId!==p.id))}},[y,p.id]),z.useLayoutEffect(()=>{if(!$)return;let ie=Xn.current,Ce=ie.style.height;ie.style.height="auto";let Oe=ie.getBoundingClientRect().height;ie.style.height=Ce,Yp(Oe),y(Jt=>Jt.find(Xt=>Xt.toastId===p.id)?Jt.map(Xt=>Xt.toastId===p.id?{...Xt,height:Oe}:Xt):[{toastId:p.id,height:Oe,position:p.position},...Jt])},[$,p.title,p.description,y,p.id]);let sn=z.useCallback(()=>{me(!0),wi(Gs.current),y(ie=>ie.filter(Ce=>Ce.toastId!==p.id)),setTimeout(()=>{E(p)},WN)},[p,E,y,Gs]);z.useEffect(()=>{if(p.promise&&Mt==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return S||m||N&&tm?(()=>{if(Zp.current<_u.current){let Ce=new Date().getTime()-_u.current;xi.current=xi.current-Ce}Zp.current=new Date().getTime()})():xi.current!==1/0&&(_u.current=new Date().getTime(),ie=setTimeout(()=>{var Ce;(Ce=p.onAutoClose)==null||Ce.call(p,p),sn()},xi.current)),()=>clearTimeout(ie)},[S,m,p,Mt,N,tm,sn]),z.useEffect(()=>{p.delete&&sn()},[sn,p.delete]);function zS(){var ie,Ce,Oe;return I!=null&&I.loading?z.createElement("div",{className:tr(k==null?void 0:k.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Mt==="loading"},I.loading):W?z.createElement("div",{className:tr(k==null?void 0:k.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Mt==="loading"},W):z.createElement(SN,{className:tr(k==null?void 0:k.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader),visible:Mt==="loading"})}return z.createElement("li",{tabIndex:0,ref:Xn,className:tr(B,$S,k==null?void 0:k.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[Mt],(r=p==null?void 0:p.classNames)==null?void 0:r[Mt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":Yn,"data-removed":fe,"data-visible":DS,"data-y-position":FS,"data-x-position":US,"data-index":x,"data-front":IS,"data-swiping":ve,"data-dismissible":Ks,"data-type":Mt,"data-invert":BS,"data-swipe-out":tt,"data-swipe-direction":V,"data-expanded":!!(S||P&&$),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${fe?Jn:Gs.current}px`,"--initial-height":P?"auto":`${Hs}px`,...O,...p.style},onDragEnd:()=>{we(!1),U(null),Qs.current=null},onPointerDown:ie=>{Su||!Ks||(Jp.current=new Date,wi(Gs.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(we(!0),Qs.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ce,Oe,Jt;if(tt||!Ks)return;Qs.current=null;let Xt=Number(((ie=Xn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),on=Number(((Ce=Xn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zn=new Date().getTime()-((Oe=Jp.current)==null?void 0:Oe.getTime()),Zt=D==="x"?Xt:on,an=Math.abs(Zt)/Zn;if(Math.abs(Zt)>=zN||an>.11){wi(Gs.current),(Jt=p.onDismiss)==null||Jt.call(p,p),re(D==="x"?Xt>0?"right":"left":on>0?"down":"up"),sn(),$t(!0),nn(!1);return}we(!1),U(null)},onPointerMove:ie=>{var Ce,Oe,Jt,Xt;if(!Qs.current||!Ks||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let on=ie.clientY-Qs.current.y,Zn=ie.clientX-Qs.current.x,Zt=(Oe=e.swipeDirections)!=null?Oe:qN(Y);!D&&(Math.abs(Zn)>1||Math.abs(on)>1)&&U(Math.abs(Zn)>Math.abs(on)?"x":"y");let an={x:0,y:0};D==="y"?(Zt.includes("top")||Zt.includes("bottom"))&&(Zt.includes("top")&&on<0||Zt.includes("bottom")&&on>0)&&(an.y=on):D==="x"&&(Zt.includes("left")||Zt.includes("right"))&&(Zt.includes("left")&&Zn<0||Zt.includes("right")&&Zn>0)&&(an.x=Zn),(Math.abs(an.x)>0||Math.abs(an.y)>0)&&nn(!0),(Jt=Xn.current)==null||Jt.style.setProperty("--swipe-amount-x",`${an.x}px`),(Xt=Xn.current)==null||Xt.style.setProperty("--swipe-amount-y",`${an.y}px`)}},LS&&!p.jsx?z.createElement("button",{"aria-label":F,"data-disabled":Su,"data-close-button":!0,onClick:Su||!Ks?()=>{}:()=>{var ie;sn(),(ie=p.onDismiss)==null||ie.call(p,p)},className:tr(k==null?void 0:k.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=I==null?void 0:I.close)!=null?o:NN):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:z.createElement(z.Fragment,null,Mt||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:tr(k==null?void 0:k.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||zS():null,p.type!=="loading"?p.icon||(I==null?void 0:I[Mt])||bN(Mt):null):null,z.createElement("div",{"data-content":"",className:tr(k==null?void 0:k.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},z.createElement("div",{"data-title":"",className:tr(k==null?void 0:k.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?z.createElement("div",{"data-description":"",className:tr(X,MS,k==null?void 0:k.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&dl(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:ie=>{var Ce,Oe;dl(p.cancel)&&Ks&&((Oe=(Ce=p.cancel).onClick)==null||Oe.call(Ce,ie),sn())},className:tr(k==null?void 0:k.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&dl(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||K,onClick:ie=>{var Ce,Oe;dl(p.action)&&((Oe=(Ce=p.action).onClick)==null||Oe.call(Ce,ie),!ie.defaultPrevented&&sn())},className:tr(k==null?void 0:k.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Eg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function HN(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?FN:LN;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}var KN=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:p,visibleToasts:b=MN,toastOptions:m,dir:y=Eg(),gap:v=BN,loadingIcon:w,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,C]=z.useState([]),j=z.useMemo(()=>Array.from(new Set([n].concat(E.filter(N=>N.position).map(N=>N.position)))),[E,n]),[O,A]=z.useState([]),[K,B]=z.useState(!1),[X,M]=z.useState(!1),[Y,T]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=z.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=z.useRef(null),I=z.useRef(!1),F=z.useCallback(N=>{C(D=>{var U;return(U=D.find(V=>V.id===N.id))!=null&&U.delete||vt.dismiss(N.id),D.filter(({id:V})=>V!==N.id)})},[]);return z.useEffect(()=>vt.subscribe(N=>{if(N.dismiss){C(D=>D.map(U=>U.id===N.id?{...U,delete:!0}:U));return}setTimeout(()=>{m0.flushSync(()=>{C(D=>{let U=D.findIndex(V=>V.id===N.id);return U!==-1?[...D.slice(0,U),{...D[U],...N},...D.slice(U+1)]:[N,...D]})})})}),[]),z.useEffect(()=>{if(d!=="system"){T(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:D})=>{T(D?"dark":"light")})}catch{N.addListener(({matches:U})=>{try{T(U?"dark":"light")}catch(V){console.error(V)}})}},[d]),z.useEffect(()=>{E.length<=1&&B(!1)},[E]),z.useEffect(()=>{let N=D=>{var U,V;s.every(re=>D[re]||D.code===re)&&(B(!0),(U=W.current)==null||U.focus()),D.code==="Escape"&&(document.activeElement===W.current||(V=W.current)!=null&&V.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),z.useEffect(()=>{if(W.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,I.current=!1)}},[W.current]),z.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((N,D)=>{var U;let[V,re]=N.split("-");return E.length?z.createElement("ol",{key:N,dir:y==="auto"?Eg():y,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":V,"data-lifted":K&&E.length>1&&!o,"data-x-position":re,style:{"--front-toast-height":`${((U=O[0])==null?void 0:U.height)||0}px`,"--width":`${UN}px`,"--gap":`${v}px`,...p,...HN(c,u)},onBlur:$=>{I.current&&!$.currentTarget.contains($.relatedTarget)&&(I.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||I.current||(I.current=!0,k.current=$.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{X||B(!1)},onDragEnd:()=>B(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},E.filter($=>!$.position&&D===0||$.position===N).map(($,oe)=>{var fe,me;return z.createElement(VN,{key:$.id,icons:x,index:oe,toast:$,defaultRichColors:f,duration:(fe=m==null?void 0:m.duration)!=null?fe:g,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:b,closeButton:(me=m==null?void 0:m.closeButton)!=null?me:i,interacting:X,position:N,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:E.filter(ve=>ve.position==$.position),heights:O.filter(ve=>ve.position==$.position),setHeights:A,expandByDefault:o,gap:v,loadingIcon:w,expanded:K,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const GN=({...e})=>{const{theme:t="system"}=xN();return l.jsx(KN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var QN=ch[" useId ".trim().toString()]||(()=>{}),YN=0;function pt(e){const[t,r]=h.useState(QN());return et(()=>{r(n=>n??String(YN++))},[e]),t?`radix-${t}`:""}const JN=["top","right","bottom","left"],Fn=Math.min,jt=Math.max,gc=Math.round,fl=Math.floor,Ir=e=>({x:e,y:e}),XN={left:"right",right:"left",bottom:"top",top:"bottom"},ZN={start:"end",end:"start"};function Nf(e,t,r){return jt(e,Fn(t,r))}function en(e,t){return typeof e=="function"?e(t):e}function tn(e){return e.split("-")[0]}function ii(e){return e.split("-")[1]}function ap(e){return e==="x"?"y":"x"}function lp(e){return e==="y"?"height":"width"}const eP=new Set(["top","bottom"]);function Pr(e){return eP.has(tn(e))?"y":"x"}function cp(e){return ap(Pr(e))}function tP(e,t,r){r===void 0&&(r=!1);const n=ii(e),s=cp(e),o=lp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vc(i)),[i,vc(i)]}function rP(e){const t=vc(e);return[Pf(e),t,Pf(t)]}function Pf(e){return e.replace(/start|end/g,t=>ZN[t])}const Cg=["left","right"],kg=["right","left"],nP=["top","bottom"],sP=["bottom","top"];function oP(e,t,r){switch(e){case"top":case"bottom":return r?t?kg:Cg:t?Cg:kg;case"left":case"right":return t?nP:sP;default:return[]}}function iP(e,t,r,n){const s=ii(e);let o=oP(tn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Pf)))),o}function vc(e){return e.replace(/left|right|bottom|top/g,t=>XN[t])}function aP(e){return{top:0,right:0,bottom:0,left:0,...e}}function ax(e){return typeof e!="number"?aP(e):{top:e,right:e,bottom:e,left:e}}function yc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function jg(e,t,r){let{reference:n,floating:s}=e;const o=Pr(t),i=cp(t),a=lp(i),c=tn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ii(t)){case"start":p[i]-=g*(r&&u?-1:1);break;case"end":p[i]+=g*(r&&u?-1:1);break}return p}const lP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=jg(u,n,c),g=n,p={},b=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:w,y:x,data:_,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:g,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,f=x??f,p={...p,[y]:{...p[y],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=jg(u,g,c)),m=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:p}};async function va(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=en(t,e),b=ax(p),y=a[g?f==="floating"?"reference":"floating":f],v=yc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=yc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(v.top-S.top+b.top)/_.y,bottom:(S.bottom-v.bottom+b.bottom)/_.y,left:(v.left-S.left+b.left)/_.x,right:(S.right-v.right+b.right)/_.x}}const cP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=en(e,t)||{};if(u==null)return{};const f=ax(d),g={x:r,y:n},p=cp(s),b=lp(p),m=await i.getDimensions(u),y=p==="y",v=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[p]-g[p]-o.floating[b],S=g[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=E?E[x]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=a.floating[x]||o.floating[b]);const j=_/2-S/2,O=C/2-m[b]/2-1,A=Fn(f[v],O),K=Fn(f[w],O),B=A,X=C-m[b]-K,M=C/2-m[b]/2+j,Y=Nf(B,M,X),T=!c.arrow&&ii(s)!=null&&M!==Y&&o.reference[b]/2-(M<B?A:K)-m[b]/2<0,W=T?M<B?M-B:M-X:0;return{[p]:g[p]+W,data:{[p]:Y,centerOffset:M-Y-W,...T&&{alignmentOffset:W}},reset:T}}}),uP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...y}=en(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=tn(s),w=Pr(a),x=tn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=g||(x||!m?[vc(a)]:rP(a)),E=b!=="none";!g&&E&&S.push(...iP(a,m,b,_));const C=[a,...S],j=await va(t,y),O=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&O.push(j[v]),f){const M=tP(s,i,_);O.push(j[M[0]],j[M[1]])}if(A=[...A,{placement:s,overflows:O}],!O.every(M=>M<=0)){var K,B;const M=(((K=o.flip)==null?void 0:K.index)||0)+1,Y=C[M];if(Y&&(!(f==="alignment"?w!==Pr(Y):!1)||A.every(P=>P.overflows[0]>0&&Pr(P.placement)===w)))return{data:{index:M,overflows:A},reset:{placement:Y}};let T=(B=A.filter(W=>W.overflows[0]<=0).sort((W,P)=>W.overflows[1]-P.overflows[1])[0])==null?void 0:B.placement;if(!T)switch(p){case"bestFit":{var X;const W=(X=A.filter(P=>{if(E){const k=Pr(P.placement);return k===w||k==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(k=>k>0).reduce((k,I)=>k+I,0)]).sort((P,k)=>P[1]-k[1])[0])==null?void 0:X[0];W&&(T=W);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function Ng(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pg(e){return JN.some(t=>e[t]>=0)}const dP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=en(e,t);switch(n){case"referenceHidden":{const o=await va(t,{...s,elementContext:"reference"}),i=Ng(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Pg(i)}}}case"escaped":{const o=await va(t,{...s,altBoundary:!0}),i=Ng(o,r.floating);return{data:{escapedOffsets:i,escaped:Pg(i)}}}default:return{}}}}},lx=new Set(["left","top"]);async function fP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=tn(r),a=ii(r),c=Pr(r)==="y",u=lx.has(i)?-1:1,d=o&&c?-1:1,f=en(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(p=a==="end"?b*-1:b),c?{x:p*d,y:g*u}:{x:g*u,y:p*d}}const hP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await fP(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},pP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...c}=en(e,t),u={x:r,y:n},d=await va(t,c),f=Pr(tn(s)),g=ap(f);let p=u[g],b=u[f];if(o){const y=g==="y"?"top":"left",v=g==="y"?"bottom":"right",w=p+d[y],x=p-d[v];p=Nf(w,p,x)}if(i){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=b+d[y],x=b-d[v];b=Nf(w,b,x)}const m=a.fn({...t,[g]:p,[f]:b});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[g]:o,[f]:i}}}}}},mP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=en(e,t),d={x:r,y:n},f=Pr(s),g=ap(f);let p=d[g],b=d[f];const m=en(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=g==="y"?"height":"width",_=o.reference[g]-o.floating[x]+y.mainAxis,S=o.reference[g]+o.reference[x]-y.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var v,w;const x=g==="y"?"width":"height",_=lx.has(tn(s)),S=o.reference[f]-o.floating[x]+(_&&((v=i.offset)==null?void 0:v[f])||0)+(_?0:y.crossAxis),E=o.reference[f]+o.reference[x]+(_?0:((w=i.offset)==null?void 0:w[f])||0)-(_?y.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[g]:p,[f]:b}}}},gP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=en(e,t),d=await va(t,u),f=tn(s),g=ii(s),p=Pr(s)==="y",{width:b,height:m}=o.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=g===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,y=g==="end"?"top":"bottom");const w=m-d.top-d.bottom,x=b-d.left-d.right,_=Fn(m-d[y],w),S=Fn(b-d[v],x),E=!t.middlewareData.shift;let C=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=w),E&&!g){const A=jt(d.left,0),K=jt(d.right,0),B=jt(d.top,0),X=jt(d.bottom,0);p?j=b-2*(A!==0||K!==0?A+K:jt(d.left,d.right)):C=m-2*(B!==0||X!==0?B+X:jt(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:C});const O=await i.getDimensions(a.floating);return b!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function Yc(){return typeof window<"u"}function ai(e){return cx(e)?(e.nodeName||"").toLowerCase():"#document"}function Rt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mr(e){var t;return(t=(cx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cx(e){return Yc()?e instanceof Node||e instanceof Rt(e).Node:!1}function gr(e){return Yc()?e instanceof Element||e instanceof Rt(e).Element:!1}function Dr(e){return Yc()?e instanceof HTMLElement||e instanceof Rt(e).HTMLElement:!1}function Tg(e){return!Yc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rt(e).ShadowRoot}const vP=new Set(["inline","contents"]);function $a(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!vP.has(s)}const yP=new Set(["table","td","th"]);function wP(e){return yP.has(ai(e))}const xP=[":popover-open",":modal"];function Jc(e){return xP.some(t=>{try{return e.matches(t)}catch{return!1}})}const bP=["transform","translate","scale","rotate","perspective"],_P=["transform","translate","scale","rotate","perspective","filter"],SP=["paint","layout","strict","content"];function up(e){const t=dp(),r=gr(e)?vr(e):e;return bP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||_P.some(n=>(r.willChange||"").includes(n))||SP.some(n=>(r.contain||"").includes(n))}function EP(e){let t=Un(e);for(;Dr(t)&&!Go(t);){if(up(t))return t;if(Jc(t))return null;t=Un(t)}return null}function dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CP=new Set(["html","body","#document"]);function Go(e){return CP.has(ai(e))}function vr(e){return Rt(e).getComputedStyle(e)}function Xc(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Un(e){if(ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tg(e)&&e.host||Mr(e);return Tg(t)?t.host:t}function ux(e){const t=Un(e);return Go(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dr(t)&&$a(t)?t:ux(t)}function ya(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ux(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Rt(s);if(o){const a=Tf(i);return t.concat(i,i.visualViewport||[],$a(s)?s:[],a&&r?ya(a):[])}return t.concat(s,ya(s,[],r))}function Tf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dx(e){const t=vr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Dr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=gc(r)!==o||gc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function fp(e){return gr(e)?e:e.contextElement}function To(e){const t=fp(e);if(!Dr(t))return Ir(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=dx(t);let i=(o?gc(r.width):r.width)/n,a=(o?gc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const kP=Ir(0);function fx(e){const t=Rt(e);return!dp()||!t.visualViewport?kP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rt(e)?!1:t}function Os(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=fp(e);let i=Ir(1);t&&(n?gr(n)&&(i=To(n)):i=To(e));const a=jP(o,r,n)?fx(o):Ir(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const g=Rt(o),p=n&&gr(n)?Rt(n):n;let b=g,m=Tf(b);for(;m&&n&&p!==b;){const y=To(m),v=m.getBoundingClientRect(),w=vr(m),x=v.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,_=v.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=x,u+=_,b=Rt(m),m=Tf(b)}}return yc({width:d,height:f,x:c,y:u})}function hp(e,t){const r=Xc(e).scrollLeft;return t?t.left+r:Os(Mr(e)).left+r}function hx(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:hp(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function NP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Mr(n),a=t?Jc(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Ir(1);const d=Ir(0),f=Dr(n);if((f||!f&&!o)&&((ai(n)!=="body"||$a(i))&&(c=Xc(n)),Dr(n))){const p=Os(n);u=To(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const g=i&&!f&&!o?hx(i,c,!0):Ir(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function PP(e){return Array.from(e.getClientRects())}function TP(e){const t=Mr(e),r=Xc(e),n=e.ownerDocument.body,s=jt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=jt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+hp(e);const a=-r.scrollTop;return vr(n).direction==="rtl"&&(i+=jt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function OP(e,t){const r=Rt(e),n=Mr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=dp();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const RP=new Set(["absolute","fixed"]);function AP(e,t){const r=Os(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Dr(e)?To(e):Ir(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Og(e,t,r){let n;if(t==="viewport")n=OP(e,r);else if(t==="document")n=TP(Mr(e));else if(gr(t))n=AP(t,r);else{const s=fx(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yc(n)}function px(e,t){const r=Un(e);return r===t||!gr(r)||Go(r)?!1:vr(r).position==="fixed"||px(r,t)}function IP(e,t){const r=t.get(e);if(r)return r;let n=ya(e,[],!1).filter(a=>gr(a)&&ai(a)!=="body"),s=null;const o=vr(e).position==="fixed";let i=o?Un(e):e;for(;gr(i)&&!Go(i);){const a=vr(i),c=up(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&RP.has(s.position)||$a(i)&&!c&&px(e,i))?n=n.filter(d=>d!==i):s=a,i=Un(i)}return t.set(e,n),n}function DP(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Jc(t)?[]:IP(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=Og(t,d,s);return u.top=jt(f.top,u.top),u.right=Fn(f.right,u.right),u.bottom=Fn(f.bottom,u.bottom),u.left=jt(f.left,u.left),u},Og(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $P(e){const{width:t,height:r}=dx(e);return{width:t,height:r}}function MP(e,t,r){const n=Dr(t),s=Mr(t),o=r==="fixed",i=Os(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ir(0);function u(){c.x=hp(s)}if(n||!n&&!o)if((ai(t)!=="body"||$a(s))&&(a=Xc(t)),n){const p=Os(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?hx(s,a):Ir(0),f=i.left+a.scrollLeft-c.x-d.x,g=i.top+a.scrollTop-c.y-d.y;return{x:f,y:g,width:i.width,height:i.height}}function td(e){return vr(e).position==="static"}function Rg(e,t){if(!Dr(e)||vr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Mr(e)===r&&(r=r.ownerDocument.body),r}function mx(e,t){const r=Rt(e);if(Jc(e))return r;if(!Dr(e)){let s=Un(e);for(;s&&!Go(s);){if(gr(s)&&!td(s))return s;s=Un(s)}return r}let n=Rg(e,t);for(;n&&wP(n)&&td(n);)n=Rg(n,t);return n&&Go(n)&&td(n)&&!up(n)?r:n||EP(e)||r}const LP=async function(e){const t=this.getOffsetParent||mx,r=this.getDimensions,n=await r(e.floating);return{reference:MP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FP(e){return vr(e).direction==="rtl"}const UP={convertOffsetParentRelativeRectToViewportRelativeRect:NP,getDocumentElement:Mr,getClippingRect:DP,getOffsetParent:mx,getElementRects:LP,getClientRects:PP,getDimensions:$P,getScale:To,isElement:gr,isRTL:FP};function gx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BP(e,t){let r=null,n;const s=Mr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:g,height:p}=u;if(a||t(),!g||!p)return;const b=fl(f),m=fl(s.clientWidth-(d+g)),y=fl(s.clientHeight-(f+p)),v=fl(d),x={rootMargin:-b+"px "+-m+"px "+-y+"px "+-v+"px",threshold:jt(0,Fn(1,c))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==c){if(!_)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!gx(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),o}function zP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=fp(e),d=s||o?[...u?ya(u):[],...ya(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=u&&a?BP(u,r):null;let g=-1,p=null;i&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,m=c?Os(e):null;c&&y();function y(){const v=Os(e);m&&!gx(m,v)&&r(),m=v,b=requestAnimationFrame(y)}return r(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const WP=hP,qP=pP,VP=uP,HP=gP,KP=dP,Ag=cP,GP=mP,QP=(e,t,r)=>{const n=new Map,s={platform:UP,...r},o={...s.platform,_c:n};return lP(e,t,{...s,platform:o})};var YP=typeof document<"u",JP=function(){},Wl=YP?h.useLayoutEffect:JP;function wc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!wc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ig(e,t){const r=vx(e);return Math.round(t*r)/r}function rd(e){const t=h.useRef(e);return Wl(()=>{t.current=e}),t}function XP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=h.useState(n);wc(g,n)||p(n);const[b,m]=h.useState(null),[y,v]=h.useState(null),w=h.useCallback(P=>{P!==E.current&&(E.current=P,m(P))},[]),x=h.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),_=o||b,S=i||y,E=h.useRef(null),C=h.useRef(null),j=h.useRef(d),O=c!=null,A=rd(c),K=rd(s),B=rd(u),X=h.useCallback(()=>{if(!E.current||!C.current)return;const P={placement:t,strategy:r,middleware:g};K.current&&(P.platform=K.current),QP(E.current,C.current,P).then(k=>{const I={...k,isPositioned:B.current!==!1};M.current&&!wc(j.current,I)&&(j.current=I,Fs.flushSync(()=>{f(I)}))})},[g,t,r,K,B]);Wl(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const M=h.useRef(!1);Wl(()=>(M.current=!0,()=>{M.current=!1}),[]),Wl(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(A.current)return A.current(_,S,X);X()}},[_,S,X,A,O]);const Y=h.useMemo(()=>({reference:E,floating:C,setReference:w,setFloating:x}),[w,x]),T=h.useMemo(()=>({reference:_,floating:S}),[_,S]),W=h.useMemo(()=>{const P={position:r,left:0,top:0};if(!T.floating)return P;const k=Ig(T.floating,d.x),I=Ig(T.floating,d.y);return a?{...P,transform:"translate("+k+"px, "+I+"px)",...vx(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:I}},[r,a,T.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:X,refs:Y,elements:T,floatingStyles:W}),[d,X,Y,T,W])}const ZP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ag({element:n.current,padding:s}).fn(r):{}:n?Ag({element:n,padding:s}).fn(r):{}}}},eT=(e,t)=>({...WP(e),options:[e,t]}),tT=(e,t)=>({...qP(e),options:[e,t]}),rT=(e,t)=>({...GP(e),options:[e,t]}),nT=(e,t)=>({...VP(e),options:[e,t]}),sT=(e,t)=>({...HP(e),options:[e,t]}),oT=(e,t)=>({...KP(e),options:[e,t]}),iT=(e,t)=>({...ZP(e),options:[e,t]});var aT="Arrow",yx=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(ee.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});yx.displayName=aT;var lT=yx;function pp(e){const[t,r]=h.useState(void 0);return et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mp="Popper",[wx,li]=xr(mp),[cT,xx]=wx(mp),bx=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(cT,{scope:t,anchor:n,onAnchorChange:s,children:r})};bx.displayName=mp;var _x="PopperAnchor",Sx=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=xx(_x,r),i=h.useRef(null),a=be(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ee.div,{...s,ref:a})});Sx.displayName=_x;var gp="PopperContent",[uT,dT]=wx(gp),Ex=h.forwardRef((e,t)=>{var $,oe,fe,me,ve,we;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:b,...m}=e,y=xx(gp,r),[v,w]=h.useState(null),x=be(t,tt=>w(tt)),[_,S]=h.useState(null),E=pp(_),C=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,O=n+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(u)?u:[u],B=K.length>0,X={padding:A,boundary:K.filter(hT),altBoundary:B},{refs:M,floatingStyles:Y,placement:T,isPositioned:W,middlewareData:P}=XP({strategy:"fixed",placement:O,whileElementsMounted:(...tt)=>zP(...tt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[eT({mainAxis:s+j,alignmentAxis:i}),c&&tT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rT():void 0,...X}),c&&nT({...X}),sT({...X,apply:({elements:tt,rects:$t,availableWidth:Yn,availableHeight:nn})=>{const{width:Jn,height:wi}=$t.reference,Hs=tt.floating.style;Hs.setProperty("--radix-popper-available-width",`${Yn}px`),Hs.setProperty("--radix-popper-available-height",`${nn}px`),Hs.setProperty("--radix-popper-anchor-width",`${Jn}px`),Hs.setProperty("--radix-popper-anchor-height",`${wi}px`)}}),_&&iT({element:_,padding:a}),pT({arrowWidth:C,arrowHeight:j}),g&&oT({strategy:"referenceHidden",...X})]}),[k,I]=jx(T),F=Kt(b);et(()=>{W&&(F==null||F())},[W,F]);const N=($=P.arrow)==null?void 0:$.x,D=(oe=P.arrow)==null?void 0:oe.y,U=((fe=P.arrow)==null?void 0:fe.centerOffset)!==0,[V,re]=h.useState();return et(()=>{v&&re(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(me=P.transformOrigin)==null?void 0:me.x,(ve=P.transformOrigin)==null?void 0:ve.y].join(" "),...((we=P.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(uT,{scope:r,placedSide:k,onArrowChange:S,arrowX:N,arrowY:D,shouldHideArrow:U,children:l.jsx(ee.div,{"data-side":k,"data-align":I,...m,ref:x,style:{...m.style,animation:W?void 0:"none"}})})})});Ex.displayName=gp;var Cx="PopperArrow",fT={top:"bottom",right:"left",bottom:"top",left:"right"},kx=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=dT(Cx,n),i=fT[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(lT,{...s,ref:r,style:{...s.style,display:"block"}})})});kx.displayName=Cx;function hT(e){return e!==null}var pT=e=>({name:"transformOrigin",options:e,fn(t){var y,v,w;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=jx(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let b="",m="";return u==="bottom"?(b=i?f:`${g}px`,m=`${-c}px`):u==="top"?(b=i?f:`${g}px`,m=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,m=i?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,m=i?f:`${p}px`),{data:{x:b,y:m}}}});function jx(e){const[t,r="center"]=e.split("-");return[t,r]}var Nx=bx,Zc=Sx,vp=Ex,yp=kx,[eu,oL]=xr("Tooltip",[li]),wp=li(),Px="TooltipProvider",mT=700,Dg="tooltip.open",[gT,Tx]=eu(Px),Ox=e=>{const{__scopeTooltip:t,delayDuration:r=mT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(gT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Ox.displayName=Px;var Rx="Tooltip",[iL,tu]=eu(Rx),Of="TooltipTrigger",vT=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=tu(Of,r),o=Tx(Of,r),i=wp(r),a=h.useRef(null),c=be(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Zc,{asChild:!0,...i,children:l.jsx(ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:J(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(e.onBlur,s.onClose),onClick:J(e.onClick,s.onClose)})})});vT.displayName=Of;var yT="TooltipPortal",[aL,wT]=eu(yT,{forceMount:void 0}),Qo="TooltipContent",Ax=h.forwardRef((e,t)=>{const r=wT(Qo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=tu(Qo,e.__scopeTooltip);return l.jsx($r,{present:n||i.open,children:i.disableHoverableContent?l.jsx(Ix,{side:s,...o,ref:t}):l.jsx(xT,{side:s,...o,ref:t})})}),xT=h.forwardRef((e,t)=>{const r=tu(Qo,e.__scopeTooltip),n=Tx(Qo,e.__scopeTooltip),s=h.useRef(null),o=be(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,g=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((b,m)=>{const y=b.currentTarget,v={x:b.clientX,y:b.clientY},w=CT(v,y.getBoundingClientRect()),x=kT(v,w),_=jT(m.getBoundingClientRect()),S=PT([...x,..._]);a(S),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(c&&d){const b=y=>p(y,d),m=y=>p(y,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",m)}}},[c,d,p,g]),h.useEffect(()=>{if(i){const b=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),x=!NT(v,i);w?g():x&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,g]),l.jsx(Ix,{...e,ref:o})}),[bT,_T]=eu(Rx,{isInside:!1}),ST=Ek("TooltipContent"),Ix=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=tu(Qo,r),u=wp(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Dg,d),()=>document.removeEventListener(Dg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(ri,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(vp,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(ST,{children:n}),l.jsx(bT,{scope:r,isInside:!0,children:l.jsx(Hk,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Ax.displayName=Qo;var Dx="TooltipArrow",ET=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=wp(r);return _T(Dx,r).isInside?null:l.jsx(yp,{...s,...n,ref:t})});ET.displayName=Dx;function CT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function kT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jT(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function NT(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(s=!s)}return s}function PT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),TT(t)}function TT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var OT=Ox,$x=Ax;const RT=OT,AT=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx($x,{ref:n,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));AT.displayName=$x.displayName;var ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=typeof window>"u"||"Deno"in globalThis;function ir(){}function IT(e,t){return typeof e=="function"?e(t):e}function DT(e){return typeof e=="number"&&e>=0&&e!==1/0}function $T(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rf(e,t){return typeof e=="function"?e(t):e}function MT(e,t){return typeof e=="function"?e(t):e}function $g(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==xp(i,t.options))return!1}else if(!xa(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Mg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(wa(t.options.mutationKey)!==wa(o))return!1}else if(!xa(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function xp(e,t){return((t==null?void 0:t.queryKeyHashFn)||wa)(e)}function wa(e){return JSON.stringify(e,(t,r)=>Af(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function xa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xa(e[r],t[r])):!1}function Mx(e,t){if(e===t)return e;const r=Lg(e)&&Lg(t);if(r||Af(e)&&Af(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=Mx(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:a}return t}function Lg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Af(e){if(!Fg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Fg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fg(e){return Object.prototype.toString.call(e)==="[object Object]"}function LT(e){return new Promise(t=>{setTimeout(t,e)})}function FT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Mx(e,t):t}function UT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function BT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bp=Symbol();function Lx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var hs,xn,Ao,Hv,zT=(Hv=class extends ru{constructor(){super();xe(this,hs);xe(this,xn);xe(this,Ao);ae(this,Ao,t=>{if(!nu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,xn)||this.setEventListener(R(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,xn))==null||t.call(this),ae(this,xn,void 0))}setEventListener(t){var r;ae(this,Ao,t),(r=R(this,xn))==null||r.call(this),ae(this,xn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,hs)!==t&&(ae(this,hs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,hs)=="boolean"?R(this,hs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hs=new WeakMap,xn=new WeakMap,Ao=new WeakMap,Hv),Fx=new zT,Io,bn,Do,Kv,WT=(Kv=class extends ru{constructor(){super();xe(this,Io,!0);xe(this,bn);xe(this,Do);ae(this,Do,t=>{if(!nu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,bn)||this.setEventListener(R(this,Do))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,bn))==null||t.call(this),ae(this,bn,void 0))}setEventListener(t){var r;ae(this,Do,t),(r=R(this,bn))==null||r.call(this),ae(this,bn,t(this.setOnline.bind(this)))}setOnline(t){R(this,Io)!==t&&(ae(this,Io,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,Io)}},Io=new WeakMap,bn=new WeakMap,Do=new WeakMap,Kv),xc=new WT;function qT(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function VT(e){return Math.min(1e3*2**e,3e4)}function Ux(e){return(e??"online")==="online"?xc.isOnline():!0}var Bx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nd(e){return e instanceof Bx}function zx(e){let t=!1,r=0,n=!1,s;const o=qT(),i=m=>{var y;n||(g(new Bx(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Fx.isFocused()&&(e.networkMode==="always"||xc.isOnline())&&e.canRun(),d=()=>Ux(e.networkMode)&&e.canRun(),f=m=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),o.resolve(m))},g=m=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),o.reject(m))},p=()=>new Promise(m=>{var y;s=v=>{(n||u())&&m(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(n)return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var E;if(n)return;const w=e.retry??(nu?0:3),x=e.retryDelay??VT,_=typeof x=="function"?x(r,v):x,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(t||!S){g(v);return}r++,(E=e.onFail)==null||E.call(e,r,v),LT(_).then(()=>u()?void 0:p()).then(()=>{t?g(v):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),o)}}var HT=e=>setTimeout(e,0);function KT(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=HT;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var dt=KT(),ps,Gv,Wx=(Gv=class{constructor(){xe(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),DT(this.gcTime)&&ae(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nu?1/0:5*60*1e3))}clearGcTimeout(){R(this,ps)&&(clearTimeout(R(this,ps)),ae(this,ps,void 0))}},ps=new WeakMap,Gv),$o,ms,Ft,gs,ot,ja,vs,lr,Fr,Qv,GT=(Qv=class extends Wx{constructor(t){super();xe(this,lr);xe(this,$o);xe(this,ms);xe(this,Ft);xe(this,gs);xe(this,ot);xe(this,ja);xe(this,vs);ae(this,vs,!1),ae(this,ja,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,gs,t.client),ae(this,Ft,R(this,gs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,$o,YT(this.options)),this.state=t.state??R(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,ot))==null?void 0:t.promise}setOptions(t){this.options={...R(this,ja),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Ft).remove(this)}setData(t,r){const n=FT(this.state.data,t,this.options);return rt(this,lr,Fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){rt(this,lr,Fr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=R(this,ot))==null?void 0:n.promise;return(s=R(this,ot))==null||s.cancel(t),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,$o))}isActive(){return this.observers.some(t=>MT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$T(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Ft).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,ot)&&(R(this,vs)?R(this,ot).cancel({revert:!0}):R(this,ot).cancelRetry()),this.scheduleGc()),R(this,Ft).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,lr,Fr).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ot))return R(this,ot).continueRetry(),R(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(p=>p.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ae(this,vs,!0),n.signal)})},o=()=>{const g=Lx(this.options,r),b=(()=>{const m={client:R(this,gs),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return ae(this,vs,!1),this.options.persister?this.options.persister(g,b,this):g(b)},a=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,gs),state:this.state,fetchFn:o};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(a,this),ae(this,ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&rt(this,lr,Fr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=g=>{var p,b,m,y;nd(g)&&g.silent||rt(this,lr,Fr).call(this,{type:"error",error:g}),nd(g)||((b=(p=R(this,Ft).config).onError)==null||b.call(p,g,this),(y=(m=R(this,Ft).config).onSettled)==null||y.call(m,this.state.data,g,this)),this.scheduleGc()};return ae(this,ot,zx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var p,b,m,y;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){c(v);return}(b=(p=R(this,Ft).config).onSuccess)==null||b.call(p,g,this),(y=(m=R(this,Ft).config).onSettled)==null||y.call(m,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,p)=>{rt(this,lr,Fr).call(this,{type:"failed",failureCount:g,error:p})},onPause:()=>{rt(this,lr,Fr).call(this,{type:"pause"})},onContinue:()=>{rt(this,lr,Fr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),R(this,ot).start()}},$o=new WeakMap,ms=new WeakMap,Ft=new WeakMap,gs=new WeakMap,ot=new WeakMap,ja=new WeakMap,vs=new WeakMap,lr=new WeakSet,Fr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...QT(n.data,this.options),fetchMeta:t.meta??null};case"success":return ae(this,ms,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return nd(s)&&s.revert&&R(this,ms)?{...R(this,ms),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Ft).notify({query:this,type:"updated",action:t})})},Qv);function QT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ux(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function YT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cr,Yv,JT=(Yv=class extends ru{constructor(t={}){super();xe(this,Cr);this.config=t,ae(this,Cr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??xp(s,r);let i=this.get(o);return i||(i=new GT({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){R(this,Cr).has(t.queryHash)||(R(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Cr).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Cr).get(t)}getAll(){return[...R(this,Cr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$g(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$g(t,n)):r}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,Yv),kr,ct,ys,jr,hn,Jv,XT=(Jv=class extends Wx{constructor(t){super();xe(this,jr);xe(this,kr);xe(this,ct);xe(this,ys);this.mutationId=t.mutationId,ae(this,ct,t.mutationCache),ae(this,kr,[]),this.state=t.state||ZT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,kr).includes(t)||(R(this,kr).push(t),this.clearGcTimeout(),R(this,ct).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,kr,R(this,kr).filter(r=>r!==t)),this.scheduleGc(),R(this,ct).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,kr).length||(this.state.status==="pending"?this.scheduleGc():R(this,ct).remove(this))}continue(){var t;return((t=R(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,c,u,d,f,g,p,b,m,y,v,w,x,_,S,E,C,j;const r=()=>{rt(this,jr,hn).call(this,{type:"continue"})};ae(this,ys,zx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,A)=>{rt(this,jr,hn).call(this,{type:"failed",failureCount:O,error:A})},onPause:()=>{rt(this,jr,hn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ct).canRun(this)}));const n=this.state.status==="pending",s=!R(this,ys).canStart();try{if(n)r();else{rt(this,jr,hn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=R(this,ct).config).onMutate)==null?void 0:i.call(o,t,this));const A=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));A!==this.state.context&&rt(this,jr,hn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const O=await R(this,ys).start();return await((d=(u=R(this,ct).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,O,t,this.state.context)),await((b=(p=R(this,ct).config).onSettled)==null?void 0:b.call(p,O,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,O,null,t,this.state.context)),rt(this,jr,hn).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(v=R(this,ct).config).onError)==null?void 0:w.call(v,O,t,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,O,t,this.state.context)),await((E=(S=R(this,ct).config).onSettled)==null?void 0:E.call(S,void 0,O,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,O,t,this.state.context)),O}finally{rt(this,jr,hn).call(this,{type:"error",error:O})}}finally{R(this,ct).runNext(this)}}},kr=new WeakMap,ct=new WeakMap,ys=new WeakMap,jr=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{R(this,kr).forEach(n=>{n.onMutationUpdate(t)}),R(this,ct).notify({mutation:this,type:"updated",action:t})})},Jv);function ZT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wr,cr,Na,Xv,eO=(Xv=class extends ru{constructor(t={}){super();xe(this,Wr);xe(this,cr);xe(this,Na);this.config=t,ae(this,Wr,new Set),ae(this,cr,new Map),ae(this,Na,0)}build(t,r,n){const s=new XT({mutationCache:this,mutationId:++Va(this,Na)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){R(this,Wr).add(t);const r=hl(t);if(typeof r=="string"){const n=R(this,cr).get(r);n?n.push(t):R(this,cr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,Wr).delete(t)){const r=hl(t);if(typeof r=="string"){const n=R(this,cr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&R(this,cr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=hl(t);if(typeof r=="string"){const n=R(this,cr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=hl(t);if(typeof r=="string"){const s=(n=R(this,cr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{R(this,Wr).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,Wr).clear(),R(this,cr).clear()})}getAll(){return Array.from(R(this,Wr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Mg(r,n))}findAll(t={}){return this.getAll().filter(r=>Mg(t,r))}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(ir))))}},Wr=new WeakMap,cr=new WeakMap,Na=new WeakMap,Xv);function hl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ug(e){return{onFetch:(t,r)=>{var d,f,g,p,b;const n=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=Lx(t.options,t.fetchOptions),w=async(x,_,S)=>{if(m)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(K),K})(),j=await v(C),{maxPages:O}=t.options,A=S?BT:UT;return{pages:A(x.pages,j,O),pageParams:A(x.pageParams,_,O)}};if(s&&o.length){const x=s==="backward",_=x?tO:Bg,S={pages:o,pageParams:i},E=_(n,S);a=await w(S,E,x)}else{const x=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:Bg(n,a);if(c>0&&_==null)break;a=await w(a,_),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Bg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Me,_n,Sn,Mo,Lo,En,Fo,Uo,Zv,rO=(Zv=class{constructor(e={}){xe(this,Me);xe(this,_n);xe(this,Sn);xe(this,Mo);xe(this,Lo);xe(this,En);xe(this,Fo);xe(this,Uo);ae(this,Me,e.queryCache||new JT),ae(this,_n,e.mutationCache||new eO),ae(this,Sn,e.defaultOptions||{}),ae(this,Mo,new Map),ae(this,Lo,new Map),ae(this,En,0)}mount(){Va(this,En)._++,R(this,En)===1&&(ae(this,Fo,Fx.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Me).onFocus())})),ae(this,Uo,xc.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Me).onOnline())})))}unmount(){var e,t;Va(this,En)._--,R(this,En)===0&&((e=R(this,Fo))==null||e.call(this),ae(this,Fo,void 0),(t=R(this,Uo))==null||t.call(this),ae(this,Uo,void 0))}isFetching(e){return R(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,_n).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,Me).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=R(this,Me).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Rf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return R(this,Me).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=R(this,Me).get(n.queryHash),o=s==null?void 0:s.state.data,i=IT(t,o);if(i!==void 0)return R(this,Me).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return dt.batch(()=>R(this,Me).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,Me).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,Me);dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,Me);return dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=dt.batch(()=>R(this,Me).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ir).catch(ir)}invalidateQueries(e,t={}){return dt.batch(()=>(R(this,Me).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=dt.batch(()=>R(this,Me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,Me).build(this,t);return r.isStaleByTime(Rf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=Ug(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}ensureInfiniteQueryData(e){return e.behavior=Ug(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xc.isOnline()?R(this,_n).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Me)}getMutationCache(){return R(this,_n)}getDefaultOptions(){return R(this,Sn)}setDefaultOptions(e){ae(this,Sn,e)}setQueryDefaults(e,t){R(this,Mo).set(wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Mo).values()],r={};return t.forEach(n=>{xa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){R(this,Lo).set(wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Lo).values()],r={};return t.forEach(n=>{xa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Sn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Sn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Me).clear(),R(this,_n).clear()}},Me=new WeakMap,_n=new WeakMap,Sn=new WeakMap,Mo=new WeakMap,Lo=new WeakMap,En=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Zv),nO=h.createContext(void 0),sO=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(nO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(this,arguments)}var jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jn||(jn={}));const zg="popstate";function oO(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return If("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Vx(s)}return aO(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iO(){return Math.random().toString(36).substr(2,8)}function Wg(e,t){return{usr:e.state,key:e.key,idx:t}}function If(e,t,r,n){return r===void 0&&(r=null),ba({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ci(t):t,{state:r,key:t&&t.key||n||iO()})}function Vx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ci(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=jn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ba({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=jn.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:a,location:m.location,delta:v})}function g(y,v){a=jn.Push;let w=If(m.location,y,v);u=d()+1;let x=Wg(w,u),_=m.createHref(w);try{i.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:m.location,delta:1})}function p(y,v){a=jn.Replace;let w=If(m.location,y,v);u=d();let x=Wg(w,u),_=m.createHref(w);i.replaceState(x,"",_),o&&c&&c({action:a,location:m.location,delta:0})}function b(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Vx(y);return w=w.replace(/ $/,"%20"),We(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let m={get action(){return a},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zg,f),c=y,()=>{s.removeEventListener(zg,f),c=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let v=b(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:p,go(y){return i.go(y)}};return m}var qg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qg||(qg={}));function lO(e,t,r){return r===void 0&&(r="/"),cO(e,t,r,!1)}function cO(e,t,r,n){let s=typeof t=="string"?ci(t):t,o=Gx(s.pathname||"/",r);if(o==null)return null;let i=Hx(e);uO(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=bO(o);a=wO(i[c],u,n)}return a}function Hx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bs([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:vO(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Kx(o.path))s(o,i,c)}),t}function Kx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Kx(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function uO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dO=/^:[\w-]+$/,fO=3,hO=2,pO=1,mO=10,gO=-2,Vg=e=>e==="*";function vO(e,t){let r=e.split("/"),n=r.length;return r.some(Vg)&&(n+=gO),t&&(n+=hO),r.filter(s=>!Vg(s)).reduce((s,o)=>s+(dO.test(o)?fO:o===""?pO:mO),n)}function yO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function wO(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Hg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Hg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:bs([o,f.pathname]),pathnameBase:CO(bs([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=bs([o,f.pathnameBase]))}return i}function Hg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:p}=d;if(g==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const b=a[f];return p&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function xO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function bO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _O(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ci(e):e;return{pathname:r?r.startsWith("/")?r:SO(r,t):t,search:kO(n),hash:jO(s)}}function SO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function sd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qx(e,t){let r=EO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ci(e):(s=ba({},e),We(!s.pathname||!s.pathname.includes("?"),sd("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),sd("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),sd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let c=_O(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bs=e=>e.join("/").replace(/\/\/+/g,"/"),CO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jx=["post","put","patch","delete"];new Set(Jx);const PO=["get",...Jx];new Set(PO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}const _p=h.createContext(null),TO=h.createContext(null),Ma=h.createContext(null),su=h.createContext(null),Us=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Xx=h.createContext(null);function La(){return h.useContext(su)!=null}function Fa(){return La()||We(!1),h.useContext(su).location}function Zx(e){h.useContext(Ma).static||h.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=h.useContext(Us);return e?WO():OO()}function OO(){La()||We(!1);let e=h.useContext(_p),{basename:t,future:r,navigator:n}=h.useContext(Ma),{matches:s}=h.useContext(Us),{pathname:o}=Fa(),i=JSON.stringify(Qx(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return Zx(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Yx(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function RO(e,t){return AO(e,t)}function AO(e,t,r,n){La()||We(!1);let{navigator:s}=h.useContext(Ma),{matches:o}=h.useContext(Us),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Fa(),d;if(t){var f;let y=typeof t=="string"?ci(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||We(!1),d=y}else d=u;let g=d.pathname||"/",p=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=lO(e,{pathname:p}),m=LO(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:bs([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bs([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&m?h.createElement(su.Provider,{value:{location:_a({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jn.Pop}},m):m}function IO(){let e=zO(),t=NO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const DO=h.createElement(IO,null);class $O extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Us.Provider,{value:this.props.routeContext},h.createElement(Xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MO(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(_p);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Us.Provider,{value:t},n)}function LO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||We(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:p}=r,b=f.route.loader&&g[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let p,b=!1,m=null,y=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||DO,c&&(u<0&&g===0?(b=!0,y=null):u===g&&(b=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),w=()=>{let x;return p?x=m:b?x=y:f.route.Component?x=h.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,h.createElement(MO,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement($O,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var eb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eb||{}),bc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bc||{});function FO(e){let t=h.useContext(_p);return t||We(!1),t}function UO(e){let t=h.useContext(TO);return t||We(!1),t}function BO(e){let t=h.useContext(Us);return t||We(!1),t}function tb(e){let t=BO(),r=t.matches[t.matches.length-1];return r.route.id||We(!1),r.route.id}function zO(){var e;let t=h.useContext(Xx),r=UO(bc.UseRouteError),n=tb(bc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function WO(){let{router:e}=FO(eb.UseNavigateStable),t=tb(bc.UseNavigateStable),r=h.useRef(!1);return Zx(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,_a({fromRouteId:t},o)))},[e,t])}function qO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function VO(e){let{to:t,replace:r,state:n,relative:s}=e;La()||We(!1);let{future:o,static:i}=h.useContext(Ma),{matches:a}=h.useContext(Us),{pathname:c}=Fa(),u=Yt(),d=Yx(t,Qx(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Lt(e){We(!1)}function HO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jn.Pop,navigator:o,static:i=!1,future:a}=e;La()&&We(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:_a({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=ci(n));let{pathname:d="/",search:f="",hash:g="",state:p=null,key:b="default"}=n,m=h.useMemo(()=>{let y=Gx(d,c);return y==null?null:{location:{pathname:y,search:f,hash:g,state:p,key:b},navigationType:s}},[c,d,f,g,p,b,s]);return m==null?null:h.createElement(Ma.Provider,{value:u},h.createElement(su.Provider,{children:r,value:m}))}function KO(e){let{children:t,location:r}=e;return RO(Df(t),r)}new Promise(()=>{});function Df(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Df(n.props.children,o));return}n.type!==Lt&&We(!1),!n.props.index||!n.props.children||We(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Df(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const GO="6";try{window.__reactRouterVersion=GO}catch{}const QO="startTransition",Kg=ch[QO];function YO(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=oO({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Kg?Kg(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>qO(n),[n]),h.createElement(HO,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var Gg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gg||(Gg={}));var Qg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));const JO=Gc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?_k:"button";return l.jsx(i,{className:te(JO({variant:t,size:r,className:e})),ref:o,...s})});de.displayName="Button";const Ue=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ue.displayName="Card";const Kr=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Kr.displayName="CardHeader";const Gr=h.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Gr.displayName="CardTitle";const _s=h.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));_s.displayName="CardDescription";const Ge=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));Ge.displayName="CardContent";const XO=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));XO.displayName="CardFooter";const ZO=()=>{const e=Yt();return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card shadow-[var(--shadow-soft)]",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-primary/80",children:l.jsx("img",{src:"/duck-inventory-systems/logos/logo-stack-3.png",alt:"Stackable Logo",className:"h-full w-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Stackable"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"CPG Inventory Management"})]})]}),l.jsx(de,{onClick:()=>e("/auth"),children:"Get Started"})]})})}),l.jsx("section",{className:"container mx-auto px-4 py-16 md:py-24",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto space-y-6",children:[l.jsx("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Stop Wrestling with Excel Spreadsheets"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"CPG companies lose thousands of hours managing inventory in Excel. Stackable gives you real-time visibility, automated tracking, and seamless order managementall in one powerful platform."}),l.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[l.jsx(de,{size:"lg",onClick:()=>e("/auth"),children:"Start Free Trial"}),l.jsx(de,{size:"lg",variant:"outline",onClick:()=>e("/auth"),children:"Sign In"})]})]})}),l.jsx("section",{className:"bg-muted/50 py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-8",children:"The Excel Problem for CPG Companies"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx(Ue,{className:"bg-card border-border",children:l.jsxs(Ge,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Manual Updates"}),l.jsx("p",{className:"text-muted-foreground",children:"Constantly updating quantities, chasing team members for data, and dealing with version control chaos."})]})}),l.jsx(Ue,{className:"bg-card border-border",children:l.jsxs(Ge,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"No Real-Time Visibility"}),l.jsx("p",{className:"text-muted-foreground",children:"Never knowing actual stock levels until it's too late. Stockouts and overordering cost you money."})]})}),l.jsx(Ue,{className:"bg-card border-border",children:l.jsxs(Ge,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Error-Prone"}),l.jsx("p",{className:"text-muted-foreground",children:"One wrong formula or deleted cell can corrupt your entire inventory. Human errors compound over time."})]})}),l.jsx(Ue,{className:"bg-card border-border",children:l.jsxs(Ge,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Difficult Scaling"}),l.jsx("p",{className:"text-muted-foreground",children:"As your product lines grow, Excel becomes unmanageable. Multiple sheets, broken links, and slow performance."})]})})]})]})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:"Built for CPG Companies"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(ni,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Dual Inventory Tracking"}),l.jsx("p",{className:"text-muted-foreground",children:"Track both raw materials and finished products in one place. Perfect for cookie makers, olive oil producers, and all CPG businesses."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(Qc,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Smart Reorder Alerts"}),l.jsx("p",{className:"text-muted-foreground",children:"Automatic low-stock notifications ensure you never run out of critical ingredients or packaging materials."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(kj,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Order Management"}),l.jsx("p",{className:"text-muted-foreground",children:"Integrated order tracking that automatically updates your inventory. Know exactly what's committed and what's available."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(Ij,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Real-Time Updates"}),l.jsx("p",{className:"text-muted-foreground",children:"Everyone on your team sees the same data instantly. No more emailing spreadsheets back and forth."})]})]})]})]})})}),l.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[l.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:"Ready to Leave Excel Behind?"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Join leading CPG companies who've made the switch to smarter inventory management."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"No credit card required"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"14-day free trial"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Setup in minutes"})]})]}),l.jsx(de,{size:"lg",onClick:()=>e("/auth"),className:"mt-6",children:"Get Started Now"})]})})}),l.jsx("footer",{className:"border-t border-border bg-card py-8",children:l.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground",children:l.jsx("p",{children:" 2025 Stackable. Built for CPG companies that demand better."})})})]})};var $f=function(e,t){return $f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},$f(e,t)};function rb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$f(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zt=function(){return zt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},zt.apply(this,arguments)};function Vn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nb(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function sb(e,t){return function(r,n){t(r,n,e)}}function ob(e,t,r,n,s,o){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,g=!1,p=r.length-1;p>=0;p--){var b={};for(var m in n)b[m]=m==="access"?{}:n[m];for(var m in n.access)b.access[m]=n.access[m];b.addInitializer=function(v){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(v||null))};var y=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],b);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=i(y.get))&&(d.get=f),(f=i(y.set))&&(d.set=f),(f=i(y.init))&&s.unshift(f)}else(f=i(y))&&(a==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),g=!0}function ib(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ab(e){return typeof e=="symbol"?e:"".concat(e)}function lb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function ub(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ou=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function db(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ou(t,e,r)}function _c(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function fb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sp(arguments[t]));return e}function hb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Ep(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Yo(e){return this instanceof Yo?(this.v=e,this):new Yo(e)}function pb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(b){return Promise.resolve(b).then(p,f)}}function a(p,b){n[p]&&(s[p]=function(m){return new Promise(function(y,v){o.push([p,m,y,v])>1||c(p,m)})},b&&(s[p]=b(s[p])))}function c(p,b){try{u(n[p](b))}catch(m){g(o[0][3],m)}}function u(p){p.value instanceof Yo?Promise.resolve(p.value.v).then(d,f):g(o[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function g(p,b){p(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Yo(e[s](i)),done:!1}:o?o(i):i}:o}}function gb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof _c=="function"?_c(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function vb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var eR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Mf=function(e){return Mf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Mf(e)};function yb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Mf(e),n=0;n<r.length;n++)r[n]!=="default"&&ou(t,e,r[n]);return eR(t,e),t}function wb(e){return e&&e.__esModule?e:{default:e}}function xb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function bb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function _b(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Sb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var tR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Eb(e){function t(o){e.error=e.hasError?new tR(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Cb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}const rR={__extends:rb,__assign:zt,__rest:Vn,__decorate:nb,__param:sb,__esDecorate:ob,__runInitializers:ib,__propKey:ab,__setFunctionName:lb,__metadata:cb,__awaiter:Q,__generator:ub,__createBinding:ou,__exportStar:db,__values:_c,__read:Sp,__spread:fb,__spreadArrays:hb,__spreadArray:Ep,__await:Yo,__asyncGenerator:pb,__asyncDelegator:mb,__asyncValues:gb,__makeTemplateObject:vb,__importStar:yb,__importDefault:wb,__classPrivateFieldGet:xb,__classPrivateFieldSet:bb,__classPrivateFieldIn:_b,__addDisposableResource:Sb,__disposeResources:Eb,__rewriteRelativeImportExtension:Cb},nR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sb,get __assign(){return zt},__asyncDelegator:mb,__asyncGenerator:pb,__asyncValues:gb,__await:Yo,__awaiter:Q,__classPrivateFieldGet:xb,__classPrivateFieldIn:_b,__classPrivateFieldSet:bb,__createBinding:ou,__decorate:nb,__disposeResources:Eb,__esDecorate:ob,__exportStar:db,__extends:rb,__generator:ub,__importDefault:wb,__importStar:yb,__makeTemplateObject:vb,__metadata:cb,__param:sb,__propKey:ab,__read:Sp,__rest:Vn,__rewriteRelativeImportExtension:Cb,__runInitializers:ib,__setFunctionName:lb,__spread:fb,__spreadArray:Ep,__spreadArrays:hb,__values:_c,default:rR},Symbol.toStringTag,{value:"Module"})),sR="modulepreload",oR=function(e){return"/duck-inventory-systems/"+e},Yg={},ui=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=oR(c),c in Yg)return;Yg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sR,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},iR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Cp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Jg extends Cp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Xg extends Cp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zg extends Cp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lf||(Lf={}));class aR{constructor(t,{headers:r={},customFetch:n,region:s=Lf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=iR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:i,body:a,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let g;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=a):typeof a=="string"?(u["Content-Type"]="text/plain",g=a):typeof FormData<"u"&&a instanceof FormData?g=a:(u["Content-Type"]="application/json",g=JSON.stringify(a)):g=a;const p=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:g,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new Jg(v)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new Xg(p);if(!p.ok)throw new Zg(p);let m=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield p.json():m==="application/octet-stream"||m==="application/pdf"?y=yield p.blob():m==="text/event-stream"?y=p:m==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Jg(o)}:{data:null,error:o,response:o instanceof Zg||o instanceof Xg?o.context:void 0}}})}}var ft={};const di=ry(nR);var pl={},ml={},gl={},vl={},yl={},lR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jo=lR();const cR=Jo.fetch,kb=Jo.fetch.bind(Jo),jb=Jo.Headers,uR=Jo.Request,dR=Jo.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:jb,Request:uR,Response:dR,default:kb,fetch:cR},Symbol.toStringTag,{value:"Module"})),fR=ry(Bs);var wl={},ev;function Nb(){if(ev)return wl;ev=1,Object.defineProperty(wl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return wl.default=e,wl}var tv;function Pb(){if(tv)return yl;tv=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=di,t=e.__importDefault(fR),r=e.__importDefault(Nb());class n{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,g,p;let b=null,m=null,y=null,v=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(b={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{b=JSON.parse(_),Array.isArray(b)&&u.status===404&&(m=[],b=null,v=200,w="OK")}catch{u.status===404&&_===""?(v=204,w="No Content"):b={message:_}}if(b&&this.isMaybeSingle&&(!((p=b==null?void 0:b.details)===null||p===void 0)&&p.includes("0 rows"))&&(b=null,v=200,w="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:m,count:y,status:v,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,g;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,i)}returns(){return this}overrideTypes(){return this}}return yl.default=n,yl}var rv;function Tb(){if(rv)return vl;rv=1,Object.defineProperty(vl,"__esModule",{value:!0});const t=di.__importDefault(Pb());class r extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return vl.default=r,vl}var nv;function kp(){if(nv)return gl;nv=1,Object.defineProperty(gl,"__esModule",{value:!0});const t=di.__importDefault(Tb()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return gl.default=n,gl}var sv;function Ob(){if(sv)return ml;sv=1,Object.defineProperty(ml,"__esModule",{value:!0});const t=di.__importDefault(kp());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},c=i?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(f.length>0){const g=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ml.default=r,ml}var ov;function hR(){if(ov)return pl;ov=1,Object.defineProperty(pl,"__esModule",{value:!0});const e=di,t=e.__importDefault(Ob()),r=e.__importDefault(kp());class n{constructor(o,{headers:i={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=c}from(o){const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:c=!1,count:u}={}){var d;let f;const g=new URL(`${this.url}/rpc/${o}`);let p;a||c?(f=a?"HEAD":"GET",Object.entries(i).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{g.searchParams.append(m,y)})):(f="POST",p=i);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:f,url:g,headers:b,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return pl.default=n,pl}Object.defineProperty(ft,"__esModule",{value:!0});var Rb=ft.PostgrestError=zb=ft.PostgrestBuilder=Ub=ft.PostgrestTransformBuilder=Lb=ft.PostgrestFilterBuilder=$b=ft.PostgrestQueryBuilder=Ib=ft.PostgrestClient=void 0;const fi=di,Ab=fi.__importDefault(hR());var Ib=ft.PostgrestClient=Ab.default;const Db=fi.__importDefault(Ob());var $b=ft.PostgrestQueryBuilder=Db.default;const Mb=fi.__importDefault(kp());var Lb=ft.PostgrestFilterBuilder=Mb.default;const Fb=fi.__importDefault(Tb());var Ub=ft.PostgrestTransformBuilder=Fb.default;const Bb=fi.__importDefault(Pb());var zb=ft.PostgrestBuilder=Bb.default;const Wb=fi.__importDefault(Nb());Rb=ft.PostgrestError=Wb.default;var qb=ft.default={PostgrestClient:Ab.default,PostgrestQueryBuilder:Db.default,PostgrestFilterBuilder:Mb.default,PostgrestTransformBuilder:Fb.default,PostgrestBuilder:Bb.default,PostgrestError:Wb.default};const pR=ey({__proto__:null,get PostgrestBuilder(){return zb},get PostgrestClient(){return Ib},get PostgrestError(){return Rb},get PostgrestFilterBuilder(){return Lb},get PostgrestQueryBuilder(){return $b},get PostgrestTransformBuilder(){return Ub},default:qb},[ft]),{PostgrestClient:mR,PostgrestQueryBuilder:lL,PostgrestFilterBuilder:cL,PostgrestTransformBuilder:uL,PostgrestBuilder:dL,PostgrestError:fL}=qb||pR;class gR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vR="2.78.0",yR=`realtime-js/${vR}`,wR="1.0.0",Ff=1e4,xR=1e3,bR=100;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var Uf;(function(e){e.websocket="websocket"})(Uf||(Uf={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class _R{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Vb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const iv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=SR(i,e,t,s),o),{}):{}},SR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Hb(o,i):Bf(i)},Hb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jR(t,r)}switch(e){case ke.bool:return ER(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return CR(t);case ke.json:case ke.jsonb:return kR(t);case ke.timestamp:return NR(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Bf(t);default:return Bf(t)}},Bf=e=>e,ER=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Hb(t,a))}return e},NR=e=>typeof e=="string"?e.replace(" ","T"):e,Kb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class od{constructor(t,r,n={},s=Ff){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var av;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(av||(av={}));class Xi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Xi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const g=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),b=d.filter(y=>p.indexOf(y.presence_ref)<0),m=f.filter(y=>g.indexOf(y.presence_ref)<0);b.length>0&&(a[u]=b),m.length>0&&(c[u]=m)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),g=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...g)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lv||(lv={}));var Zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zi||(Zi={}));var Br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class jp{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xi(this),this.broadcastEndpointURL=Kb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},g={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Br.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(Br.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(b=m==null?void 0:m.length)!==null&&b!==void 0?b:0,v=[];for(let w=0;w<y;w++){const x=m[w],{filter:{event:_,schema:S,table:E,filter:C}}=x,j=p&&p[w];if(j&&j.event===_&&j.schema===S&&j.table===E&&j.filter===C)v.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Br.SUBSCRIBED);return}}).receive("error",p=>{this.state=qe.errored,t==null||t(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qe.joined&&t===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new od(this,dr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new od(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=dr;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let g=this._onMessage(i,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,m,y;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(g,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var b,m,y,v,w,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:m,table:y,commit_timestamp:v,type:w,errors:x}=b;g=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(b))}p.callback(g,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&jp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=iv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=iv(t.columns,t.old_record)),r}}const id=()=>{},xl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PR=[1e3,2e3,5e3,1e4],TR=1e4,OR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ff,this.transport=null,this.heartbeatIntervalMs=xl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=id,this.ref=0,this.reconnectTimer=null,this.logger=id,this.conn=null,this.sendBuffer=[],this.serializer=new _R,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>ui(async()=>{const{default:a}=await Promise.resolve().then(()=>Bs);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Uf.websocket}`,this.httpEndpoint=Kb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wR}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return as.Connecting;case Ji.open:return as.Open;case Ji.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new jp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:yR};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(dr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ff,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:xl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:id,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>PR[f-1]||TR,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,g)=>g(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Np extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AR extends Np{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zf extends Np{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Pp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IR=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ui(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),Wf=e=>{if(Array.isArray(e))return e.map(r=>Wf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Wf(n)}),t},DR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ad=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$R=(e,t,r)=>Q(void 0,void 0,void 0,function*(){const n=yield IR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new AR(ad(s),o,i))}).catch(s=>{t(new zf(ad(s),s))}):t(new zf(ad(e),e))}),MR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(DR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ua(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,MR(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>$R(c,a,n))})})}function Sa(e,t,r,n){return Q(this,void 0,void 0,function*(){return Ua(e,"GET",t,r,n)})}function ar(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ua(e,"POST",t,n,s,r)})}function qf(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ua(e,"PUT",t,n,s,r)})}function LR(e,t,r,n){return Q(this,void 0,void 0,function*(){return Ua(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tp(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ua(e,"DELETE",t,n,s,r)})}class FR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}var Gb;class UR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Gb]="BlobDownloadBuilder",this.promise=null}asStream(){return new FR(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}Gb=Symbol.toStringTag;const BR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zR{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Q(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},cv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?qf:ar)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Q(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:cv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield qf(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield ar(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Np("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}update(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(t),c=()=>Sa(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new UR(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}exists(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield LR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof zf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}list(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},BR),r),{prefix:t||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}listV2(t,r){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Qb="2.78.0",Yb={"X-Client-Info":`storage-js/${Qb}`};class WR{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=Pp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Sa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createBucket(t){return Q(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class qR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=Pp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Sa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}const Op={"X-Client-Info":`storage-js/${Qb}`,"Content-Type":"application/json"};class Jb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ld extends Jb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VR extends Jb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var uv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(uv||(uv={}));const Rp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KR=(e,t,r)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new ld(dv(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new ld(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new ld(a,s,i))}}else t(new VR(dv(e),e))}),GR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(HR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function QR(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,GR(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>KR(c,a,n))})})}function Pt(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return QR(e,"POST",t,n,s,r)})}class YR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Op),r),this.fetch=Rp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}class JR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Op),r),this.fetch=Rp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}}class XR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Op),r),this.fetch=Rp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield Pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}}class ZR extends XR{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new e2(this.url,this.headers,t,this.fetch)}}class e2 extends YR{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new t2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class t2 extends JR{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class r2 extends WR{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new zR(this.url,this.headers,t,this.fetch)}get vectors(){return new ZR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qR(this.url+"/iceberg",this.headers,this.fetch)}}const n2="2.78.0";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const s2={"X-Client-Info":`supabase-js-${Fi}/${n2}`},o2={headers:s2},i2={schema:"public"},a2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l2={},c2=e=>{let t;return e?t=e:typeof fetch>"u"?t=kb:t=fetch,(...r)=>t(...r)},u2=()=>typeof Headers>"u"?jb:Headers,d2=(e,t,r)=>{const n=c2(r),s=u2();return async(o,i)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function f2(e){return e.endsWith("/")?e:e+"/"}function h2(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function p2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Xb="2.78.0",io=30*1e3,Vf=3,cd=Vf*io,m2="http://localhost:9999",g2="supabase.auth.token",v2={"X-Client-Info":`gotrue-js/${Xb}`},Hf="X-Supabase-Api-Version",Zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w2=10*60*1e3;class Ea extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x2 extends Ea{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function b2(e){return Z(e)&&e.name==="AuthApiError"}class ls extends Ea{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hn extends Ea{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class rr extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _2(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Js extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bl extends Hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _l extends Hn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S2(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class fv extends Hn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kf extends Hn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ud(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class hv extends Hn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gf extends Hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pv=` 	
\r=`.split(""),E2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pv.length;t+=1)e[pv[t].charCodeAt(0)]=-2;for(let t=0;t<Sc.length;t+=1)e[Sc[t].charCodeAt(0)]=t;return e})();function mv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sc[n]),t.queuedBits-=6}}function e1(e,t,r){const n=E2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{j2(i,n,r)};for(let i=0;i<e.length;i+=1)e1(e.charCodeAt(i),s,o);return t.join("")}function C2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function k2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}C2(n,t)}}function j2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Oo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)e1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function N2(e){const t=[];return k2(e,r=>t.push(r)),new Uint8Array(t)}function fs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>mv(s,r,n)),mv(null,r,n),t.join("")}function P2(e){return Math.round(Date.now()/1e3)+e}function T2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},t1=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function O2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const r1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ui(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},R2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ao=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ts=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dn=async(e,t)=>{await e.removeItem(t)};class iu{constructor(){this.promise=new iu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}iu.promiseConstructor=Promise;function dd(e){const t=e.split(".");if(t.length!==3)throw new Gf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!y2.test(t[n]))throw new Gf("JWT not in base64url format");return{header:JSON.parse(gv(t[0])),payload:JSON.parse(gv(t[1])),signature:Oo(t[2]),raw:{header:t[0],payload:t[1]}}}async function A2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function I2(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function D2(e){return("0"+e.toString(16)).substr(-2)}function $2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,D2).join("")}async function M2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function L2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await M2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(e,t,r=!1){const n=$2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ao(e,`${t}-code-verifier`,s);const o=await L2(n);return[o,n===o?"plain":"s256"]}const F2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U2(e){const t=e.headers.get(Hf);if(!t||!t.match(F2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function B2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function z2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(e){if(!W2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function q2(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function vv(e){return JSON.parse(JSON.stringify(e))}const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V2=[502,503,504];async function yv(e){var t;if(!R2(e))throw new Kf(os(e),0);if(V2.includes(e.status))throw new Kf(os(e),e.status);let r;try{r=await e.json()}catch(o){throw new ls(os(o),o)}let n;const s=U2(e);if(s&&s.getTime()>=Zb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hv(os(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new hv(os(r),e.status,r.weak_password.reasons);throw new x2(os(r),e.status||500,n)}const H2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ne(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Hf]||(o[Hf]=Zb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await K2(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function K2(e,t,r,n,s,o){const i=H2(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Kf(os(c),0)}if(a.ok||await yv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await yv(c)}}function nr(e){var t;let r=null;Y2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=P2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function wv(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function G2(e){return{data:e,error:null}}function Q2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Vn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function xv(e){return e}function Y2(e){return e.access_token&&e.refresh_token&&e.expires_in}const hd=["global","local","others"];class J2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=r1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=hd[0]){if(hd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hd.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Vn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Q2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:xv});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zs(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zs(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zs(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zs(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zs(t.userId),Zs(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:xv});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function bv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const eo={debug:!!(globalThis&&t1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X2 extends n1{}async function Z2(e,t,r){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new X2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function eA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function tA(e){return parseInt(e,16)}function rA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nA(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:d,uri:f,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=s1(e.address),b=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${g}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}v+=w}return`${y}
${v}`}class Be extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Ec extends Be{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sA({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(o1(i)){if(o.rp.id!==i)return new Be({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oA({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(o1(n)){if(r.rpId!==n)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aA=new iA;function lA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Vn(e,["challenge","user","excludeCredentials"]),o=Oo(t).buffer,i=Object.assign(Object.assign({},r),{id:Oo(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Oo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function cA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Vn(e,["challenge","allowCredentials"]),s=Oo(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Oo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function uA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fs(new Uint8Array(s.authenticatorData)),clientDataJSON:fs(new Uint8Array(s.clientDataJSON)),signature:fs(new Uint8Array(s.signature)),userHandle:s.userHandle?fs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function o1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _v(){var e,t;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",t)}:{data:null,error:new Ec("Empty credential response",t)}}catch(t){return{data:null,error:sA({error:t,options:e})}}}async function hA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",t)}:{data:null,error:new Ec("Empty credential response",t)}}catch(t){return{data:null,error:oA({error:t,options:e})}}}const pA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},mA={userVerification:"preferred",hints:["security-key"]};function Cc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=Cc(a,i):n[o]=Cc(i)}else n[o]=i}return n}function gA(e,t){return Cc(pA,e,t||{})}function vA(e,t){return Cc(mA,e,t||{})}class yA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const c=s??aA.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=gA(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await fA({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=vA(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await hA(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn authentication")};try{if(!_v())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn registration")};try{if(!_v())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in register",i)}}}}eA();const wA={url:m2,storageKey:g2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sv(e,t,r){return await r()}const to={};class Ca{get jwks(){var t,r;return(r=(t=to[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=to[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ca.nextInstanceID,Ca.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new J2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=r1(s.fetch),this.lock=s.lock||Sv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Z2:this.lock=Sv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:t1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=bv(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=O2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),S2(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new ls("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:g}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Xs(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},xform:nr})}else if("phone"in t){const{phone:d,password:f,options:g}=t;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:nr})}else throw new bl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wv})}else throw new bl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Js}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,c,u,d,f,g;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:m,wallet:y,statement:v,options:w}=t;let x;if(lt())if(typeof y=="object")x=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=s1(S[0]);let C=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const O=await x.request({method:"eth_chainId"});C=tA(O)}const j={domain:_.host,address:E,statement:v,uri:_.href,version:"1",chainId:C,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=nA(j),b=await x.request({method:"personal_sign",params:[rA(p),E]})}try{const{data:m,error:y}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:nr});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Js}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(Z(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var r,n,s,o,i,a,c,u,d,f,g,p;let b,m;if("message"in t)b=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:w,options:x}=t;let _;if(lt())if(typeof v=="object")_=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:y,error:v}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:fs(m)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Js}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Z(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await ts(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nr});if(await dn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Js}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Z(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nr}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Js}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Xs(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new bl("You must provide either an email or phone number.")}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:nr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Xs(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:G2})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rr;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new bl("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ts(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=fd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=q2(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wn})})}catch(r){if(Z(r))return _2(r)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new rr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Xs(this.storage,this.storageKey));const{data:u,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:wn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=dd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rr;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lt())throw new _l("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _l(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _l("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fv("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new _l("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let g=d+f;c&&(g=parseInt(c));const p=g-d;p*1e3<=io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=g-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const v={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:g,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(b2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=T2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xs(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:g}=o;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:nr}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Js}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:p})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await I2(async s=>(s>0&&await A2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ud(o)&&Date.now()+i-n<io})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ts(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ao(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:fd()}else if(s&&!s.user&&!s.user){const i=await ts(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await dn(this.storage,this.storageKey+"-user"),await ao(this.storage,this.storageKey,s)):s.user=fd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${cd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ud(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new iu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new rr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Z(o)){const i={data:null,error:o};return ud(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ao(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=vv(s);await ao(this.storage,this.storageKey,o)}else{const s=vv(r);await ao(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),io);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${io}ms, refresh threshold is ${Vf} ticks`),s<=Vf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Xs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uA(t.webauthn.credential_response):dA(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:lA(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cA(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new rr}})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new rr};const i=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new rr};const i=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+w2>s)return n;const{data:o,error:i}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=dd(n);r!=null&&r.allowExpired||B2(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=z2(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,N2(`${a}.${c}`)))throw new Gf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}Ca.nextInstanceID=0;const xA=Ca;class bA extends xA{constructor(t){super(t)}}class _A{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const a=p2(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:i2,realtime:l2,auth:Object.assign(Object.assign({},a2),{storageKey:c}),global:o2},d=h2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=d2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mR(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r2(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new aR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:c,debug:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bA({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SA=(e,t,r)=>new _A(e,t,r);function EA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}EA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CA="https://sseafesutfqctttpefia.supabase.co",kA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzZWFmZXN1dGZxY3R0dHBlZmlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMjc0OTQsImV4cCI6MjA3ODgwMzQ5NH0.hqB6tXE08Ku-0JHe5O81kmsXkebIT5jKrBrq6CVZqd4",H=SA(CA,kA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ce=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ce.displayName="Input";var jA="Label",i1=h.forwardRef((e,t)=>l.jsx(ee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i1.displayName=jA;var a1=i1;const NA=Gc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=h.forwardRef(({className:e,...t},r)=>l.jsx(a1,{ref:r,className:te(NA(),e),...t}));se.displayName=a1.displayName;const PA=()=>{const e=Yt(),[t,r]=h.useState(!0),[n,s]=h.useState(""),[o,i]=h.useState(""),[a,c]=h.useState(""),[u,d]=h.useState(""),[f,g]=h.useState(!1);h.useEffect(()=>{H.auth.getSession().then(({data:{session:b}})=>{b&&e("/dashboard")})},[e]);const p=async b=>{b.preventDefault(),g(!0);try{if(t){const{error:m}=await H.auth.signInWithPassword({email:n,password:o});if(m)throw m;q.success("Logged in successfully!"),e("/dashboard")}else{const{data:m,error:y}=await H.from("companies").select("id").eq("domain",u).maybeSingle();if(y)throw y;if(m)throw new Error("A company with this domain already exists. Please ask an admin for an invite.");{const{error:v}=await H.auth.signUp({email:n,password:o,options:{emailRedirectTo:`${window.location.origin}/duck-inventory-systems/dashboard`,data:{company_name:a,company_domain:u}}});if(v)throw v;q.success("Account created! You are the admin. You can now log in."),r(!0)}}}catch(m){q.error(m.message||"An error occurred")}finally{g(!1)}};return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-primary/80",children:l.jsx(ni,{className:"h-8 w-8 text-primary-foreground"})}),l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"DuckInventory"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"CPG Inventory Management"})]}),l.jsxs(Ue,{className:"bg-card border-border",children:[l.jsxs(Kr,{children:[l.jsx(Gr,{children:t?"Welcome Back":"Create Account"}),l.jsx(_s,{children:t?"Sign in to manage your inventory":"Sign up to get started with DuckInventory"})]}),l.jsxs(Ge,{children:[l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"email",children:"Email"}),l.jsx(ce,{id:"email",type:"email",placeholder:"you@company.com",value:n,onChange:b=>s(b.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"password",children:"Password"}),l.jsx(ce,{id:"password",type:"password",placeholder:"",value:o,onChange:b=>i(b.target.value),required:!0,minLength:6})]}),!t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"companyName",children:"Company Name"}),l.jsx(ce,{id:"companyName",type:"text",placeholder:"Acme Corp",value:a,onChange:b=>c(b.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"companyDomain",children:"Company Domain"}),l.jsx(ce,{id:"companyDomain",type:"text",placeholder:"acme.com",value:u,onChange:b=>d(b.target.value),required:!0})]})]}),l.jsx(de,{type:"submit",className:"w-full",disabled:f,children:f?"Loading...":t?"Sign In":"Sign Up"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>r(!t),className:"text-sm text-primary hover:underline",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground",children:"Back to home"})})]})]})]})})},l1=h.createContext(void 0),Et=()=>{const e=h.useContext(l1);if(!e)throw new Error("useBranding must be used inside BrandingProvider");return e},TA=({children:e})=>{const[t,r]=h.useState("#800000"),[n,s]=h.useState("#D3AF37"),o=(c,u)=>{const d=document.documentElement,f=i(c),g=i(u);d.style.setProperty("--primary",f),d.style.setProperty("--accent",g),d.style.setProperty("--ring",g),d.style.setProperty("--company-primary",c),d.style.setProperty("--company-accent",u)};function i(c){c=c.replace(/^#/,""),c.length===3&&(c=c.split("").map(v=>v+v).join(""));let u=parseInt(c.substring(0,2),16)/255,d=parseInt(c.substring(2,4),16)/255,f=parseInt(c.substring(4,6),16)/255;const g=Math.max(u,d,f),p=Math.min(u,d,f);let b=0,m=0,y=(g+p)/2;if(g!==p){const v=g-p;switch(m=y>.5?v/(2-g-p):v/(g+p),g){case u:b=(d-f)/v+(d<f?6:0);break;case d:b=(f-u)/v+2;break;case f:b=(u-d)/v+4;break}b/=6}return b=Math.round(b*360),m=Math.round(m*100),y=Math.round(y*100),`${b} ${m}% ${y}%`}const a=async()=>{try{const{data:{user:c}}=await H.auth.getUser();if(!c)return;const{data:u}=await H.from("profiles").select("company_id").eq("id",c.id).maybeSingle();if(!(u!=null&&u.company_id))return;const{data:d}=await H.from("companies").select("primary_color, accent_color").eq("id",u.company_id).maybeSingle();d&&(r(d.primary_color),s(d.accent_color),o(d.primary_color,d.accent_color))}catch(c){console.error("Branding load failed",c)}};return h.useEffect(()=>{a()},[]),h.useEffect(()=>{o(t,n)},[t,n]),l.jsx(l1.Provider,{value:{primaryColor:t,accentColor:n,setPrimaryColor:r,setAccentColor:s,reloadBranding:a},children:e})},OA=({totalItems:e,rawMaterials:t,finishedProducts:r,lowStock:n})=>{const{primaryColor:s,accentColor:o}=Et(),i=[{title:"Total Items",value:e,icon:ni,description:"Active inventory items"},{title:"Raw Materials",value:t,icon:pj,description:"Ingredients & components"},{title:"Finished Products",value:r,icon:Qc,description:"Ready for distribution"},{title:"Low Stock Alerts",value:n,icon:Pj,description:"Items need reordering"}],a=[s,o,s,o],c=[`linear-gradient(to br, ${s}, ${o})`,`linear-gradient(to br, ${o}, ${s})`,`linear-gradient(to br, ${s}, ${o})`,`linear-gradient(to br, ${o}, ${s})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:i.map((u,d)=>l.jsx(Ue,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${a[d]}`},children:l.jsxs(Ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:u.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${a[d]})`},children:u.value}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.description})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:c[d],opacity:.1},children:l.jsx(u.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:c[d]}})]})},u.title))})},hi=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));hi.displayName="Table";const pi=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));pi.displayName="TableHeader";const mi=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));mi.displayName="TableBody";const RA=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RA.displayName="TableFooter";const xt=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));xt.displayName="TableRow";const ge=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ge.displayName="TableHead";const le=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableCell";const AA=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));AA.displayName="TableCaption";const IA=Gc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,...r}){return l.jsx("div",{className:te(IA({variant:t}),e),...r})}const Sl=({items:e,onEdit:t,onDelete:r})=>{const{primaryColor:n,accentColor:s}=Et(),[o,i]=h.useState(""),[a,c]=h.useState([]),[u,d]=h.useState(!0);h.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:m,error:y}=await H.from("shipments").select(`
          id,
          status,
          orders!shipments_order_id_fkey (
            order_items (
              item_name,
              quantity
            )
          )
        `);if(y)throw y;const v=(m||[]).map(w=>{var x,_;return{id:w.id,status:w.status,items:((_=(x=w.orders)==null?void 0:x.order_items)==null?void 0:_.map(S=>({itemName:S.item_name,quantity:S.quantity})))||[]}});c(v)}catch(m){console.error("Error fetching shipments:",m),q.error("Failed to load shipment data for calculations")}finally{d(!1)}},g=m=>{let y=m.quantity;return a.forEach(v=>{v.status==="scheduled"&&v.items&&v.items.filter(x=>x.itemName.toLowerCase()===m.name.toLowerCase()).forEach(x=>{y+=x.quantity})}),y},p=e.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())),b=(m,y)=>m===0?{label:"Out of Stock",variant:"destructive"}:m<=y?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(G0,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground",style:{color:n}}),l.jsx(ce,{placeholder:"Search inventory...",value:o,onChange:m=>i(m.target.value),className:"pl-9"})]})}),l.jsx("div",{className:"rounded-lg border border-border bg-card shadow-[var(--shadow-soft)]",children:l.jsxs(hi,{children:[l.jsx(pi,{children:l.jsxs(xt,{className:"hover:bg-transparent border-border",children:[l.jsx(ge,{children:"Item Name"}),l.jsx(ge,{children:"Category"}),l.jsx(ge,{children:"Available Qty"}),l.jsx(ge,{className:"bg-muted/30",children:"Physical Inv."})," ",l.jsx(ge,{children:"Price"}),l.jsx(ge,{children:"Status"}),l.jsx(ge,{children:"Last Updated"}),l.jsx(ge,{className:"text-right",children:"Actions"})]})}),l.jsx(mi,{children:p.length===0?l.jsx(xt,{children:l.jsx(le,{colSpan:8,className:"text-center text-muted-foreground h-32",children:"No items found"})}):p.map(m=>{const y=b(m.quantity,m.reorderLevel),v=g(m);return l.jsxs(xt,{className:"border-border",children:[l.jsx(le,{className:"font-medium",children:m.name}),l.jsx(le,{children:m.category==="raw"?l.jsx(Je,{className:"text-primary-foreground",style:{backgroundColor:s},children:"Raw Material"}):l.jsx(Je,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Finished Product"})}),l.jsxs(le,{children:[m.quantity," ",m.unit]}),l.jsx(le,{className:"bg-muted/30 font-semibold",children:u?l.jsx("span",{className:"text-muted-foreground text-xs",children:"Calc..."}):`${v} ${m.unit}`}),l.jsxs(le,{children:["$",m.price.toFixed(2)]}),l.jsx(le,{children:l.jsx(Je,{variant:y.variant,children:y.label})}),l.jsx(le,{className:"text-muted-foreground",children:m.lastUpdated}),l.jsx(le,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t(m),className:"h-8 w-8",children:l.jsx(Nj,{className:"h-4 w-4",style:{color:n}})}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>r(m.id),className:"h-8 w-8 text-destructive hover:text-destructive",children:l.jsx(si,{className:"h-4 w-4"})})]})})]},m.id)})})]})})]})};var pd="focusScope.autoFocusOnMount",md="focusScope.autoFocusOnUnmount",Ev={bubbles:!1,cancelable:!0},DA="FocusScope",au=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=Kt(s),d=Kt(o),f=h.useRef(null),g=be(t,m=>c(m)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let m=function(x){if(p.paused||!a)return;const _=x.target;a.contains(_)?f.current=_:pn(f.current,{select:!0})},y=function(x){if(p.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||pn(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&pn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,a,p.paused]),h.useEffect(()=>{if(a){kv.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(pd,Ev);a.addEventListener(pd,u),a.dispatchEvent(v),v.defaultPrevented||($A(BA(c1(a)),{select:!0}),document.activeElement===m&&pn(a))}return()=>{a.removeEventListener(pd,u),setTimeout(()=>{const v=new CustomEvent(md,Ev);a.addEventListener(md,d),a.dispatchEvent(v),v.defaultPrevented||pn(m??document.body,{select:!0}),a.removeEventListener(md,d),kv.remove(p)},0)}}},[a,u,d,p]);const b=h.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const w=m.currentTarget,[x,_]=MA(w);x&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&pn(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&pn(_,{select:!0})):v===w&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(ee.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});au.displayName=DA;function $A(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pn(n,{select:t}),document.activeElement!==r)return}function MA(e){const t=c1(e),r=Cv(t,e),n=Cv(t.reverse(),e);return[r,n]}function c1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cv(e,t){for(const r of e)if(!LA(r,{upTo:t}))return r}function LA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FA(e){return e instanceof HTMLInputElement&&"select"in e}function pn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FA(e)&&t&&e.select()}}var kv=UA();function UA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jv(e,t),e.unshift(t)},remove(t){var r;e=jv(e,t),(r=e[0])==null||r.resume()}}}function jv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function BA(e){return e.filter(t=>t.tagName!=="A")}var gd=0;function Ap(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Nv()),document.body.insertAdjacentElement("beforeend",e[1]??Nv()),gd++,()=>{gd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gd--}},[])}function Nv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ql="right-scroll-bar-position",Vl="width-before-scroll-bar",zA="with-scroll-bars-hidden",WA="--removed-body-scroll-bar-size";function vd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qA(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var VA=typeof window<"u"?h.useLayoutEffect:h.useEffect,Pv=new WeakMap;function HA(e,t){var r=qA(null,function(n){return e.forEach(function(s){return vd(s,n)})});return VA(function(){var n=Pv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||vd(a,null)}),o.forEach(function(a){s.has(a)||vd(a,i)})}Pv.set(r,e)},[e]),r}function KA(e){return e}function GA(e,t){t===void 0&&(t=KA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function QA(e){e===void 0&&(e={});var t=GA(null);return t.options=zt({async:!0,ssr:!1},e),t}var u1=function(e){var t=e.sideCar,r=Vn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,zt({},r))};u1.isSideCarExport=!0;function YA(e,t){return e.useMedium(t),u1}var d1=QA(),yd=function(){},lu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:yd,onWheelCapture:yd,onTouchMoveCapture:yd}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,g=e.sideCar,p=e.noRelative,b=e.noIsolation,m=e.inert,y=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,x=e.gapMode,_=Vn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,E=HA([r,t]),C=zt(zt({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:d1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:m,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:x}),i?h.cloneElement(h.Children.only(a),zt(zt({},C),{ref:E})):h.createElement(w,zt({},C,{className:c,ref:E}),a))});lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lu.classNames={fullWidth:Vl,zeroRight:ql};var JA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JA();return t&&e.setAttribute("nonce",t),e}function ZA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=XA())&&(ZA(t,r),eI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rI=function(){var e=tI();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},f1=function(){var e=rI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nI={left:0,top:0,right:0,gap:0},wd=function(e){return parseInt(e||"",10)||0},sI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[wd(r),wd(n),wd(s)]},oI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nI;var t=sI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},iI=f1(),Ro="data-scroll-locked",aI=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ro,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ql,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Vl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ro,`] {
    `).concat(WA,": ").concat(a,`px;
  }
`)},Tv=function(){var e=parseInt(document.body.getAttribute(Ro)||"0",10);return isFinite(e)?e:0},lI=function(){h.useEffect(function(){return document.body.setAttribute(Ro,(Tv()+1).toString()),function(){var e=Tv()-1;e<=0?document.body.removeAttribute(Ro):document.body.setAttribute(Ro,e.toString())}},[])},cI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lI();var o=h.useMemo(function(){return oI(s)},[s]);return h.createElement(iI,{styles:aI(o,!t,s,r?"":"!important")})},Qf=!1;if(typeof window<"u")try{var El=Object.defineProperty({},"passive",{get:function(){return Qf=!0,!0}});window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Qf=!1}var ro=Qf?{passive:!1}:!1,uI=function(e){return e.tagName==="TEXTAREA"},h1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uI(e)&&r[t]==="visible")},dI=function(e){return h1(e,"overflowY")},fI=function(e){return h1(e,"overflowX")},Ov=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=p1(e,n);if(s){var o=m1(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},pI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},p1=function(e,t){return e==="v"?dI(t):fI(t)},m1=function(e,t){return e==="v"?hI(t):pI(t)},mI=function(e,t){return e==="h"&&t==="rtl"?-1:1},gI=function(e,t,r,n,s){var o=mI(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,g=0;do{if(!a)break;var p=m1(e,a),b=p[0],m=p[1],y=p[2],v=m-y-o*b;(b||v)&&p1(e,a)&&(f+=v,g+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},Cl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rv=function(e){return[e.deltaX,e.deltaY]},Av=function(e){return e&&"current"in e?e.current:e},vI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wI=0,no=[];function xI(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(wI++)[0],o=h.useState(f1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Ep([e.lockRef.current],(e.shards||[]).map(Av),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var v=Cl(m),w=r.current,x="deltaX"in m?m.deltaX:w[0]-v[0],_="deltaY"in m?m.deltaY:w[1]-v[1],S,E=m.target,C=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var j=Ov(C,E);if(!j)return!0;if(j?S=C:(S=C==="v"?"h":"v",j=Ov(C,E)),!j)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=S),!S)return!0;var O=n.current||S;return gI(O,y,m,O==="h"?x:_,!0)},[]),c=h.useCallback(function(m){var y=m;if(!(!no.length||no[no.length-1]!==o)){var v="deltaY"in y?Rv(y):Cl(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&vI(S.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(i.current.shards||[]).map(Av).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=x.length>0?a(y,x[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(m,y,v,w){var x={name:m,delta:y,target:v,should:w,shadowParent:bI(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=h.useCallback(function(m){r.current=Cl(m),n.current=void 0},[]),f=h.useCallback(function(m){u(m.type,Rv(m),m.target,a(m,e.lockRef.current))},[]),g=h.useCallback(function(m){u(m.type,Cl(m),m.target,a(m,e.lockRef.current))},[]);h.useEffect(function(){return no.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ro),document.addEventListener("touchmove",c,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,ro),document.removeEventListener("touchmove",c,ro),document.removeEventListener("touchstart",d,ro)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:yI(s)}):null,p?h.createElement(cI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _I=YA(d1,xI);var cu=h.forwardRef(function(e,t){return h.createElement(lu,zt({},e,{ref:t,sideCar:_I}))});cu.classNames=lu.classNames;var SI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,kl=new WeakMap,jl={},xd=0,g1=function(e){return e&&(e.host||g1(e.parentNode))},EI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},CI=function(e,t,r,n){var s=EI(t,Array.isArray(e)?e:[e]);jl[r]||(jl[r]=new WeakMap);var o=jl[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))d(g);else try{var p=g.getAttribute(n),b=p!==null&&p!=="false",m=(so.get(g)||0)+1,y=(o.get(g)||0)+1;so.set(g,m),o.set(g,y),i.push(g),m===1&&b&&kl.set(g,!0),y===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),a.clear(),xd++,function(){i.forEach(function(f){var g=so.get(f)-1,p=o.get(f)-1;so.set(f,g),o.set(f,p),g||(kl.has(f)||f.removeAttribute(n),kl.delete(f)),p||f.removeAttribute(r)}),xd--,xd||(so=new WeakMap,so=new WeakMap,kl=new WeakMap,jl={})}},Ip=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=SI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),CI(n,s,r,"aria-hidden")):function(){return null}},uu="Dialog",[v1,hL]=xr(uu),[kI,br]=v1(uu),y1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:uu});return l.jsx(kI,{scope:t,triggerRef:a,contentRef:c,contentId:pt(),titleId:pt(),descriptionId:pt(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};y1.displayName=uu;var w1="DialogTrigger",x1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(w1,r),o=be(t,s.triggerRef);return l.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mp(s.open),...n,ref:o,onClick:J(e.onClick,s.onOpenToggle)})});x1.displayName=w1;var Dp="DialogPortal",[jI,b1]=v1(Dp,{forceMount:void 0}),_1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=br(Dp,t);return l.jsx(jI,{scope:t,forceMount:r,children:h.Children.map(n,i=>l.jsx($r,{present:r||o.open,children:l.jsx(Ia,{asChild:!0,container:s,children:i})}))})};_1.displayName=Dp;var kc="DialogOverlay",S1=h.forwardRef((e,t)=>{const r=b1(kc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=br(kc,e.__scopeDialog);return o.modal?l.jsx($r,{present:n||o.open,children:l.jsx(PI,{...s,ref:t})}):null});S1.displayName=kc;var NI=Ps("DialogOverlay.RemoveScroll"),PI=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(kc,r);return l.jsx(cu,{as:NI,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ee.div,{"data-state":Mp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Rs="DialogContent",E1=h.forwardRef((e,t)=>{const r=b1(Rs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=br(Rs,e.__scopeDialog);return l.jsx($r,{present:n||o.open,children:o.modal?l.jsx(TI,{...s,ref:t}):l.jsx(OI,{...s,ref:t})})});E1.displayName=Rs;var TI=h.forwardRef((e,t)=>{const r=br(Rs,e.__scopeDialog),n=h.useRef(null),s=be(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Ip(o)},[]),l.jsx(C1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:J(e.onFocusOutside,o=>o.preventDefault())})}),OI=h.forwardRef((e,t)=>{const r=br(Rs,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(C1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),C1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=br(Rs,r),c=h.useRef(null),u=be(t,c);return Ap(),l.jsxs(l.Fragment,{children:[l.jsx(au,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(ri,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(RI,{titleId:a.titleId}),l.jsx(II,{contentRef:c,descriptionId:a.descriptionId})]})]})}),$p="DialogTitle",k1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br($p,r);return l.jsx(ee.h2,{id:s.titleId,...n,ref:t})});k1.displayName=$p;var j1="DialogDescription",N1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(j1,r);return l.jsx(ee.p,{id:s.descriptionId,...n,ref:t})});N1.displayName=j1;var P1="DialogClose",T1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(P1,r);return l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});T1.displayName=P1;function Mp(e){return e?"open":"closed"}var O1="DialogTitleWarning",[pL,R1]=xk(O1,{contentName:Rs,titleName:$p,docsSlug:"dialog"}),RI=({titleId:e})=>{const t=R1(O1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},AI="DialogDescriptionWarning",II=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R1(AI).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},A1=y1,DI=x1,I1=_1,Lp=S1,Fp=E1,D1=k1,$1=N1,$I=T1;const gi=A1,vi=DI,MI=I1,M1=h.forwardRef(({className:e,...t},r)=>l.jsx(Lp,{ref:r,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));M1.displayName=Lp.displayName;const zs=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(MI,{children:[l.jsx(M1,{}),l.jsxs(Fp,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs($I,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Y0,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zs.displayName=Fp.displayName;const Ws=({className:e,...t})=>l.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ws.displayName="DialogHeader";const qs=h.forwardRef(({className:e,...t},r)=>l.jsx(D1,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));qs.displayName=D1.displayName;const du=h.forwardRef(({className:e,...t},r)=>l.jsx($1,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));du.displayName=$1.displayName;var fu="Popover",[L1,mL]=xr(fu,[li]),Ba=li(),[LI,Kn]=L1(fu),F1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Ba(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,g]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:fu});return l.jsx(Nx,{...a,children:l.jsx(LI,{scope:t,contentId:pt(),triggerRef:c,open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};F1.displayName=fu;var U1="PopoverAnchor",FI=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(U1,r),o=Ba(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Zc,{...o,...n,ref:t})});FI.displayName=U1;var B1="PopoverTrigger",z1=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(B1,r),o=Ba(r),i=be(t,s.triggerRef),a=l.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":K1(s.open),...n,ref:i,onClick:J(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Zc,{asChild:!0,...o,children:a})});z1.displayName=B1;var Up="PopoverPortal",[UI,BI]=L1(Up,{forceMount:void 0}),W1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Kn(Up,t);return l.jsx(UI,{scope:t,forceMount:r,children:l.jsx($r,{present:r||o.open,children:l.jsx(Ia,{asChild:!0,container:s,children:n})})})};W1.displayName=Up;var Xo="PopoverContent",q1=h.forwardRef((e,t)=>{const r=BI(Xo,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Kn(Xo,e.__scopePopover);return l.jsx($r,{present:n||o.open,children:o.modal?l.jsx(WI,{...s,ref:t}):l.jsx(qI,{...s,ref:t})})});q1.displayName=Xo;var zI=Ps("PopoverContent.RemoveScroll"),WI=h.forwardRef((e,t)=>{const r=Kn(Xo,e.__scopePopover),n=h.useRef(null),s=be(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return Ip(i)},[]),l.jsx(cu,{as:zI,allowPinchZoom:!0,children:l.jsx(V1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:J(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),qI=h.forwardRef((e,t)=>{const r=Kn(Xo,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(V1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),V1=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,g=Kn(Xo,r),p=Ba(r);return Ap(),l.jsx(au,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(ri,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(vp,{"data-state":K1(g.open),role:"dialog",id:g.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),H1="PopoverClose",VI=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(H1,r);return l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});VI.displayName=H1;var HI="PopoverArrow",KI=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ba(r);return l.jsx(yp,{...s,...n,ref:t})});KI.displayName=HI;function K1(e){return e?"open":"closed"}var GI=F1,QI=z1,YI=W1,G1=q1;const JI=GI,XI=QI,Q1=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(YI,{children:l.jsx(G1,{ref:s,align:t,sideOffset:r,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Q1.displayName=G1.displayName;var Iv=1,ZI=.9,eD=.8,tD=.17,bd=.1,_d=.999,rD=.9999,nD=.99,sD=/[\\\/_+.#"@\[\(\{&]/,oD=/[\\\/_+.#"@\[\(\{&]/g,iD=/[\s-]/,Y1=/[\s-]/g;function Yf(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?Iv:nD;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),u=r.indexOf(c,s),d=0,f,g,p,b;u>=0;)f=Yf(e,t,r,n,u+1,o+1,i),f>d&&(u===s?f*=Iv:sD.test(e.charAt(u-1))?(f*=eD,p=e.slice(s,u-1).match(oD),p&&s>0&&(f*=Math.pow(_d,p.length))):iD.test(e.charAt(u-1))?(f*=ZI,b=e.slice(s,u-1).match(Y1),b&&s>0&&(f*=Math.pow(_d,b.length))):(f*=tD,s>0&&(f*=Math.pow(_d,u-s))),e.charAt(u)!==t.charAt(o)&&(f*=rD)),(f<bd&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(g=Yf(e,t,r,n,u+1,o+2,i),g*bd>f&&(f=g*bd)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[a]=d,d}function Dv(e){return e.toLowerCase().replace(Y1," ")}function aD(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Yf(e,t,Dv(e),Dv(t),0,0,{})}var Oi='[cmdk-group=""]',Sd='[cmdk-group-items=""]',lD='[cmdk-group-heading=""]',J1='[cmdk-item=""]',$v=`${J1}:not([aria-disabled="true"])`,Jf="cmdk-item-select",lo="data-value",cD=(e,t,r)=>aD(e,t,r),X1=h.createContext(void 0),za=()=>h.useContext(X1),Z1=h.createContext(void 0),Bp=()=>h.useContext(Z1),e_=h.createContext(void 0),t_=h.forwardRef((e,t)=>{let r=co(()=>{var N,D;return{search:"",value:(D=(N=e.value)!=null?N:e.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=co(()=>new Set),s=co(()=>new Map),o=co(()=>new Map),i=co(()=>new Set),a=r_(e),{label:c,children:u,value:d,onValueChange:f,filter:g,shouldFilter:p,loop:b,disablePointerSelection:m=!1,vimBindings:y=!0,...v}=e,w=pt(),x=pt(),_=pt(),S=h.useRef(null),E=xD();As(()=>{if(d!==void 0){let N=d.trim();r.current.value=N,C.emit()}},[d]),As(()=>{E(6,X)},[]);let C=h.useMemo(()=>({subscribe:N=>(i.current.add(N),()=>i.current.delete(N)),snapshot:()=>r.current,setState:(N,D,U)=>{var V,re,$,oe;if(!Object.is(r.current[N],D)){if(r.current[N]=D,N==="search")B(),A(),E(1,K);else if(N==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(_);fe?fe.focus():(V=document.getElementById(w))==null||V.focus()}if(E(7,()=>{var fe;r.current.selectedItemId=(fe=M())==null?void 0:fe.id,C.emit()}),U||E(5,X),((re=a.current)==null?void 0:re.value)!==void 0){let fe=D??"";(oe=($=a.current).onValueChange)==null||oe.call($,fe);return}}C.emit()}},emit:()=>{i.current.forEach(N=>N())}}),[]),j=h.useMemo(()=>({value:(N,D,U)=>{var V;D!==((V=o.current.get(N))==null?void 0:V.value)&&(o.current.set(N,{value:D,keywords:U}),r.current.filtered.items.set(N,O(D,U)),E(2,()=>{A(),C.emit()}))},item:(N,D)=>(n.current.add(N),D&&(s.current.has(D)?s.current.get(D).add(N):s.current.set(D,new Set([N]))),E(3,()=>{B(),A(),r.current.value||K(),C.emit()}),()=>{o.current.delete(N),n.current.delete(N),r.current.filtered.items.delete(N);let U=M();E(4,()=>{B(),(U==null?void 0:U.getAttribute("id"))===N&&K(),C.emit()})}),group:N=>(s.current.has(N)||s.current.set(N,new Set),()=>{o.current.delete(N),s.current.delete(N)}),filter:()=>a.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:w,inputId:_,labelId:x,listInnerRef:S}),[]);function O(N,D){var U,V;let re=(V=(U=a.current)==null?void 0:U.filter)!=null?V:cD;return N?re(N,r.current.search,D):0}function A(){if(!r.current.search||a.current.shouldFilter===!1)return;let N=r.current.filtered.items,D=[];r.current.filtered.groups.forEach(V=>{let re=s.current.get(V),$=0;re.forEach(oe=>{let fe=N.get(oe);$=Math.max(fe,$)}),D.push([V,$])});let U=S.current;Y().sort((V,re)=>{var $,oe;let fe=V.getAttribute("id"),me=re.getAttribute("id");return(($=N.get(me))!=null?$:0)-((oe=N.get(fe))!=null?oe:0)}).forEach(V=>{let re=V.closest(Sd);re?re.appendChild(V.parentElement===re?V:V.closest(`${Sd} > *`)):U.appendChild(V.parentElement===U?V:V.closest(`${Sd} > *`))}),D.sort((V,re)=>re[1]-V[1]).forEach(V=>{var re;let $=(re=S.current)==null?void 0:re.querySelector(`${Oi}[${lo}="${encodeURIComponent(V[0])}"]`);$==null||$.parentElement.appendChild($)})}function K(){let N=Y().find(U=>U.getAttribute("aria-disabled")!=="true"),D=N==null?void 0:N.getAttribute(lo);C.setState("value",D||void 0)}function B(){var N,D,U,V;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let $ of n.current){let oe=(D=(N=o.current.get($))==null?void 0:N.value)!=null?D:"",fe=(V=(U=o.current.get($))==null?void 0:U.keywords)!=null?V:[],me=O(oe,fe);r.current.filtered.items.set($,me),me>0&&re++}for(let[$,oe]of s.current)for(let fe of oe)if(r.current.filtered.items.get(fe)>0){r.current.filtered.groups.add($);break}r.current.filtered.count=re}function X(){var N,D,U;let V=M();V&&(((N=V.parentElement)==null?void 0:N.firstChild)===V&&((U=(D=V.closest(Oi))==null?void 0:D.querySelector(lD))==null||U.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function M(){var N;return(N=S.current)==null?void 0:N.querySelector(`${J1}[aria-selected="true"]`)}function Y(){var N;return Array.from(((N=S.current)==null?void 0:N.querySelectorAll($v))||[])}function T(N){let D=Y()[N];D&&C.setState("value",D.getAttribute(lo))}function W(N){var D;let U=M(),V=Y(),re=V.findIndex(oe=>oe===U),$=V[re+N];(D=a.current)!=null&&D.loop&&($=re+N<0?V[V.length-1]:re+N===V.length?V[0]:V[re+N]),$&&C.setState("value",$.getAttribute(lo))}function P(N){let D=M(),U=D==null?void 0:D.closest(Oi),V;for(;U&&!V;)U=N>0?yD(U,Oi):wD(U,Oi),V=U==null?void 0:U.querySelector($v);V?C.setState("value",V.getAttribute(lo)):W(N)}let k=()=>T(Y().length-1),I=N=>{N.preventDefault(),N.metaKey?k():N.altKey?P(1):W(1)},F=N=>{N.preventDefault(),N.metaKey?T(0):N.altKey?P(-1):W(-1)};return h.createElement(ee.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:N=>{var D;(D=v.onKeyDown)==null||D.call(v,N);let U=N.nativeEvent.isComposing||N.keyCode===229;if(!(N.defaultPrevented||U))switch(N.key){case"n":case"j":{y&&N.ctrlKey&&I(N);break}case"ArrowDown":{I(N);break}case"p":case"k":{y&&N.ctrlKey&&F(N);break}case"ArrowUp":{F(N);break}case"Home":{N.preventDefault(),T(0);break}case"End":{N.preventDefault(),k();break}case"Enter":{N.preventDefault();let V=M();if(V){let re=new Event(Jf);V.dispatchEvent(re)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:_D},c),hu(e,N=>h.createElement(Z1.Provider,{value:C},h.createElement(X1.Provider,{value:j},N))))}),uD=h.forwardRef((e,t)=>{var r,n;let s=pt(),o=h.useRef(null),i=h.useContext(e_),a=za(),c=r_(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;As(()=>{if(!u)return a.item(s,i==null?void 0:i.id)},[u]);let d=n_(s,o,[e.value,e.children,o],e.keywords),f=Bp(),g=Bn(E=>E.value&&E.value===d.current),p=Bn(E=>u||a.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);h.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(Jf,b),()=>E.removeEventListener(Jf,b)},[p,e.onSelect,e.disabled]);function b(){var E,C;m(),(C=(E=c.current).onSelect)==null||C.call(E,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:y,value:v,onSelect:w,forceMount:x,keywords:_,...S}=e;return h.createElement(ee.div,{ref:Ns(o,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!g,"data-disabled":!!y,"data-selected":!!g,onPointerMove:y||a.getDisablePointerSelection()?void 0:m,onClick:y?void 0:b},e.children)}),dD=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=pt(),a=h.useRef(null),c=h.useRef(null),u=pt(),d=za(),f=Bn(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);As(()=>d.group(i),[]),n_(i,a,[e.value,e.heading,c]);let g=h.useMemo(()=>({id:i,forceMount:s}),[s]);return h.createElement(ee.div,{ref:Ns(a,t),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),hu(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},h.createElement(e_.Provider,{value:g},p))))}),fD=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=h.useRef(null),o=Bn(i=>!i.search);return!r&&!o?null:h.createElement(ee.div,{ref:Ns(s,t),...n,"cmdk-separator":"",role:"separator"})}),hD=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=Bp(),i=Bn(u=>u.search),a=Bn(u=>u.selectedItemId),c=za();return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement(ee.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":a,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),pD=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=h.useRef(null),i=h.useRef(null),a=Bn(u=>u.selectedItemId),c=za();return h.useEffect(()=>{if(i.current&&o.current){let u=i.current,d=o.current,f,g=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(f),g.unobserve(u)}}},[]),h.createElement(ee.div,{ref:Ns(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:c.listId},hu(e,u=>h.createElement("div",{ref:Ns(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),mD=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return h.createElement(A1,{open:r,onOpenChange:n},h.createElement(I1,{container:i},h.createElement(Lp,{"cmdk-overlay":"",className:s}),h.createElement(Fp,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement(t_,{ref:t,...a}))))}),gD=h.forwardRef((e,t)=>Bn(r=>r.filtered.count===0)?h.createElement(ee.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),vD=h.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return h.createElement(ee.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},hu(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),Ct=Object.assign(t_,{List:pD,Item:uD,Input:hD,Group:dD,Separator:fD,Dialog:mD,Empty:gD,Loading:vD});function yD(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function wD(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function r_(e){let t=h.useRef(e);return As(()=>{t.current=e}),t}var As=typeof window>"u"?h.useEffect:h.useLayoutEffect;function co(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Bn(e){let t=Bp(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function n_(e,t,r,n=[]){let s=h.useRef(),o=za();return As(()=>{var i;let a=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());o.value(e,a,c),(i=t.current)==null||i.setAttribute(lo,a),s.current=a}),s}var xD=()=>{let[e,t]=h.useState(),r=co(()=>new Map);return As(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function bD(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function hu({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(bD(t),{ref:t.ref},r(t.props.children)):r(t)}var _D={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const s_=h.forwardRef(({className:e,...t},r)=>l.jsx(Ct,{ref:r,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));s_.displayName=Ct.displayName;const o_=h.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(G0,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Ct.Input,{ref:r,className:te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));o_.displayName=Ct.Input.displayName;const i_=h.forwardRef(({className:e,...t},r)=>l.jsx(Ct.List,{ref:r,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));i_.displayName=Ct.List.displayName;const a_=h.forwardRef((e,t)=>l.jsx(Ct.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));a_.displayName=Ct.Empty.displayName;const l_=h.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Group,{ref:r,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));l_.displayName=Ct.Group.displayName;const SD=h.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Separator,{ref:r,className:te("-mx-1 h-px bg-border",e),...t}));SD.displayName=Ct.Separator.displayName;const c_=h.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Item,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));c_.displayName=Ct.Item.displayName;function Mv(e,[t,r]){return Math.min(r,Math.max(t,e))}var ED=h.createContext(void 0);function zp(e){const t=h.useContext(ED);return e||t||"ltr"}function Wp(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CD=[" ","Enter","ArrowUp","ArrowDown"],kD=[" ","Enter"],Is="Select",[pu,mu,jD]=ep(Is),[yi,gL]=xr(Is,[jD,li]),gu=li(),[ND,Gn]=yi(Is),[PD,TD]=yi(Is),u_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:p,form:b}=e,m=gu(t),[y,v]=h.useState(null),[w,x]=h.useState(null),[_,S]=h.useState(!1),E=zp(u),[C,j]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:Is}),[O,A]=Zr({prop:i,defaultProp:a,onChange:c,caller:Is}),K=h.useRef(null),B=y?b||!!y.closest("form"):!0,[X,M]=h.useState(new Set),Y=Array.from(X).map(T=>T.props.value).join(";");return l.jsx(Nx,{...m,children:l.jsxs(ND,{required:p,scope:t,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:pt(),value:O,onValueChange:A,open:C,onOpenChange:j,dir:E,triggerPointerDownPosRef:K,disabled:g,children:[l.jsx(pu.Provider,{scope:t,children:l.jsx(PD,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(T=>{M(W=>new Set(W).add(T))},[]),onNativeOptionRemove:h.useCallback(T=>{M(W=>{const P=new Set(W);return P.delete(T),P})},[]),children:r})}),B?l.jsxs(I_,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:T=>A(T.target.value),disabled:g,form:b,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(X)]},Y):null]})})};u_.displayName=Is;var d_="SelectTrigger",f_=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=gu(r),i=Gn(d_,r),a=i.disabled||n,c=be(t,i.onTriggerChange),u=mu(r),d=h.useRef("touch"),[f,g,p]=$_(m=>{const y=u().filter(x=>!x.disabled),v=y.find(x=>x.value===i.value),w=M_(y,m,v);w!==void 0&&i.onValueChange(w.value)}),b=m=>{a||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(Zc,{asChild:!0,...o,children:l.jsx(ee.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D_(i.value)?"":void 0,...s,ref:c,onClick:J(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&b(m)}),onPointerDown:J(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:J(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&g(m.key),!(y&&m.key===" ")&&CD.includes(m.key)&&(b(),m.preventDefault())})})})});f_.displayName=d_;var h_="SelectValue",p_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=Gn(h_,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=be(t,c.onValueNodeChange);return et(()=>{u(d)},[u,d]),l.jsx(ee.span,{...a,ref:f,style:{pointerEvents:"none"},children:D_(c.value)?l.jsx(l.Fragment,{children:i}):o})});p_.displayName=h_;var OD="SelectIcon",m_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ee.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});m_.displayName=OD;var RD="SelectPortal",g_=e=>l.jsx(Ia,{asChild:!0,...e});g_.displayName=RD;var Ds="SelectContent",v_=h.forwardRef((e,t)=>{const r=Gn(Ds,e.__scopeSelect),[n,s]=h.useState();if(et(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Fs.createPortal(l.jsx(y_,{scope:e.__scopeSelect,children:l.jsx(pu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(w_,{...e,ref:t})});v_.displayName=Ds;var sr=10,[y_,Qn]=yi(Ds),AD="SelectContentImpl",ID=Ps("SelectContent.RemoveScroll"),w_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:y,...v}=e,w=Gn(Ds,r),[x,_]=h.useState(null),[S,E]=h.useState(null),C=be(t,$=>_($)),[j,O]=h.useState(null),[A,K]=h.useState(null),B=mu(r),[X,M]=h.useState(!1),Y=h.useRef(!1);h.useEffect(()=>{if(x)return Ip(x)},[x]),Ap();const T=h.useCallback($=>{const[oe,...fe]=B().map(we=>we.ref.current),[me]=fe.slice(-1),ve=document.activeElement;for(const we of $)if(we===ve||(we==null||we.scrollIntoView({block:"nearest"}),we===oe&&S&&(S.scrollTop=0),we===me&&S&&(S.scrollTop=S.scrollHeight),we==null||we.focus(),document.activeElement!==ve))return},[B,S]),W=h.useCallback(()=>T([j,x]),[T,j,x]);h.useEffect(()=>{X&&W()},[X,W]);const{onOpenChange:P,triggerPointerDownPosRef:k}=w;h.useEffect(()=>{if(x){let $={x:0,y:0};const oe=me=>{var ve,we;$={x:Math.abs(Math.round(me.pageX)-(((ve=k.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(me.pageY)-(((we=k.current)==null?void 0:we.y)??0))}},fe=me=>{$.x<=10&&$.y<=10?me.preventDefault():x.contains(me.target)||P(!1),document.removeEventListener("pointermove",oe),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",fe,{capture:!0})}}},[x,P,k]),h.useEffect(()=>{const $=()=>P(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[P]);const[I,F]=$_($=>{const oe=B().filter(ve=>!ve.disabled),fe=oe.find(ve=>ve.ref.current===document.activeElement),me=M_(oe,$,fe);me&&setTimeout(()=>me.ref.current.focus())}),N=h.useCallback(($,oe,fe)=>{const me=!Y.current&&!fe;(w.value!==void 0&&w.value===oe||me)&&(O($),me&&(Y.current=!0))},[w.value]),D=h.useCallback(()=>x==null?void 0:x.focus(),[x]),U=h.useCallback(($,oe,fe)=>{const me=!Y.current&&!fe;(w.value!==void 0&&w.value===oe||me)&&K($)},[w.value]),V=n==="popper"?Xf:x_,re=V===Xf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:y}:{};return l.jsx(y_,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:N,selectedItem:j,onItemLeave:D,itemTextRefCallback:U,focusSelectedItem:W,selectedItemText:A,position:n,isPositioned:X,searchRef:I,children:l.jsx(cu,{as:ID,allowPinchZoom:!0,children:l.jsx(au,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:J(s,$=>{var oe;(oe=w.trigger)==null||oe.focus({preventScroll:!0}),$.preventDefault()}),children:l.jsx(ri,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(V,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...v,...re,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:J(v.onKeyDown,$=>{const oe=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!oe&&$.key.length===1&&F($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let me=B().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes($.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ve=$.target,we=me.indexOf(ve);me=me.slice(we+1)}setTimeout(()=>T(me)),$.preventDefault()}})})})})})})});w_.displayName=AD;var DD="SelectItemAlignedPosition",x_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Gn(Ds,r),i=Qn(Ds,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=be(t,C=>d(C)),g=mu(r),p=h.useRef(!1),b=h.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=i,x=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&y&&v){const C=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(o.dir!=="rtl"){const ve=A.left-j.left,we=O.left-ve,tt=C.left-we,$t=C.width+tt,Yn=Math.max($t,j.width),nn=window.innerWidth-sr,Jn=Mv(we,[sr,Math.max(sr,nn-Yn)]);a.style.minWidth=$t+"px",a.style.left=Jn+"px"}else{const ve=j.right-A.right,we=window.innerWidth-O.right-ve,tt=window.innerWidth-C.right-we,$t=C.width+tt,Yn=Math.max($t,j.width),nn=window.innerWidth-sr,Jn=Mv(we,[sr,Math.max(sr,nn-Yn)]);a.style.minWidth=$t+"px",a.style.right=Jn+"px"}const K=g(),B=window.innerHeight-sr*2,X=m.scrollHeight,M=window.getComputedStyle(u),Y=parseInt(M.borderTopWidth,10),T=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),P=parseInt(M.paddingBottom,10),k=Y+T+X+P+W,I=Math.min(y.offsetHeight*5,k),F=window.getComputedStyle(m),N=parseInt(F.paddingTop,10),D=parseInt(F.paddingBottom,10),U=C.top+C.height/2-sr,V=B-U,re=y.offsetHeight/2,$=y.offsetTop+re,oe=Y+T+$,fe=k-oe;if(oe<=U){const ve=K.length>0&&y===K[K.length-1].ref.current;a.style.bottom="0px";const we=u.clientHeight-m.offsetTop-m.offsetHeight,tt=Math.max(V,re+(ve?D:0)+we+W),$t=oe+tt;a.style.height=$t+"px"}else{const ve=K.length>0&&y===K[0].ref.current;a.style.top="0px";const tt=Math.max(U,Y+m.offsetTop+(ve?N:0)+re)+fe;a.style.height=tt+"px",m.scrollTop=oe-U+m.offsetTop}a.style.margin=`${sr}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,o.trigger,o.valueNode,a,u,m,y,v,o.dir,n]);et(()=>x(),[x]);const[_,S]=h.useState();et(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(C=>{C&&b.current===!0&&(x(),w==null||w(),b.current=!1)},[x,w]);return l.jsx(MD,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x_.displayName=DD;var $D="SelectPopperPosition",Xf=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=sr,...o}=e,i=gu(r);return l.jsx(vp,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xf.displayName=$D;var[MD,qp]=yi(Ds,{}),Zf="SelectViewport",b_=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Qn(Zf,r),i=qp(Zf,r),a=be(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(pu.Slot,{scope:r,children:l.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-sr*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(m,y);if(v<b){const w=v+p,x=Math.min(b,w),_=w-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});b_.displayName=Zf;var __="SelectGroup",[LD,FD]=yi(__),UD=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pt();return l.jsx(LD,{scope:r,id:s,children:l.jsx(ee.div,{role:"group","aria-labelledby":s,...n,ref:t})})});UD.displayName=__;var S_="SelectLabel",E_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=FD(S_,r);return l.jsx(ee.div,{id:s.id,...n,ref:t})});E_.displayName=S_;var jc="SelectItem",[BD,C_]=yi(jc),k_=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Gn(jc,r),c=Qn(jc,r),u=a.value===n,[d,f]=h.useState(o??""),[g,p]=h.useState(!1),b=be(t,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,n,s)}),m=pt(),y=h.useRef("touch"),v=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(BD,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:h.useCallback(w=>{f(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(pu.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ee.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:J(i.onFocus,()=>p(!0)),onBlur:J(i.onBlur,()=>p(!1)),onClick:J(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:J(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:J(i.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:J(i.onPointerMove,w=>{var x;y.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:J(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(kD.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});k_.displayName=jc;var Ui="SelectItemText",j_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Gn(Ui,r),a=Qn(Ui,r),c=C_(Ui,r),u=TD(Ui,r),[d,f]=h.useState(null),g=be(t,v=>f(v),c.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return et(()=>(m(b),()=>y(b)),[m,y,b]),l.jsxs(l.Fragment,{children:[l.jsx(ee.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Fs.createPortal(o.children,i.valueNode):null]})});j_.displayName=Ui;var N_="SelectItemIndicator",P_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return C_(N_,r).isSelected?l.jsx(ee.span,{"aria-hidden":!0,...n,ref:t}):null});P_.displayName=N_;var eh="SelectScrollUpButton",T_=h.forwardRef((e,t)=>{const r=Qn(eh,e.__scopeSelect),n=qp(eh,e.__scopeSelect),[s,o]=h.useState(!1),i=be(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(R_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});T_.displayName=eh;var th="SelectScrollDownButton",O_=h.forwardRef((e,t)=>{const r=Qn(th,e.__scopeSelect),n=qp(th,e.__scopeSelect),[s,o]=h.useState(!1),i=be(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(R_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});O_.displayName=th;var R_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Qn("SelectScrollButton",r),i=h.useRef(null),a=mu(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),et(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ee.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:J(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:J(s.onPointerLeave,()=>{c()})})}),zD="SelectSeparator",A_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ee.div,{"aria-hidden":!0,...n,ref:t})});A_.displayName=zD;var rh="SelectArrow",WD=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=gu(r),o=Gn(rh,r),i=Qn(rh,r);return o.open&&i.position==="popper"?l.jsx(yp,{...s,...n,ref:t}):null});WD.displayName=rh;var qD="SelectBubbleInput",I_=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=be(n,s),i=Wp(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(ee.select,{...r,style:{..._0,...r.style},ref:o,defaultValue:t})});I_.displayName=qD;function D_(e){return e===""||e===void 0}function $_(e){const t=Kt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function M_(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=VD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function VD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HD=u_,L_=f_,KD=p_,GD=m_,QD=g_,F_=v_,YD=b_,U_=E_,B_=k_,JD=j_,XD=P_,z_=T_,W_=O_,q_=A_;const yr=HD,wr=KD,Gt=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(L_,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(GD,{asChild:!0,children:l.jsx(V0,{className:"h-4 w-4 opacity-50"})})]}));Gt.displayName=L_.displayName;const V_=h.forwardRef(({className:e,...t},r)=>l.jsx(z_,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(gj,{className:"h-4 w-4"})}));V_.displayName=z_.displayName;const H_=h.forwardRef(({className:e,...t},r)=>l.jsx(W_,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(V0,{className:"h-4 w-4"})}));H_.displayName=W_.displayName;const Qt=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(QD,{children:l.jsxs(F_,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(V_,{}),l.jsx(YD,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(H_,{})]})}));Qt.displayName=F_.displayName;const ZD=h.forwardRef(({className:e,...t},r)=>l.jsx(U_,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ZD.displayName=U_.displayName;const _e=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(B_,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(XD,{children:l.jsx(sp,{className:"h-4 w-4"})})}),l.jsx(JD,{children:t})]}));_e.displayName=B_.displayName;const e$=h.forwardRef(({className:e,...t},r)=>l.jsx(q_,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));e$.displayName=q_.displayName;var vu="Checkbox",[t$,vL]=xr(vu),[r$,Vp]=t$(vu);function n$(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[g,p]=Zr({prop:r,defaultProp:s??!1,onChange:c,caller:vu}),[b,m]=h.useState(null),[y,v]=h.useState(null),w=h.useRef(!1),x=b?!!i||!!b.closest("form"):!0,_={checked:g,disabled:o,setChecked:p,control:b,setControl:m,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:$n(s)?!1:s,isFormControl:x,bubbleInput:y,setBubbleInput:v};return l.jsx(r$,{scope:t,..._,children:s$(f)?f(_):n})}var K_="CheckboxTrigger",G_=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:p,bubbleInput:b}=Vp(K_,e),m=be(s,d),y=h.useRef(c);return h.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const w=()=>f(y.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[o,f]),l.jsx(ee.button,{type:"button",role:"checkbox","aria-checked":$n(c)?"mixed":c,"aria-required":u,"data-state":Z_(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:m,onKeyDown:J(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:J(r,v=>{f(w=>$n(w)?!0:!w),b&&p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})})});G_.displayName=K_;var Hp=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(n$,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>l.jsxs(l.Fragment,{children:[l.jsx(G_,{...f,ref:t,__scopeCheckbox:r}),g&&l.jsx(X_,{__scopeCheckbox:r})]})})});Hp.displayName=vu;var Q_="CheckboxIndicator",Y_=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Vp(Q_,r);return l.jsx($r,{present:n||$n(o.checked)||o.checked===!0,children:l.jsx(ee.span,{"data-state":Z_(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Y_.displayName=Q_;var J_="CheckboxBubbleInput",X_=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:p}=Vp(J_,e),b=be(r,p),m=Wp(o),y=pp(n);h.useEffect(()=>{const w=g;if(!w)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,E=!s.current;if(m!==o&&S){const C=new Event("click",{bubbles:E});w.indeterminate=$n(o),S.call(w,$n(o)?!1:o),w.dispatchEvent(C)}},[g,m,o,s]);const v=h.useRef($n(o)?!1:o);return l.jsx(ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});X_.displayName=J_;function s$(e){return typeof e=="function"}function $n(e){return e==="indeterminate"}function Z_(e){return $n(e)?"indeterminate":e?"checked":"unchecked"}const Kp=h.forwardRef(({className:e,...t},r)=>l.jsx(Hp,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Y_,{className:te("flex items-center justify-center text-current"),children:l.jsx(sp,{className:"h-4 w-4"})})}));Kp.displayName=Hp.displayName;const Nc=h.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nc.displayName="Textarea";const eS=(e,t)=>{const[r,n]=h.useState([]),[s,o]=h.useState(!0);h.useEffect(()=>{e&&i()},[e,t]);const i=async()=>{if(e)try{const{data:a,error:c}=await H.from("custom_fields").select("*").eq("company_id",e).eq("table_name",t).order("field_order");if(c)throw c;n(a||[])}catch(a){console.error("Error fetching custom fields:",a)}finally{o(!1)}};return{fields:r,loading:s}},Ed={category:"raw",quantity:"",unit:"",reorderLevel:"",price:""},Lv=[{value:"add_new",label:"Add New Item"},{value:"restock",label:"Add to Existing Stock"},{value:"returns",label:"Process Return (Add Stock)"},{value:"damaged_goods",label:"Log Damaged Goods (Remove Stock)"},{value:"sample",label:"Log Sample Used (Remove Stock)"},{value:"correction",label:"Make Correction (Remove Stock)"}],o$=({onAdd:e,items:t})=>{const{primaryColor:r,accentColor:n}=Et(),[s,o]=h.useState(!1),[i,a]=h.useState(null),[c,u]=h.useState(""),[d,f]=h.useState(Ed),[g,p]=h.useState({}),[b,m]=h.useState(!1),[y,v]=h.useState(""),[w,x]=h.useState(""),{fields:_}=eS(i,"inventory_items");h.useEffect(()=>{C()},[]);const S=()=>{f(Ed),p({}),v(""),u(""),x("")},E=T=>{o(T),T||S()},C=async()=>{try{const{data:{user:T}}=await H.auth.getUser();if(!T)return;const{data:W}=await H.from("profiles").select("company_id").eq("id",T.id).single();W&&a(W.company_id)}catch(T){console.error("Error fetching profile:",T)}},j=T=>{const W=t.find(P=>P.name.toLowerCase()===T.toLowerCase());if(!W){q.error("Item not found. You must select an existing item.");return}v(T),f({category:W.category,quantity:"",unit:W.unit,reorderLevel:String(W.reorderLevel),price:String(W.price)}),m(!1)},O=T=>{if(T.preventDefault(),K){if(t.find(P=>P.name.toLowerCase()===y.toLowerCase())){q.error("Item already exists. Use 'Add to Existing' action.");return}}else if(!t.find(W=>W.name.toLowerCase()===y.toLowerCase())&&(y===""||!t.map(W=>W.name.toLowerCase()).includes(y.toLowerCase()))){q.error("Please select an existing item for this action.");return}e({name:y,category:d.category,quantity:Number(d.quantity),unit:d.unit,reorderLevel:Number(d.reorderLevel),price:Number(d.price)},g,c,w),S(),o(!1)},A=T=>{const W=g[T.field_name]||"";switch(T.field_type){case"text":return l.jsx(ce,{value:W,onChange:P=>p({...g,[T.field_name]:P.target.value}),placeholder:`Enter ${T.field_name}`});case"number":return l.jsx(ce,{type:"number",value:W,onChange:P=>p({...g,[T.field_name]:P.target.value}),placeholder:`Enter ${T.field_name}`});case"date":return l.jsx(ce,{type:"date",value:W,onChange:P=>p({...g,[T.field_name]:P.target.value})});case"boolean":return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kp,{checked:W===!0||W==="true",onCheckedChange:P=>p({...g,[T.field_name]:P})}),l.jsx("span",{className:"text-sm",children:"Yes"})]});default:return null}},K=c==="add_new",B=c!==""&&!K,X=()=>{var T;return c?((T=Lv.find(W=>W.value===c))==null?void 0:T.label)||"Manage Inventory":"Select Action"},M=()=>K?"Initial Quantity":["restock","returns"].includes(c)?"Quantity to Add":["damaged_goods","sample","correction"].includes(c)?"Quantity to Remove":"Quantity",Y=()=>K?"Add New Item":["restock","returns"].includes(c)?"Add Stock":["damaged_goods","sample","correction"].includes(c)?"Remove Stock":"Submit";return l.jsxs(gi,{open:s,onOpenChange:E,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(de,{style:{backgroundColor:r},className:"text-primary-foreground",onMouseEnter:T=>T.currentTarget.style.backgroundColor=n,onMouseLeave:T=>T.currentTarget.style.backgroundColor=r,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Add Item"]})}),l.jsxs(zs,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ws,{children:[l.jsx(qs,{children:X()}),l.jsx(du,{children:K?"Add a new raw material or finished product to your inventory.":"Select an item to adjust its stock level."})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"actionType",children:"Action"}),l.jsxs(yr,{value:c,onValueChange:T=>{u(T),v(""),f(Ed),x("")},children:[l.jsx(Gt,{id:"actionType",children:l.jsx(wr,{placeholder:"Select an action..."})}),l.jsx(Qt,{children:Lv.map(T=>l.jsx(_e,{value:T.value,children:T.label},T.value))})]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"name",children:"Item Name"}),K?l.jsx(ce,{id:"name",value:y,onChange:T=>v(T.target.value),placeholder:"Type a unique new item name...",required:!0}):l.jsxs(JI,{open:b,onOpenChange:m,children:[l.jsx(XI,{asChild:!0,children:l.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-full justify-between font-normal",children:[y||"Select an existing item...",l.jsx(vj,{className:"ml-2 h-4 w-4 shrink-0 opacity-50",style:{color:r}})]})}),l.jsx(Q1,{className:"w-[--radix-popover-trigger-width] p-0",children:l.jsxs(s_,{children:[l.jsx(o_,{placeholder:"Search item..."}),l.jsx(a_,{children:l.jsx("span",{className:"p-4 text-sm text-muted-foreground",children:"No item found."})}),l.jsx(i_,{children:l.jsx(l_,{children:t.map(T=>l.jsxs(c_,{value:T.name,onSelect:W=>{j(W)},children:[l.jsx(sp,{style:{color:r},className:`mr-2 h-4 w-4 ${y.toLowerCase()===T.name.toLowerCase()?"opacity-100":"opacity-0"}`}),T.name]},T.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"quantity",children:M()}),l.jsx(ce,{id:"quantity",type:"number",value:d.quantity,onChange:T=>f({...d,quantity:T.target.value}),placeholder:"ex. 100",required:!0,min:"0"})]}),B&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"notes",children:"Notes (Optional)"}),l.jsx(Nc,{id:"notes",value:w,onChange:T=>x(T.target.value),placeholder:"e.g., 'Box dropped during receiving' or 'Client return, order #123'"})]}),K&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"category",children:"Category"}),l.jsxs(yr,{value:d.category,onValueChange:T=>f({...d,category:T}),children:[l.jsx(Gt,{id:"category",children:l.jsx(wr,{})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"raw",children:"Raw Material"}),l.jsx(_e,{value:"finished",children:"Finished Product"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"unit",children:"Unit"}),l.jsx(ce,{id:"unit",value:d.unit,onChange:T=>f({...d,unit:T.target.value}),placeholder:"kg, lbs, units",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"reorderLevel",children:"Reorder Level"}),l.jsx(ce,{id:"reorderLevel",type:"number",value:d.reorderLevel,onChange:T=>f({...d,reorderLevel:T.target.value}),placeholder:"ex. 20",required:!0,min:"0"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"price",children:"Price per Unit"}),l.jsx(ce,{id:"price",type:"number",step:"0.01",value:d.price,onChange:T=>f({...d,price:T.target.value}),placeholder:"ex. 0.00",required:!0,min:"0"})]})]}),_.length>0&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Custom Fields"}),_.map(T=>l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:T.field_name,className:"capitalize",children:T.field_name}),A(T)]},T.id))]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),l.jsx(de,{type:"submit",style:{backgroundColor:r},className:"text-primary-foreground",disabled:!c||!y||!d.quantity,onMouseEnter:T=>{T.currentTarget.disabled||(T.currentTarget.style.backgroundColor=n)},onMouseLeave:T=>T.currentTarget.style.backgroundColor=r,children:Y()})]})]})]})]})};var Cd="rovingFocusGroup.onEntryFocus",i$={bubbles:!1,cancelable:!0},Wa="RovingFocusGroup",[nh,tS,a$]=ep(Wa),[l$,rS]=xr(Wa,[a$]),[c$,u$]=l$(Wa),nS=h.forwardRef((e,t)=>l.jsx(nh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(nh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(d$,{...e,ref:t})})}));nS.displayName=Wa;var d$=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,g=h.useRef(null),p=be(t,g),b=zp(o),[m,y]=Zr({prop:i,defaultProp:a??null,onChange:c,caller:Wa}),[v,w]=h.useState(!1),x=Kt(u),_=tS(r),S=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const j=g.current;if(j)return j.addEventListener(Cd,x),()=>j.removeEventListener(Cd,x)},[x]),l.jsx(c$,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:m,onItemFocus:h.useCallback(j=>y(j),[y]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:h.useCallback(()=>C(j=>j-1),[]),children:l.jsx(ee.div,{tabIndex:v||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{S.current=!0}),onFocus:J(e.onFocus,j=>{const O=!S.current;if(j.target===j.currentTarget&&O&&!v){const A=new CustomEvent(Cd,i$);if(j.currentTarget.dispatchEvent(A),!A.defaultPrevented){const K=_().filter(T=>T.focusable),B=K.find(T=>T.active),X=K.find(T=>T.id===m),Y=[B,X,...K].filter(Boolean).map(T=>T.ref.current);iS(Y,d)}}S.current=!1}),onBlur:J(e.onBlur,()=>w(!1))})})}),sS="RovingFocusGroupItem",oS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=pt(),u=o||c,d=u$(sS,r),f=d.currentTabStopId===u,g=tS(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:m}=d;return h.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),l.jsx(nh.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(ee.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:J(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:J(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=p$(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=g().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(y.currentTarget);x=d.loop?m$(x,_+1):x.slice(_+1)}setTimeout(()=>iS(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});oS.displayName=sS;var f$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function h$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p$(e,t,r){const n=h$(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return f$[n]}function iS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function m$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var g$=nS,v$=oS,yu="Tabs",[y$,yL]=xr(yu,[rS]),aS=rS(),[w$,Gp]=y$(yu),lS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=zp(a),[f,g]=Zr({prop:n,onChange:s,defaultProp:o??"",caller:yu});return l.jsx(w$,{scope:r,baseId:pt(),value:f,onValueChange:g,orientation:i,dir:d,activationMode:c,children:l.jsx(ee.div,{dir:d,"data-orientation":i,...u,ref:t})})});lS.displayName=yu;var cS="TabsList",uS=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Gp(cS,r),i=aS(r);return l.jsx(g$,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(ee.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});uS.displayName=cS;var dS="TabsTrigger",fS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Gp(dS,r),a=aS(r),c=mS(i.baseId,n),u=gS(i.baseId,n),d=n===i.value;return l.jsx(v$,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:J(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:J(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:J(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});fS.displayName=dS;var hS="TabsContent",pS=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Gp(hS,r),c=mS(a.baseId,n),u=gS(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx($r,{present:s||d,children:({present:g})=>l.jsx(ee.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});pS.displayName=hS;function mS(e,t){return`${e}-trigger-${t}`}function gS(e,t){return`${e}-content-${t}`}var x$=lS,vS=uS,yS=fS,wS=pS;const Qp=x$,wu=h.forwardRef(({className:e,...t},r)=>l.jsx(vS,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wu.displayName=vS.displayName;const Tr=h.forwardRef(({className:e,...t},r)=>l.jsx(yS,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Tr.displayName=yS.displayName;const Or=h.forwardRef(({className:e,...t},r)=>l.jsx(wS,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Or.displayName=wS.displayName;const b$=({companyId:e})=>{const t=Yt(),[r,n]=h.useState([]),[s,o]=h.useState(0);h.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(e)try{const{data:a,error:c}=await H.from("orders").select("id, order_number, customer_name, total_amount, status").eq("company_id",e).in("status",["pending","processing"]).order("created_at",{ascending:!1}).limit(5);if(c)throw c;n((a||[]).map(f=>({id:f.id,orderNumber:f.order_number,customerName:f.customer_name,totalAmount:typeof f.total_amount=="string"?parseFloat(f.total_amount):f.total_amount,status:f.status})));const{data:u,error:d}=await H.from("shipments").select("id").eq("company_id",e).eq("status","scheduled");if(d)throw d;o((u||[]).length)}catch(a){console.error("Error fetching pending data:",a)}};return l.jsxs(Ue,{children:[l.jsxs(Kr,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[l.jsx(Gr,{className:"text-lg font-semibold",children:"Pending Orders & Shipments"}),l.jsx(H0,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(Ge,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Orders to Ship"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsxs(de,{variant:"outline",size:"sm",onClick:()=>t("/orders"),className:"gap-2",children:["View Orders",l.jsx(wg,{className:"h-4 w-4"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Shipments"}),l.jsx("p",{className:"text-2xl font-bold",children:s})]}),l.jsxs(de,{variant:"outline",size:"sm",onClick:()=>t("/shipping"),className:"gap-2",children:["View Schedule",l.jsx(wg,{className:"h-4 w-4"})]})]}),r.length>0&&l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Recent Pending Orders"}),l.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(a=>l.jsxs("div",{className:"flex items-center justify-between text-sm p-2 hover:bg-muted/50 rounded cursor-pointer",onClick:()=>t("/orders"),children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:a.orderNumber}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a.customerName})]}),l.jsxs("p",{className:"font-medium",children:["$",a.totalAmount.toFixed(2)]})]},a.id))})]})]})})]})},Vs=({companyName:e,pageTitle:t,pageSubtitle:r,activePage:n,children:s})=>{const o=Yt(),{primaryColor:i}=Et(),a=async()=>{await H.auth.signOut(),q.success("Logged out successfully"),o("/")},c=[{key:"inventory",label:"Inventory",icon:ni,path:"/dashboard"},{key:"orders",label:"Orders",icon:Qc,path:"/orders"},{key:"customers",label:"Customers",icon:op,path:"/customers"},{key:"shipping",label:"Shipping",icon:Q0,path:"/shipping"},{key:"properties",label:"Properties",icon:Cj,path:"/properties"},{key:"team",label:"Team",icon:Aj,path:"/teammanagement"},{key:"reports",label:"Reports",icon:mj,path:"/reports"}];return l.jsx("header",{className:"border-b border-border bg-card shadow-[var(--shadow-soft)]",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(to right, var(--company-primary), var(--company-accent), var(--company-primary))"},children:[e," ",t]}),l.jsx("p",{className:"text-muted-foreground mt-2",children:r})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[l.jsxs("div",{className:"group relative flex items-center gap-1 rounded-full py-3 px-2 transition-all duration-300 bg-background hover:bg-muted",children:[l.jsx(de,{variant:"ghost",size:"icon",className:"flex-shrink-0 rounded-full",children:l.jsx(Sj,{className:"h-5 w-5",style:{color:i}})}),l.jsxs("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 flex items-center gap-3 pr-1 py-4 pl-4 
                           w-0 opacity-0 group-hover:w-max group-hover:opacity-100 transition-all duration-300 ease-in-out overflow-hidden 
                           bg-background group-hover:bg-muted rounded-full z-10`,children:[c.map(u=>l.jsxs(de,{variant:n===u.key?"secondary":"outline",onClick:()=>o(u.path),className:"gap-2 flex-shrink-0",children:[l.jsx(u.icon,{className:"h-4 w-4",style:{color:i}}),u.label]},u.key)),l.jsxs(de,{variant:"ghost",onClick:a,className:"gap-2 flex-shrink-0",children:[l.jsx(xj,{className:"h-4 w-4"}),"Logout"]}),l.jsx("div",{className:"w-14 flex-shrink-0"})]})]}),l.jsx("div",{className:"flex-shrink-0",children:s})]})]})})})},_$=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null),[i,a]=h.useState("");h.useEffect(()=>{c()},[]),h.useEffect(()=>{s&&u()},[s]);const c=async()=>{try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");y.user_metadata&&y.user_metadata.company_name&&a(y.user_metadata.company_name);const{data:v,error:w}=await H.from("profiles").select("company_id").eq("id",y.id).single();if(w)throw w;o(v.company_id)}catch(y){q.error("Failed to fetch profile"),console.error("Error fetching profile:",y)}},u=async()=>{if(s)try{const{data:y,error:v}=await H.from("inventory_items").select("*").eq("company_id",s).order("created_at",{ascending:!1});if(v)throw v;const w=(y||[]).map(x=>({id:x.id,name:x.name,category:x.category,quantity:x.quantity,unit:x.unit,reorderLevel:x.reorder_level,lastUpdated:x.updated_at,price:typeof x.price=="string"?parseFloat(x.price):x.price||0}));t(w)}catch(y){q.error("Failed to load inventory items"),console.error("Error fetching items:",y)}finally{n(!1)}},d=async(y,v,w,x)=>{if(!s){q.error("Company information not loaded");return}if(!w){q.error("No action selected");return}try{const{data:{user:_}}=await H.auth.getUser();if(!_)throw new Error("Not authenticated");const S=e.find(E=>E.name.toLowerCase()===y.name.toLowerCase());if(w==="add_new"){if(S){q.error("Item name already exists. Use 'Add to Existing' action instead.");return}const{data:E,error:C}=await H.from("inventory_items").insert({user_id:_.id,company_id:s,name:y.name,category:y.category,quantity:y.quantity,unit:y.unit,reorder_level:y.reorderLevel,price:y.price,custom_data:v||{}}).select().single();if(C)throw C;if(!E)throw new Error("Failed to create item.");await H.from("inventory_transactions").insert({company_id:s,inventory_item_id:E.id,transaction_type:"add_new",quantity:E.quantity,reference_type:"item_creation",notes:x||"New item created"}),q.success("New item added successfully")}else{if(!S){q.error("Item not found. Cannot apply adjustment to a non-existent item.");return}const E=["damaged_goods","sample","correction"].includes(w),C=Number(y.quantity),j=E?-C:C,O=S.quantity+j;if(O<0){q.error(`Operation failed. Cannot set "${S.name}" quantity below zero.`);return}const{error:A}=await H.from("inventory_items").update({quantity:O,updated_at:new Date().toISOString()}).eq("id",S.id);if(A)throw A;await H.from("inventory_transactions").insert({company_id:s,inventory_item_id:S.id,transaction_type:w,quantity:j,reference_type:"manual_adjustment",notes:x||"Manual stock adjustment"}),q.success(`Stock updated for ${S.name}`)}u()}catch(_){q.error("Failed to submit item"),console.error("Error submitting item:",_)}},f=y=>{q.info("Edit functionality coming soon!")},g=async y=>{try{const{error:v}=await H.from("inventory_items").delete().eq("id",y);if(v)throw v;q.success("Item deleted successfully"),u()}catch(v){q.error("Failed to delete item"),console.error("Error deleting item:",v)}},p=e.filter(y=>y.category==="raw"),b=e.filter(y=>y.category==="finished"),m=e.filter(y=>y.quantity<=y.reorderLevel);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Vs,{companyName:i,pageTitle:"Inventory",pageSubtitle:"Track and manage your inventory",activePage:"inventory",children:l.jsx(o$,{onAdd:d,items:e})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsx(OA,{totalItems:e.length,rawMaterials:p.length,finishedProducts:b.length,lowStock:m.length}),l.jsx(b$,{companyId:s}),l.jsxs(Qp,{defaultValue:"all",className:"spacey-4",children:[l.jsxs(wu,{className:"bg-muted",style:{borderColor:"var(--company-primary)"},children:[l.jsx(Tr,{value:"all",children:"All Items"}),l.jsx(Tr,{value:"raw",children:"Raw Materials"}),l.jsx(Tr,{value:"finished",children:"Finished Products"}),l.jsx(Tr,{value:"lowstock",children:"Low Stock"})]}),l.jsx(Or,{value:"all",className:"space-y-4",children:l.jsx(Sl,{items:e,onEdit:f,onDelete:g})}),l.jsx(Or,{value:"raw",className:"space-y-4",children:l.jsx(Sl,{items:p,onEdit:f,onDelete:g})}),l.jsx(Or,{value:"finished",className:"space-y-4",children:l.jsx(Sl,{items:b,onEdit:f,onDelete:g})}),l.jsx(Or,{value:"lowstock",className:"space-y-4",children:l.jsx(Sl,{items:m,onEdit:f,onDelete:g})})]})]})})]})},S$=({orders:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.length,s=e.reduce((d,f)=>d+f.totalAmount,0),o=e.filter(d=>d.status==="pending"||d.status==="processing").length,i=n>0?s/n:0,a=[{title:"Total Orders",value:n,icon:jj},{title:"Total Revenue",value:`$${s.toLocaleString()}`,icon:yj},{title:"Pending Orders",value:o,icon:ni},{title:"Avg Order Value",value:`$${i.toFixed(2)}`,icon:Qc}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,f)=>l.jsx(Ue,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[f]}`},children:l.jsxs(Ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[f]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[f],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[f]}})]})},d.title))})},E$=({orders:e,onDelete:t,onUpdateStatus:r})=>{const{primaryColor:n}=Et(),s=o=>{switch(o){case"completed":return"success";case"processing":return"warning";case"pending":return"secondary";case"cancelled":return"destructive";default:return"secondary"}};return l.jsx(Ue,{className:"bg-card/50 backdrop-blur",style:{borderColor:`${n}33`},children:l.jsxs(hi,{children:[l.jsx(pi,{children:l.jsxs(xt,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${n}33`},children:[l.jsx(ge,{children:"Order #"}),l.jsx(ge,{children:"Contact"}),l.jsx(ge,{children:"Email"}),l.jsx(ge,{children:"Phone"}),l.jsx(ge,{children:"Items"}),l.jsx(ge,{children:"Total Amount"}),l.jsx(ge,{children:"Date"}),l.jsx(ge,{children:"Status"}),l.jsx(ge,{className:"text-right",children:"Actions"})]})}),l.jsx(mi,{children:e.map(o=>l.jsxs(xt,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${n}1A`},children:[l.jsx(le,{className:"font-medium",children:o.orderNumber}),l.jsx(le,{children:o.contactName}),l.jsx(le,{className:"text-muted-foreground",children:o.contactEmail}),l.jsx(le,{className:"text-muted-foreground",children:o.contactPhone}),l.jsx(le,{children:l.jsxs(gi,{children:[l.jsx(vi,{asChild:!0,children:l.jsxs(de,{variant:"ghost",size:"sm",className:"gap-2",children:[l.jsx(K0,{className:"h-4 w-4",style:{color:n}}),o.items.length," item",o.items.length!==1?"s":""]})}),l.jsxs(zs,{children:[l.jsx(Ws,{children:l.jsxs(qs,{children:["Order Items - ",o.orderNumber]})}),l.jsx("div",{className:"space-y-2",children:o.items.map((i,a)=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:i.itemName}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",i.quantity]})]}),l.jsxs("p",{className:"font-semibold",children:["$",(i.quantity*i.price).toFixed(2)]})]},a))})]})]})}),l.jsxs(le,{className:"font-semibold",children:["$",o.totalAmount.toFixed(2)]}),l.jsx(le,{className:"text-muted-foreground",children:new Date(o.orderDate).toLocaleDateString()}),l.jsx(le,{children:l.jsxs(yr,{value:o.status,onValueChange:i=>r(o.id,i),children:[l.jsx(Gt,{className:"w-[140px]",children:l.jsx(wr,{children:o.status==="pending"?l.jsx(Je,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Pending"}):l.jsx(Je,{variant:s(o.status),children:o.status})})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"pending",children:l.jsx(Je,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Pending"})}),l.jsx(_e,{value:"processing",children:l.jsx(Je,{variant:"warning",children:"Processing"})}),l.jsx(_e,{value:"completed",children:l.jsx(Je,{variant:"success",children:"Completed"})}),l.jsx(_e,{value:"cancelled",children:l.jsx(Je,{variant:"destructive",children:"Cancelled"})})]})]})}),l.jsx(le,{className:"text-right",children:l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t(o.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:l.jsx(si,{className:"h-4 w-4"})})})]},o.id))})]})})};var xu="Switch",[C$,wL]=xr(xu),[k$,j$]=C$(xu),xS=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[g,p]=h.useState(null),b=be(t,x=>p(x)),m=h.useRef(!1),y=g?d||!!g.closest("form"):!0,[v,w]=Zr({prop:s,defaultProp:o??!1,onChange:u,caller:xu});return l.jsxs(k$,{scope:r,checked:v,disabled:a,children:[l.jsx(ee.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":ES(v),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:b,onClick:J(e.onClick,x=>{w(_=>!_),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&l.jsx(SS,{control:g,bubbles:!m.current,name:n,value:c,checked:v,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});xS.displayName=xu;var bS="SwitchThumb",_S=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=j$(bS,r);return l.jsx(ee.span,{"data-state":ES(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});_S.displayName=bS;var N$="SwitchBubbleInput",SS=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),a=be(i,o),c=Wp(r),u=pp(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SS.displayName=N$;function ES(e){return e?"checked":"unchecked"}var CS=xS,P$=_S;const kS=h.forwardRef(({className:e,...t},r)=>l.jsx(CS,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:l.jsx(P$,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kS.displayName=CS.displayName;const T$=({open:e,onOpenChange:t,onAdd:r})=>{const{primaryColor:n,accentColor:s}=Et(),[o,i]=h.useState(null),[a,c]=h.useState([]),[u,d]=h.useState([]),[f,g]=h.useState(null),[p,b]=h.useState({name:"",email:"",phone:""}),[m,y]=h.useState([]),[v,w]=h.useState(!1),[x,_]=h.useState({recipientName:"",recipientEmail:"",recipientPhone:"",shippingAddress:""}),[S,E]=h.useState({}),{fields:C}=eS(o,"orders");h.useEffect(()=>{j()},[]),h.useEffect(()=>{o&&e&&(O(),A())},[o,e]);const j=async()=>{try{const{data:{user:k}}=await H.auth.getUser();if(!k)return;const{data:I}=await H.from("profiles").select("company_id").eq("id",k.id).single();I&&i(I.company_id)}catch(k){console.error("Error fetching profile:",k)}},O=async()=>{if(o)try{const{data:k,error:I}=await H.from("inventory_items").select("id, name, price, quantity, unit").eq("company_id",o).eq("category","finished").order("name");if(I)throw I;c((k==null?void 0:k.map(F=>({id:F.id,name:F.name,price:typeof F.price=="string"?parseFloat(F.price):F.price||0,quantity:F.quantity,unit:F.unit})))||[])}catch(k){q.error("Failed to load inventory items"),console.error("Error fetching inventory:",k)}},A=async()=>{if(o)try{const{data:k,error:I}=await H.from("customers").select("id, name, email, phone, address").eq("company_id",o).order("name");if(I)throw I;d(k||[])}catch(k){q.error("Failed to load customers"),console.error("Error fetching customers:",k)}},K=k=>{g(k);const I=u.find(F=>F.id===k);I?(b({name:I.name,email:I.email,phone:I.phone}),I.address&&_(F=>({...F,shippingAddress:I.address}))):(b({name:"",email:"",phone:""}),_(F=>({...F,shippingAddress:""})))},B=()=>{b({name:"",email:"",phone:""}),y([]),w(!1),_({recipientName:"",recipientEmail:"",recipientPhone:"",shippingAddress:""}),E({}),g(null)},X=k=>{t(k),k||B()},M=()=>{y([...m,{inventoryItemId:"",itemName:"",quantity:0,price:0,availableQty:0}])},Y=k=>{y(m.filter((I,F)=>F!==k))},T=(k,I,F)=>{var D;const N=[...m];if(I==="inventoryItemId"){const U=a.find(V=>V.id===F);U&&(N[k]={inventoryItemId:F,itemName:U.name,quantity:1,price:U.price,availableQty:U.quantity})}else if(I==="quantity"){const U=Number(F);if(U>N[k].availableQty){q.error(`Only ${N[k].availableQty} ${((D=a.find(V=>V.id===N[k].inventoryItemId))==null?void 0:D.unit)||"units"} available`);return}N[k].quantity=U}y(N)},W=k=>{if(k.preventDefault(),!p.name||!p.email||!p.phone){q.error("Please ensure all customer contact details (Name, Email, Phone) are filled out.");return}if(m.length===0){q.error("Please add at least one item");return}if(m.some(D=>!D.inventoryItemId||D.quantity<=0)){q.error("Please complete all order items");return}const I=m.reduce((D,U)=>D+U.price*U.quantity,0),F=`ORD-${Date.now()}`;if(v&&!x.shippingAddress){q.error("Please enter a shipping address");return}const N={id:crypto.randomUUID(),orderNumber:F,contactName:p.name,contactEmail:p.email,contactPhone:p.phone,selectedCustomerId:f,items:m.map(D=>({itemId:D.inventoryItemId,itemName:D.itemName,quantity:D.quantity,price:D.price})),totalAmount:I,orderDate:new Date().toISOString(),status:"pending",needsShipping:v,shippingAddress:v?x.shippingAddress:void 0,recipientName:v?x.recipientName||p.name:void 0,recipientEmail:v?x.recipientEmail||p.email:void 0,recipientPhone:v?x.recipientPhone||p.phone:void 0};r(N,S),B(),t(!1)},P=k=>{const I=S[k.field_name]||"";switch(k.field_type){case"text":return l.jsx(ce,{value:I,onChange:F=>E({...S,[k.field_name]:F.target.value}),placeholder:`Enter ${k.field_name}`});case"number":return l.jsx(ce,{type:"number",value:I,onChange:F=>E({...S,[k.field_name]:F.target.value}),placeholder:`Enter ${k.field_name}`});case"date":return l.jsx(ce,{type:"date",value:I,onChange:F=>E({...S,[k.field_name]:F.target.value})});case"boolean":return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kp,{checked:I===!0||I==="true",onCheckedChange:F=>E({...S,[k.field_name]:F})}),l.jsx("span",{className:"text-sm",children:"Yes"})]});default:return null}};return l.jsxs(gi,{open:e,onOpenChange:X,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(de,{className:"text-primary-foreground",style:{backgroundColor:n},onMouseEnter:k=>k.currentTarget.style.backgroundColor=s,onMouseLeave:k=>k.currentTarget.style.backgroundColor=n,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"New Order"]})}),l.jsxs(zs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ws,{children:[l.jsx(qs,{children:"Create New Order"}),l.jsx(du,{children:"Create a new customer order from finished products in inventory."})]}),l.jsxs("form",{onSubmit:W,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Customer Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"customerSelect",children:"Select Existing Customer"}),l.jsxs(yr,{value:f||"new",onValueChange:K,children:[l.jsx(Gt,{id:"customerSelect",children:l.jsx(wr,{placeholder:"Select a customer or create a new one"})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"new",children:"-- New Customer --"}),u.map(k=>l.jsxs(_e,{value:k.id,children:[k.name," (",k.email,")"]},k.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"contactName",children:"Name *"}),l.jsx(ce,{id:"contactName",value:p.name,onChange:k=>b({...p,name:k.target.value}),placeholder:"John Doe",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"contactEmail",children:"Email *"}),l.jsx(ce,{id:"contactEmail",type:"email",value:p.email,onChange:k=>b({...p,email:k.target.value}),placeholder:"john@example.com",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"contactPhone",children:"Phone *"}),l.jsx(ce,{id:"contactPhone",type:"tel",value:p.phone,onChange:k=>b({...p,phone:k.target.value}),placeholder:"+1 (555) 000-0000",required:!0})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Order Items"}),l.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:M,style:{color:n,borderColor:n},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2",style:{color:n}}),"Add Item"]})]}),m.map((k,I)=>l.jsxs("div",{className:"flex gap-2 items-end p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(se,{children:"Product"}),l.jsxs(yr,{value:k.inventoryItemId,onValueChange:F=>T(I,"inventoryItemId",F),children:[l.jsx(Gt,{children:l.jsx(wr,{placeholder:"Select product"})}),l.jsx(Qt,{children:a.map(F=>l.jsxs(_e,{value:F.id,children:[F.name," ($",F.price.toFixed(2)," - ",F.quantity," ",F.unit," available)"]},F.id))})]})]}),l.jsxs("div",{className:"w-24 space-y-2",children:[l.jsx(se,{children:"Quantity"}),l.jsx(ce,{type:"number",min:"1",max:k.availableQty,value:k.quantity||"",onChange:F=>T(I,"quantity",F.target.value),placeholder:"0",disabled:!k.inventoryItemId})]}),l.jsxs("div",{className:"w-28 space-y-2",children:[l.jsx(se,{children:"Price"}),l.jsx(ce,{type:"text",value:`$${k.price.toFixed(2)}`,disabled:!0})]}),l.jsx(de,{type:"button",variant:"ghost",size:"icon",onClick:()=>Y(I),className:"text-destructive",children:l.jsx(si,{className:"h-4 w-4"})})]},I)),m.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'No items added yet. Click "Add Item" to get started.'})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(se,{htmlFor:"needsShipping",children:"Needs Shipping"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a shipment for this order"})]}),l.jsx(kS,{id:"needsShipping",checked:v,onCheckedChange:w})]}),v&&l.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Shipping Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"shippingAddress",children:"Shipping Address *"}),l.jsx(ce,{id:"shippingAddress",value:x.shippingAddress,onChange:k=>_({...x,shippingAddress:k.target.value}),placeholder:"123 Main St, City, State, ZIP",required:v})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientName",children:"Recipient Name"}),l.jsx(ce,{id:"recipientName",value:x.recipientName,onChange:k=>_({...x,recipientName:k.target.value}),placeholder:"Leave empty to use customer name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientEmail",children:"Recipient Email"}),l.jsx(ce,{id:"recipientEmail",type:"email",value:x.recipientEmail,onChange:k=>_({...x,recipientEmail:k.target.value}),placeholder:"Leave empty to use customer email"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientPhone",children:"Recipient Phone"}),l.jsx(ce,{id:"recipientPhone",type:"tel",value:x.recipientPhone,onChange:k=>_({...x,recipientPhone:k.target.value}),placeholder:"Leave empty to use customer phone"})]})]})]}),C.length>0&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Additional Information"}),C.map(k=>l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:k.field_name,className:"capitalize",children:k.field_name}),P(k)]},k.id))]}),m.length>0&&l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[l.jsx("span",{className:"font-semibold",children:"Total Amount:"}),l.jsxs("span",{className:"text-2xl font-bold",children:["$",m.reduce((k,I)=>k+I.price*I.quantity,0).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>X(!1),children:"Cancel"}),l.jsx(de,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:n},onMouseEnter:k=>{k.currentTarget.disabled||(k.currentTarget.style.backgroundColor=s)},onMouseLeave:k=>k.currentTarget.style.backgroundColor=n,children:"Create Order"})]})]})]})]})},O$=()=>{Yt();const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState(null),[c,u]=h.useState("");h.useEffect(()=>{d()},[]),h.useEffect(()=>{i&&f()},[i]);const d=async()=>{try{const{data:{user:m}}=await H.auth.getUser();if(!m)throw new Error("Not authenticated");m.user_metadata&&m.user_metadata.company_name&&u(m.user_metadata.company_name);const{data:y,error:v}=await H.from("profiles").select("company_id").eq("id",m.id).single();if(v)throw v;a(y.company_id)}catch(m){q.error("Failed to fetch profile"),console.error("Error fetching profile:",m)}},f=async()=>{if(i)try{const{data:m,error:y}=await H.from("orders").select("*, order_items(*)").eq("company_id",i).order("created_at",{ascending:!1});if(y)throw y;const v=(m||[]).map(w=>({id:w.id,orderNumber:w.order_number,contactName:w.customer_name,contactEmail:w.customer_email,contactPhone:w.customer_phone,selectedCustomerId:w.customer_id,items:(w.order_items||[]).map(x=>({itemId:x.id,itemName:x.item_name,quantity:x.quantity,price:typeof x.price=="string"?parseFloat(x.price):x.price})),totalAmount:typeof w.total_amount=="string"?parseFloat(w.total_amount):w.total_amount,orderDate:w.created_at,status:w.status,needsShipping:w.needs_shipping,shippingAddress:w.shipping_address,recipientName:w.recipient_name,recipientEmail:w.recipient_email,recipientPhone:w.recipient_phone}));t(v)}catch(m){q.error("Failed to load orders"),console.error("Error fetching orders:",m)}finally{n(!1)}},g=async(m,y)=>{if(!i){q.error("Company information not loaded");return}try{const{data:{user:v}}=await H.auth.getUser();if(!v)throw new Error("Not authenticated");const{data:w,error:x}=await H.from("orders").insert({user_id:v.id,company_id:i,order_number:m.orderNumber,customer_name:m.contactName,customer_email:m.contactEmail,customer_phone:m.contactPhone,customer_id:m.selectedCustomerId||null,total_amount:m.totalAmount,status:m.status,custom_data:y||{},needs_shipping:m.needsShipping||!1,shipping_address:m.shippingAddress,recipient_name:m.recipientName,recipient_email:m.recipientEmail,recipient_phone:m.recipientPhone}).select().single();if(x)throw x;const _=m.items.map(E=>({order_id:w.id,item_name:E.itemName,quantity:E.quantity,price:E.price,inventory_item_id:E.itemId})),{error:S}=await H.from("order_items").insert(_);if(S)throw S;for(const E of m.items){const{data:C,error:j}=await H.from("inventory_items").select("quantity").eq("id",E.itemId).single();if(j)throw j;const O=C.quantity-E.quantity,{error:A}=await H.from("inventory_items").update({quantity:O}).eq("id",E.itemId);if(A)throw A;await H.from("inventory_transactions").insert({company_id:i,inventory_item_id:E.itemId,transaction_type:"order",quantity:-E.quantity,reference_id:w.id,reference_type:"order",notes:`Order ${m.orderNumber} - ${m.contactName}`})}if(m.needsShipping){const E=`SHP-${Date.now()}`,{error:C}=await H.from("shipments").insert({company_id:i,order_id:w.id,shipment_number:E,shipment_type:"shipment",recipient_name:m.recipientName||m.contactName,recipient_email:m.recipientEmail||m.contactEmail,recipient_phone:m.recipientPhone||m.contactPhone,shipping_address:m.shippingAddress,scheduled_date:new Date().toISOString(),status:"scheduled"});if(C)throw C}q.success(m.needsShipping?"Order created, inventory updated, and shipment scheduled":"Order created and inventory updated"),f()}catch(v){q.error("Failed to create order"),console.error("Error creating order:",v)}},p=async m=>{try{const{error:y}=await H.from("orders").delete().eq("id",m);if(y)throw y;q.success("Order deleted successfully"),f()}catch(y){q.error("Failed to delete order"),console.error("Error deleting order:",y)}},b=async(m,y)=>{try{const{error:v}=await H.from("orders").update({status:y}).eq("id",m);if(v)throw v;q.success("Order status updated"),f()}catch(v){q.error("Failed to update order status"),console.error("Error updating status:",v)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Vs,{companyName:c,pageTitle:"Orders",pageSubtitle:"Track and manage your customer orders",activePage:"orders",children:l.jsx(T$,{open:s,onOpenChange:o,onAdd:g})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(S$,{orders:e}),l.jsx(E$,{orders:e,onDelete:p,onUpdateStatus:b})]})]})},R$=({shipments:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.filter(d=>d.status==="scheduled").length,s=e.filter(d=>d.status==="in_transit").length,o=e.filter(d=>d.status==="delivered").length,a=[{title:"Total Shipments",value:e.length,icon:ni},{title:"Scheduled",value:n,icon:H0},{title:"In Transit",value:s,icon:Q0},{title:"Delivered",value:o,icon:zl}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,f)=>l.jsx(Ue,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[f]}`},children:l.jsxs(Ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[f]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[f],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[f]}})]})},d.title))})};function _r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $s(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const jS=6048e5,A$=864e5;let I$={};function bu(){return I$}function ka(e,t){var a,c,u,d;const r=bu(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=_r(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Pc(e){return ka(e,{weekStartsOn:1})}function NS(e){const t=_r(e),r=t.getFullYear(),n=$s(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Pc(n),o=$s(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Pc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Fv(e){const t=_r(e);return t.setHours(0,0,0,0),t}function Uv(e){const t=_r(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function D$(e,t){const r=Fv(e),n=Fv(t),s=+r-Uv(r),o=+n-Uv(n);return Math.round((s-o)/A$)}function $$(e){const t=NS(e),r=$s(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pc(r)}function M$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function L$(e){if(!M$(e)&&typeof e!="number")return!1;const t=_r(e);return!isNaN(Number(t))}function F$(e){const t=_r(e),r=$s(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const U$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},B$=(e,t,r)=>{let n;const s=U$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function kd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const z$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V$={date:kd({formats:z$,defaultWidth:"full"}),time:kd({formats:W$,defaultWidth:"full"}),dateTime:kd({formats:q$,defaultWidth:"full"})},H$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K$=(e,t,r,n)=>H$[e];function Ri(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const G$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eM=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tM={ordinalNumber:eM,era:Ri({values:G$,defaultWidth:"wide"}),quarter:Ri({values:Q$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ri({values:Y$,defaultWidth:"wide"}),day:Ri({values:J$,defaultWidth:"wide"}),dayPeriod:Ri({values:X$,defaultWidth:"wide",formattingValues:Z$,defaultFormattingWidth:"wide"})};function Ai(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?nM(a,f=>f.test(i)):rM(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function rM(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nM(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sM(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const oM=/^(\d+)(th|st|nd|rd)?/i,iM=/\d+/i,aM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lM={any:[/^b/i,/^(a|c)/i]},cM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uM={any:[/1/i,/2/i,/3/i,/4/i]},dM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vM={ordinalNumber:sM({matchPattern:oM,parsePattern:iM,valueCallback:e=>parseInt(e,10)}),era:Ai({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:lM,defaultParseWidth:"any"}),quarter:Ai({matchPatterns:cM,defaultMatchWidth:"wide",parsePatterns:uM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ai({matchPatterns:dM,defaultMatchWidth:"wide",parsePatterns:fM,defaultParseWidth:"any"}),day:Ai({matchPatterns:hM,defaultMatchWidth:"wide",parsePatterns:pM,defaultParseWidth:"any"}),dayPeriod:Ai({matchPatterns:mM,defaultMatchWidth:"any",parsePatterns:gM,defaultParseWidth:"any"})},yM={code:"en-US",formatDistance:B$,formatLong:V$,formatRelative:K$,localize:tM,match:vM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wM(e){const t=_r(e);return D$(t,F$(t))+1}function xM(e){const t=_r(e),r=+Pc(t)-+$$(t);return Math.round(r/jS)+1}function PS(e,t){var d,f,g,p;const r=_r(e),n=r.getFullYear(),s=bu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(g=s.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,i=$s(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=ka(i,t),c=$s(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ka(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bM(e,t){var a,c,u,d;const r=bu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=PS(e,t),o=$s(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ka(o,t)}function _M(e,t){const r=_r(e),n=+ka(r,t)-+bM(r,t);return Math.round(n/jS)+1}function Se(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Se(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Se(r+1,2)},d(e,t){return Se(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Se(e.getHours()%12||12,t.length)},H(e,t){return Se(e.getHours(),t.length)},m(e,t){return Se(e.getMinutes(),t.length)},s(e,t){return Se(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Se(s,t.length)}},oo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fn.y(e,t)},Y:function(e,t,r,n){const s=PS(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Se(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Se(o,t.length)},R:function(e,t){const r=NS(e);return Se(r,t.length)},u:function(e,t){const r=e.getFullYear();return Se(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Se(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Se(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Se(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=_M(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Se(s,t.length)},I:function(e,t,r){const n=xM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Se(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fn.d(e,t)},D:function(e,t,r){const n=wM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Se(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Se(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Se(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Se(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=oo.noon:n===0?s=oo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=oo.evening:n>=12?s=oo.afternoon:n>=4?s=oo.morning:s=oo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fn.s(e,t)},S:function(e,t){return fn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Wv(n);case"XXXX":case"XX":return is(n);case"XXXXX":case"XXX":default:return is(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Wv(n);case"xxxx":case"xx":return is(n);case"xxxxx":case"xxx":default:return is(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zv(n,":");case"OOOO":default:return"GMT"+is(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zv(n,":");case"zzzz":default:return"GMT"+is(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Se(n,t.length)},T:function(e,t,r){const n=e.getTime();return Se(n,t.length)}};function zv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Se(o,2)}function Wv(e,t){return e%60===0?(e>0?"-":"+")+Se(Math.abs(e)/60,2):is(e,t)}function is(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Se(Math.trunc(n/60),2),o=Se(n%60,2);return r+s+t+o}const qv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},TS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return qv(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",qv(n,t)).replace("{{time}}",TS(s,t))},EM={p:TS,P:SM},CM=/^D+$/,kM=/^Y+$/,jM=["D","DD","YY","YYYY"];function NM(e){return CM.test(e)}function PM(e){return kM.test(e)}function TM(e,t,r){const n=OM(e,t,r);if(console.warn(n),jM.includes(e))throw new RangeError(n)}function OM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IM=/^'([^]*?)'?$/,DM=/''/g,$M=/[a-zA-Z]/;function sh(e,t,r){var d,f,g,p;const n=bu(),s=n.locale??yM,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??0,a=_r(e);if(!L$(a))throw new RangeError("Invalid time value");let c=t.match(AM).map(b=>{const m=b[0];if(m==="p"||m==="P"){const y=EM[m];return y(b,s.formatLong)}return b}).join("").match(RM).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const m=b[0];if(m==="'")return{isToken:!1,value:MM(b)};if(Bv[m])return{isToken:!0,value:b};if(m.match($M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const m=b.value;(PM(m)||NM(m))&&TM(m,t,String(e));const y=Bv[m[0]];return y(a,m,s.localize,u)}).join("")}function MM(e){const t=e.match(IM);return t?t[1].replace(DM,"'"):e}const LM=({shipments:e,onDelete:t,onUpdateStatus:r})=>{const{primaryColor:n}=Et(),s=i=>{switch(i){case"scheduled":return"secondary";case"in_transit":return"secondary";case"delivered":return"success";case"cancelled":return"destructive";default:return"secondary"}},o=i=>i.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ");return l.jsx(Ue,{children:l.jsxs(hi,{children:[l.jsx(pi,{children:l.jsxs(xt,{children:[l.jsx(ge,{children:"Shipment #"}),l.jsx(ge,{children:"Type"}),l.jsx(ge,{children:"Recipient"}),l.jsx(ge,{children:"Scheduled Date"}),l.jsx(ge,{children:"Shipped Date"}),l.jsx(ge,{children:"Tracking"}),l.jsx(ge,{children:"Status"}),l.jsx(ge,{children:"Actions"})]})}),l.jsx(mi,{children:e.map(i=>l.jsxs(xt,{children:[l.jsxs(le,{className:"font-medium",children:[i.shipmentNumber,i.orderNumber&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Order: ",i.orderNumber]})]}),l.jsx(le,{children:l.jsx(Je,{variant:"outline",children:o(i.shipmentType)})}),l.jsxs(le,{children:[l.jsx("div",{className:"font-medium",children:i.recipientName}),i.recipientEmail&&l.jsx("div",{className:"text-xs text-muted-foreground",children:i.recipientEmail})]}),l.jsx(le,{children:sh(new Date(i.scheduledDate),"MMM dd, yyyy")}),l.jsx(le,{children:i.shippedDate?sh(new Date(i.shippedDate),"MMM dd, yyyy"):"-"}),l.jsx(le,{children:i.trackingNumber?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-xs",children:i.trackingNumber}),i.carrier&&l.jsx("div",{className:"text-xs text-muted-foreground",children:i.carrier})]}):"-"}),l.jsx(le,{children:l.jsxs(yr,{value:i.status,onValueChange:a=>r(i.id,a),children:[l.jsx(Gt,{className:"w-[140px]",children:l.jsx(wr,{children:i.status==="in_transit"?l.jsx(Je,{style:{backgroundColor:n},className:"text-primary-foreground",children:"In Transit"}):l.jsx(Je,{variant:s(i.status),children:i.status})})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"scheduled",children:l.jsx(Je,{variant:"secondary",children:"Scheduled"})}),l.jsx(_e,{value:"in_transit",children:l.jsx(Je,{style:{backgroundColor:n},className:"text-primary-foreground",children:"In Transit"})}),l.jsx(_e,{value:"delivered",children:l.jsx(Je,{variant:"success",children:"Delivered"})}),l.jsx(_e,{value:"cancelled",children:l.jsx(Je,{variant:"destructive",children:"Cancelled"})})]})]})}),l.jsx(le,{children:l.jsxs("div",{className:"flex gap-2",children:[i.items&&i.items.length>0&&l.jsxs(gi,{children:[l.jsx(vi,{asChild:!0,children:l.jsx(de,{variant:"outline",size:"icon",children:l.jsx(K0,{className:"h-4 w-4",style:{color:n}})})}),l.jsxs(zs,{children:[l.jsx(Ws,{children:l.jsx(qs,{children:"Shipment Items"})}),l.jsx("div",{className:"space-y-2",children:i.items.map((a,c)=>l.jsxs("div",{className:"flex justify-between p-2 border rounded",children:[l.jsx("span",{children:a.itemName}),l.jsxs("span",{className:"font-medium",children:["Qty: ",a.quantity]})]},c))})]})]}),l.jsx(de,{variant:"destructive",size:"icon",onClick:()=>t(i.id),children:l.jsx(si,{className:"h-4 w-4"})})]})})]},i.id))})]})})},FM=({open:e,onOpenChange:t,onAdd:r,companyId:n})=>{const{primaryColor:s,accentColor:o}=Et(),[i,a]=h.useState([]),[c,u]=h.useState({status:"scheduled",shipmentType:"shipment"});h.useEffect(()=>{e&&n&&d()},[e,n]);const d=async()=>{if(n)try{const{data:p,error:b}=await H.from("orders").select("id, order_number, customer_name").eq("company_id",n).in("status",["pending","processing"]).order("created_at",{ascending:!1});if(b)throw b;a((p||[]).map(m=>({id:m.id,orderNumber:m.order_number,customerName:m.customer_name})))}catch(p){console.error("Error fetching orders:",p)}},f=p=>{const b=i.find(m=>m.id===p);b&&u({...c,orderId:p,orderNumber:b.orderNumber,recipientName:b.customerName})},g=p=>{p.preventDefault();const b=c.shipmentNumber||`SHP-${Date.now()}`;r({id:"",shipmentNumber:b,orderId:c.orderId,orderNumber:c.orderNumber,shipmentType:c.shipmentType,recipientName:c.recipientName||"",recipientEmail:c.recipientEmail,recipientPhone:c.recipientPhone,shippingAddress:c.shippingAddress,scheduledDate:c.scheduledDate||new Date().toISOString(),trackingNumber:c.trackingNumber,carrier:c.carrier,status:c.status,notes:c.notes}),u({status:"scheduled",shipmentType:"shipment"}),t(!1)};return l.jsxs(gi,{open:e,onOpenChange:t,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(de,{className:"gap-2 text-primary-foreground",style:{backgroundColor:s},onMouseEnter:p=>p.currentTarget.style.backgroundColor=o,onMouseLeave:p=>p.currentTarget.style.backgroundColor=s,children:[l.jsx(Ts,{className:"h-4 w-4"}),"New Shipment"]})}),l.jsxs(zs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Ws,{children:l.jsx(qs,{children:"Create New Shipment"})}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"shipmentType",children:"Shipment Type"}),l.jsxs(yr,{value:c.shipmentType,onValueChange:p=>u({...c,shipmentType:p}),children:[l.jsx(Gt,{children:l.jsx(wr,{})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"order",children:"Order"}),l.jsx(_e,{value:"shipment",children:"Shipment"}),l.jsx(_e,{value:"sample",children:"Sample"}),l.jsx(_e,{value:"distributor_pickup",children:"Distributor Pickup"}),l.jsx(_e,{value:"store_delivery",children:"Store Delivery"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"orderId",children:"Link to Order (Optional)"}),l.jsxs(yr,{value:c.orderId,onValueChange:f,children:[l.jsx(Gt,{children:l.jsx(wr,{placeholder:"Select an order..."})}),l.jsx(Qt,{children:i.map(p=>l.jsxs(_e,{value:p.id,children:[p.orderNumber," - ",p.customerName]},p.id))})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientName",children:"Recipient Name *"}),l.jsx(ce,{id:"recipientName",value:c.recipientName||"",onChange:p=>u({...c,recipientName:p.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientEmail",children:"Recipient Email"}),l.jsx(ce,{id:"recipientEmail",type:"email",value:c.recipientEmail||"",onChange:p=>u({...c,recipientEmail:p.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"recipientPhone",children:"Recipient Phone"}),l.jsx(ce,{id:"recipientPhone",value:c.recipientPhone||"",onChange:p=>u({...c,recipientPhone:p.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"shippingAddress",children:"Shipping Address"}),l.jsx(Nc,{id:"shippingAddress",value:c.shippingAddress||"",onChange:p=>u({...c,shippingAddress:p.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"scheduledDate",children:"Scheduled Date *"}),l.jsx(ce,{id:"scheduledDate",type:"date",value:c.scheduledDate?new Date(c.scheduledDate).toISOString().split("T")[0]:"",onChange:p=>u({...c,scheduledDate:new Date(p.target.value).toISOString()}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"carrier",children:"Carrier"}),l.jsx(ce,{id:"carrier",value:c.carrier||"",onChange:p=>u({...c,carrier:p.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"trackingNumber",children:"Tracking Number"}),l.jsx(ce,{id:"trackingNumber",value:c.trackingNumber||"",onChange:p=>u({...c,trackingNumber:p.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"notes",children:"Notes"}),l.jsx(Nc,{id:"notes",value:c.notes||"",onChange:p=>u({...c,notes:p.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(de,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:p=>{p.currentTarget.disabled||(p.currentTarget.style.backgroundColor=o)},onMouseLeave:p=>p.currentTarget.style.backgroundColor=s,children:"Create Shipment"})]})]})]})]})},UM=()=>{Yt();const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState(null),[c,u]=h.useState("");h.useEffect(()=>{d()},[]),h.useEffect(()=>{i&&f()},[i]);const d=async()=>{try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");y.user_metadata&&y.user_metadata.company_name&&u(y.user_metadata.company_name);const{data:v,error:w}=await H.from("profiles").select("company_id").eq("id",y.id).single();if(w)throw w;a(v.company_id)}catch(y){q.error("Failed to fetch profile"),console.error("Error fetching profile:",y)}},f=async()=>{if(i)try{const{data:y,error:v}=await H.from("shipments").select(`
          *,
          orders!shipments_order_id_fkey (
            order_number,
            order_items (
              item_name,
              quantity
            )
          )
        `).eq("company_id",i).order("scheduled_date",{ascending:!1});if(v)throw v;const w=(y||[]).map(x=>{var _,S,E;return{id:x.id,shipmentNumber:x.shipment_number,orderId:x.order_id||void 0,orderNumber:((_=x.orders)==null?void 0:_.order_number)||void 0,shipmentType:x.shipment_type,recipientName:x.recipient_name,recipientEmail:x.recipient_email||void 0,recipientPhone:x.recipient_phone||void 0,shippingAddress:x.shipping_address||void 0,scheduledDate:x.scheduled_date,shippedDate:x.shipped_date||void 0,trackingNumber:x.tracking_number||void 0,carrier:x.carrier||void 0,status:x.status,notes:x.notes||void 0,items:((E=(S=x.orders)==null?void 0:S.order_items)==null?void 0:E.map(C=>({itemName:C.item_name,quantity:C.quantity})))||void 0}});t(w)}catch(y){q.error("Failed to load shipments"),console.error("Error fetching shipments:",y)}finally{n(!1)}},g=async y=>{if(!i){q.error("Company information not loaded");return}try{const{error:v}=await H.from("shipments").insert({company_id:i,order_id:y.orderId||null,shipment_number:y.shipmentNumber,shipment_type:y.shipmentType,recipient_name:y.recipientName,recipient_email:y.recipientEmail||null,recipient_phone:y.recipientPhone||null,shipping_address:y.shippingAddress||null,scheduled_date:y.scheduledDate,tracking_number:y.trackingNumber||null,carrier:y.carrier||null,status:y.status,notes:y.notes||null});if(v)throw v;q.success("Shipment created successfully"),f()}catch(v){q.error("Failed to create shipment"),console.error("Error creating shipment:",v)}},p=async y=>{try{const{error:v}=await H.from("shipments").delete().eq("id",y);if(v)throw v;q.success("Shipment deleted successfully"),f()}catch(v){q.error("Failed to delete shipment"),console.error("Error deleting shipment:",v)}},b=async(y,v)=>{try{const w={status:v};if(v==="in_transit"){const _=e.find(S=>S.id===y);_!=null&&_.shippedDate||(w.shipped_date=new Date().toISOString(),_!=null&&_.orderId&&await m(_.orderId,y))}const{error:x}=await H.from("shipments").update(w).eq("id",y);if(x)throw x;q.success("Shipment status updated"),f()}catch(w){q.error("Failed to update shipment status"),console.error("Error updating status:",w)}},m=async(y,v)=>{try{const{data:w,error:x}=await H.from("order_items").select("item_name, quantity").eq("order_id",y);if(x)throw x;const{data:_,error:S}=await H.from("inventory_items").select("id, name, quantity").eq("company_id",i);if(S)throw S;for(const E of w||[]){const C=_==null?void 0:_.find(j=>j.name.toLowerCase()===E.item_name.toLowerCase());C&&(await H.from("inventory_transactions").insert({company_id:i,inventory_item_id:C.id,transaction_type:"shipment",quantity:-E.quantity,reference_id:v,reference_type:"shipment",notes:"Shipped for order"}),await H.from("inventory_items").update({quantity:C.quantity-E.quantity}).eq("id",C.id))}}catch(w){console.error("Error creating inventory transactions:",w)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Vs,{companyName:c,pageTitle:"Shipping Schedule",pageSubtitle:"Manage shipments and track deliveries",activePage:"shipping",children:l.jsx(FM,{open:s,onOpenChange:o,onAdd:g,companyId:i})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(R$,{shipments:e}),l.jsx(LM,{shipments:e,onDelete:p,onUpdateStatus:b})]})]})},BM=()=>{Yt();const[e,t]=h.useState(null),[r,n]=h.useState("DuckInventory"),[s,o]=h.useState([]),[i,a]=h.useState([]),[c,u]=h.useState({name:"",type:"text"}),[d,f]=h.useState("inventory");h.useEffect(()=>{g()},[]),h.useEffect(()=>{e&&p()},[e]);const g=async()=>{try{const{data:{user:v}}=await H.auth.getUser();if(!v)throw new Error("Not authenticated");v.user_metadata&&v.user_metadata.company_name&&n(v.user_metadata.company_name);const{data:w,error:x}=await H.from("profiles").select("company_id").eq("id",v.id).single();if(x)throw x;t(w.company_id)}catch(v){q.error("Failed to fetch profile"),console.error("Error fetching profile:",v)}},p=async()=>{if(e)try{const{data:v,error:w}=await H.from("custom_fields").select("*").eq("company_id",e).order("field_order");if(w)throw w;const x=(v==null?void 0:v.filter(S=>S.table_name==="inventory_items"))||[],_=(v==null?void 0:v.filter(S=>S.table_name==="orders"))||[];o(x),a(_)}catch(v){q.error("Failed to load custom fields"),console.error("Error fetching custom fields:",v)}},b=async()=>{if(!e)return;if(!c.name.trim()){q.error("Field name is required");return}const v=d==="inventory"?s:i;if(v.length>=5){q.error("Maximum 5 custom fields allowed per table");return}try{const{error:w}=await H.from("custom_fields").insert({company_id:e,table_name:d==="inventory"?"inventory_items":"orders",field_name:c.name,field_type:c.type,field_order:v.length});if(w)throw w;q.success("Custom field added"),u({name:"",type:"text"}),p()}catch(w){q.error("Failed to add custom field"),console.error("Error adding custom field:",w)}},m=async v=>{try{const{error:w}=await H.from("custom_fields").delete().eq("id",v);if(w)throw w;q.success("Custom field deleted"),p()}catch(w){q.error("Failed to delete custom field"),console.error("Error deleting custom field:",w)}},y=v=>l.jsxs("div",{className:"space-y-3",children:[v.map(w=>l.jsx(Ue,{children:l.jsxs(Ge,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:w.field_name}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:w.field_type})]}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>m(w.id),className:"text-destructive hover:text-destructive",children:l.jsx(si,{className:"h-4 w-4"})})]})},w.id)),v.length===0&&l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No custom fields defined yet"})]});return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Vs,{companyName:r,pageTitle:"Properties",pageSubtitle:"Customize your inventory and order fields",activePage:"properties"}),l.jsx("div",{className:"container mx-auto p-6 space-y-8",children:l.jsxs(Qp,{value:d,onValueChange:v=>f(v),children:[l.jsxs(wu,{className:"grid w-full max-w-md grid-cols-2",style:{borderColor:"var(--company-primary)"},children:[l.jsx(Tr,{value:"inventory",children:"Inventory Fields"}),l.jsx(Tr,{value:"orders",children:"Order Fields"})]}),l.jsxs(Or,{value:"inventory",className:"space-y-6",children:[l.jsxs(Ue,{children:[l.jsxs(Kr,{children:[l.jsx(Gr,{children:"Add Custom Inventory Field"}),l.jsxs(_s,{children:["Create custom fields for your inventory items (",s.length,"/5)"]})]}),l.jsx(Ge,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"field-name",children:"Field Name"}),l.jsx(ce,{id:"field-name",placeholder:"e.g., Supplier",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"field-type",children:"Field Type"}),l.jsxs(yr,{value:c.type,onValueChange:v=>u({...c,type:v}),children:[l.jsx(Gt,{id:"field-type",children:l.jsx(wr,{})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"text",children:"Text"}),l.jsx(_e,{value:"number",children:"Number"}),l.jsx(_e,{value:"date",children:"Date"}),l.jsx(_e,{value:"boolean",children:"Yes/No"})]})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs(de,{onClick:b,disabled:s.length>=5,className:"w-full gap-2 text-primary-foreground",style:{backgroundColor:"var(--company-primary)",transition:"background-color 0.15s ease-in-out"},onMouseEnter:v=>{v.currentTarget.disabled||(v.currentTarget.style.backgroundColor="var(--company-accent)")},onMouseLeave:v=>v.currentTarget.style.backgroundColor="var(--company-primary)",children:[l.jsx(Ts,{className:"h-4 w-4"}),"Add Field"]})})]})})]}),y(s)]}),l.jsxs(Or,{value:"orders",className:"space-y-6",children:[l.jsxs(Ue,{children:[l.jsxs(Kr,{children:[l.jsx(Gr,{children:"Add Custom Order Field"}),l.jsxs(_s,{children:["Create custom fields for your orders (",i.length,"/5)"]})]}),l.jsx(Ge,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"order-field-name",children:"Field Name"}),l.jsx(ce,{id:"order-field-name",placeholder:"e.g., Delivery Date",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"order-field-type",children:"Field Type"}),l.jsxs(yr,{value:c.type,onValueChange:v=>u({...c,type:v}),children:[l.jsx(Gt,{id:"order-field-type",children:l.jsx(wr,{})}),l.jsxs(Qt,{children:[l.jsx(_e,{value:"text",children:"Text"}),l.jsx(_e,{value:"number",children:"Number"}),l.jsx(_e,{value:"date",children:"Date"}),l.jsx(_e,{value:"boolean",children:"Yes/No"})]})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs(de,{onClick:b,disabled:i.length>=5,className:"w-full gap-2 text-primary-foreground",style:{backgroundColor:"var(--company-primary)",transition:"background-color 0.15s ease-in-out"},onMouseEnter:v=>{v.currentTarget.disabled||(v.currentTarget.style.backgroundColor="var(--company-accent)")},onMouseLeave:v=>v.currentTarget.style.backgroundColor="var(--company-primary)",children:[l.jsx(Ts,{className:"h-4 w-4"}),"Add Field"]})})]})})]}),y(i)]})]})})]})},zM=({customers:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.length,s=e.filter(d=>!!d.email).length,o=e.filter(d=>!!d.phone).length,i=e.filter(d=>!!d.address).length,a=[{title:"Total Customers",value:n,icon:op},{title:"With Email",value:s,icon:Cf},{title:"With Phone",value:o,icon:Oj},{title:"With Address",value:i,icon:bj}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,f)=>l.jsx(Ue,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[f]}`},children:l.jsxs(Ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[f]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[f],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[f]}})]})},d.title))})};function Ii({className:e,...t}){return l.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const WM=({customers:e,onEdit:t,onDelete:r,loading:n})=>{const{primaryColor:s}=Et(),o=()=>Array.from({length:5}).map((i,a)=>l.jsxs(xt,{children:[l.jsx(le,{children:l.jsx(Ii,{className:"h-4 w-32"})}),l.jsx(le,{children:l.jsx(Ii,{className:"h-4 w-48"})}),l.jsx(le,{children:l.jsx(Ii,{className:"h-4 w-32"})}),l.jsx(le,{children:l.jsx(Ii,{className:"h-4 w-24"})}),l.jsx(le,{className:"text-right",children:l.jsx(Ii,{className:"h-8 w-16"})})]},`skel-${a}`));return l.jsx(Ue,{className:"bg-card/50 backdrop-blur",style:{borderColor:`${s}33`},children:l.jsxs(hi,{children:[l.jsx(pi,{children:l.jsxs(xt,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${s}33`},children:[l.jsx(ge,{children:"Name"}),l.jsx(ge,{children:"Email"}),l.jsx(ge,{children:"Phone"}),l.jsx(ge,{children:"Date Added"}),l.jsx(ge,{className:"text-right",children:"Actions"})]})}),l.jsx(mi,{children:n?o():e.length>0?e.map(i=>l.jsxs(xt,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${s}1A`},children:[l.jsx(le,{className:"font-medium",children:i.name}),l.jsx(le,{className:"text-muted-foreground",children:i.email}),l.jsx(le,{className:"text-muted-foreground",children:i.phone}),l.jsx(le,{className:"text-muted-foreground",children:new Date(i.created_at).toLocaleDateString()}),l.jsxs(le,{className:"text-right space-x-2",children:[l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t(i),className:"text-muted-foreground hover:text-primary",children:l.jsx(Ej,{className:"h-4 w-4",style:{color:s}})}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>r(i.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:l.jsx(si,{className:"h-4 w-4"})})]})]},i.id)):l.jsx(xt,{children:l.jsx(le,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"No customers found."})})})]})})},qM=({open:e,onOpenChange:t,onAdd:r,companyId:n})=>{const{primaryColor:s,accentColor:o}=Et(),[i,a]=h.useState({name:"",email:"",phone:"",address:""}),c=d=>{if(d.preventDefault(),!n){q.error("Cannot add customer: Company ID is missing.");return}if(!i.name||!i.email){q.error("Please fill in at least Name and Email.");return}const f={name:i.name,email:i.email,phone:i.phone,address:i.address};r(f),a({name:"",email:"",phone:"",address:""}),t(!1)},u=d=>{d||a({name:"",email:"",phone:"",address:""}),t(d)};return l.jsxs(gi,{open:e,onOpenChange:u,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(de,{className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:d=>d.currentTarget.style.backgroundColor=o,onMouseLeave:d=>d.currentTarget.style.backgroundColor=s,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"New Customer"]})}),l.jsxs(zs,{className:"sm:max-w-[500px]",children:[l.jsxs(Ws,{children:[l.jsx(qs,{children:"Create New Customer"}),l.jsx(du,{children:"Add a new customer to your database."})]}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Customer Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"customerName",children:"Name *"}),l.jsx(ce,{id:"customerName",value:i.name,onChange:d=>a({...i,name:d.target.value}),placeholder:"John Doe",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"customerEmail",children:"Email *"}),l.jsx(ce,{id:"customerEmail",type:"email",value:i.email,onChange:d=>a({...i,email:d.target.value}),placeholder:"john@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"customerPhone",children:"Phone"}),l.jsx(ce,{id:"customerPhone",type:"tel",value:i.phone,onChange:d=>a({...i,phone:d.target.value}),placeholder:"+1 (555) 000-0000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"customerAddress",children:"Address"}),l.jsx(ce,{id:"customerAddress",value:i.address,onChange:d=>a({...i,address:d.target.value}),placeholder:"123 Main St, Anytown, USA"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(de,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:d=>d.currentTarget.style.backgroundColor=o,onMouseLeave:d=>d.currentTarget.style.backgroundColor=s,children:"Create Customer"})]})]})]})]})},VM=()=>{Yt();const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState(null),[c,u]=h.useState("");h.useEffect(()=>{d()},[]),h.useEffect(()=>{i&&f()},[i]);const d=async()=>{try{const{data:{user:m}}=await H.auth.getUser();if(!m)throw new Error("Not authenticated");m.user_metadata&&m.user_metadata.company_name&&u(m.user_metadata.company_name);const{data:y,error:v}=await H.from("profiles").select("company_id").eq("id",m.id).single();if(v)throw v;a(y.company_id)}catch(m){q.error("Failed to fetch profile"),console.error("Error fetching profile:",m)}},f=async()=>{if(i){n(!0);try{const{data:m,error:y}=await H.from("customers").select("*").eq("company_id",i).order("created_at",{ascending:!1});if(y)throw y;t(m||[])}catch(m){q.error("Failed to load customers"),console.error("Error fetching customers:",m)}finally{n(!1)}}},g=async m=>{if(!i){q.error("Company information not loaded");return}try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");const{data:v,error:w}=await H.from("customers").insert({...m,company_id:i,user_id:y.id}).select().single();if(w)if(w.code==="23505")q.error("A customer with this email already exists.");else throw w;else q.success("Customer added successfully"),f()}catch(y){q.error("Failed to add customer"),console.error("Error adding customer:",y)}},p=async m=>{try{const{error:y}=await H.from("customers").delete().eq("id",m);if(y)throw y;q.success("Customer deleted successfully"),f()}catch(y){q.error("Failed to delete customer"),console.error("Error deleting customer:",y)}},b=m=>{q.info("Edit functionality coming soon!")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Vs,{companyName:c,pageTitle:"Customers",pageSubtitle:"Manage your customer database",activePage:"customers",children:l.jsx(qM,{open:s,onOpenChange:o,onAdd:g,companyId:i})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(zM,{customers:e}),l.jsx(WM,{customers:e,onEdit:b,onDelete:p,loading:r})]})]})},HM=()=>{const e=Fa();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},rs=({children:e})=>{const[t,r]=h.useState(null),[n,s]=h.useState(!0);return h.useEffect(()=>{const{data:{subscription:o}}=H.auth.onAuthStateChange((i,a)=>{r(a),s(!1)});return H.auth.getSession().then(({data:{session:i}})=>{r(i),s(!1)}),()=>o.unsubscribe()},[]),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(VO,{to:"/auth",replace:!0})};var KM="Separator",Vv="horizontal",GM=["horizontal","vertical"],OS=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=Vv,...s}=e,o=QM(n)?n:Vv,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(ee.div,{"data-orientation":o,...a,...s,ref:t})});OS.displayName=KM;function QM(e){return GM.includes(e)}var RS=OS;const AS=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(RS,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));AS.displayName=RS.displayName;const YM=()=>{const e=Yt(),[t,r]=h.useState(""),[n,s]=h.useState(!1),[o,i]=h.useState("DuckInventory"),[a,c]=h.useState(null),[u,d]=h.useState([]),[f,g]=h.useState(""),[p,b]=h.useState(""),[m,y]=h.useState(!1),{reloadBranding:v}=Et();h.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:{user:S}}=await H.auth.getUser();if(!S){e("/");return}const{data:E,error:C}=await H.from("profiles").select("company_id").eq("id",S.id).maybeSingle();if(C)throw C;if(!E||!E.company_id){q.error("Could not find your company profile."),e("/");return}const j=E.company_id;c(j);const[O,A]=await Promise.all([H.from("companies").select("name, primary_color, accent_color").eq("id",j).maybeSingle(),H.from("profiles").select("email, role").eq("company_id",j)]);if(O.error)throw O.error;if(A.error)throw A.error;O.data?(i(O.data.name||"DuckInventory"),g(O.data.primary_color||"#800000"),b(O.data.accent_color||"#FFD700")):q.error("Failed to load company branding details."),A.data&&d(A.data)}catch(S){console.error("Error fetching data:",S),q.error(S.message||"Failed to load company data.")}},x=async S=>{if(S.preventDefault(),s(!0),!t){q.error("Please enter an email address."),s(!1);return}try{const{data:E,error:C}=await H.auth.getSession();if(C||!E.session)throw new Error("User session not found.");const j=E.session.access_token,O=await fetch("https://sseafesutfqctttpefia.supabase.co/functions/v1/handle_new_user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({emailToInvite:t,companyName:o})}),A=await O.json();if(!O.ok||A.error)throw new Error(A.error||"Failed to send invitation. Check server logs.");q.success(`Invitation sent successfully to ${t}`),r(""),w()}catch(E){console.error("Invite Error:",E),q.error(E.message||"Failed to send invitation.")}finally{s(!1)}},_=async()=>{if(a){y(!0);try{const{error:S}=await H.from("companies").update({primary_color:f,accent_color:p}).eq("id",a);if(v(),S)throw S;q.success("Company colors updated!")}catch(S){console.error("Color Save Error:",S),q.error(S.message||"Failed to save colors.")}finally{y(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-background",style:{"--company-primary":f,"--company-accent":p},children:[l.jsx(Vs,{companyName:o,pageTitle:"Team Management",pageSubtitle:"Manage your team and company branding",activePage:"team"}),l.jsx("main",{className:"container mx-auto px-4 py-12",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs(Ue,{children:[l.jsxs(Kr,{children:[l.jsxs(Gr,{className:"flex items-center gap-2",children:[l.jsx(Cf,{className:"h-6 w-6 text-[var(--company-primary)]"})," Invite New Team Member"]}),l.jsx(_s,{children:"Send an invitation email to a new user. They will automatically join your company's inventory team."})]}),l.jsx(Ge,{children:l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"email",children:"User Email"}),l.jsx(ce,{id:"email",type:"email",placeholder:"new.user@team.com",value:t,onChange:S=>r(S.target.value),required:!0})]}),l.jsx(de,{type:"submit",className:"w-full bg-[var(--company-primary)] hover:bg-[var(--company-accent)] text-white",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(Ef,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Invite..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Cf,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})})]}),l.jsxs(Ue,{children:[l.jsxs(Kr,{children:[l.jsxs(Gr,{className:"flex items-center gap-2",children:[l.jsx(op,{className:"h-6 w-6 text-[var(--company-primary)]"})," Current Team"]}),l.jsx(_s,{children:"A list of all members currently in your company."})]}),l.jsx(Ge,{children:l.jsx("div",{className:"space-y-4",children:u.length>0?u.map((S,E)=>l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rj,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:S.email}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:S.role})]})]})}),E<u.length-1&&l.jsx(AS,{className:"mt-4"})]},S.email)):l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your team is empty. Send an invite to get started!"})})})]})]}),l.jsx("div",{className:"space-y-8",children:l.jsxs(Ue,{children:[l.jsxs(Kr,{children:[l.jsxs(Gr,{className:"flex items-center gap-2",children:[l.jsx(_j,{className:"h-6 w-6 text-[var(--company-primary)]"})," Company Branding"]}),l.jsx(_s,{children:"Choose your company's primary and accent colors."})]}),l.jsx(Ge,{children:l.jsxs("form",{onSubmit:S=>{S.preventDefault(),_()},className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{id:"primaryColor",type:"color",className:"w-16 p-1",value:f,onChange:S=>g(S.target.value)}),l.jsx("span",{className:"font-mono text-sm",children:f})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"accentColor",children:"Accent Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{id:"accentColor",type:"color",className:"w-16 p-1",value:p,onChange:S=>b(S.target.value)}),l.jsx("span",{className:"font-mono text-sm",children:p})]})]}),l.jsx(de,{type:"submit",variant:"outline",className:"w-full bg-[var(--company-primary)] hover:bg-[var(--company-accent)] text-white",disabled:m,children:m?l.jsxs(l.Fragment,{children:[l.jsx(Ef,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving Colors..."]}):"Save Colors"})]})})]})})]})})]})},JM=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(!1),s=Yt(),o=async i=>{if(i.preventDefault(),n(!0),e.length<6){q.error("Password must be at least 6 characters long."),n(!1);return}try{const{error:a}=await H.auth.updateUser({password:e});a?(console.error("Password update error:",a),q.error(a.message||"Failed to set password. Please try again.")):(q.success("Welcome to the team! Your password is set."),s("/dashboard",{replace:!0}))}catch(a){console.error("Unexpected error:",a),q.error("An unexpected error occurred during setup.")}finally{n(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:l.jsxs(Ue,{className:"max-w-md w-full shadow-lg",children:[l.jsx(Kr,{children:l.jsxs(Gr,{className:"text-3xl font-bold flex items-center gap-3",children:[l.jsx(Tj,{className:"h-6 w-6 text-primary"}),"Finalize Account"]})}),l.jsxs(Ge,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You have successfully accepted the invitation. Please set a password to complete your account setup."}),l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password-input",className:"text-sm font-medium",children:"New Password"}),l.jsx(ce,{id:"password-input",type:"password",placeholder:"Enter a strong password",value:e,onChange:i=>t(i.target.value),required:!0})]}),l.jsx(de,{type:"submit",className:"w-full gap-2",disabled:r||e.length<6,children:r?l.jsxs(l.Fragment,{children:[l.jsx(Ef,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wj,{className:"h-4 w-4"}),"Set Password & Continue"]})})]})]})]})})},XM=({children:e})=>{const t=Yt(),r=Fa();return h.useEffect(()=>{window.location.hash.includes("access_token")&&H.auth.getSession().then(({data:{session:n}})=>{n&&(r.pathname!=="/set-password"&&(q.success("Invitation accepted! Please set your password."),t("/set-password",{replace:!0})),window.history.replaceState(null,"",window.location.pathname))}).catch(n=>{console.error("Error processing invite session:",n),q.error("Failed to process invite. Please try logging in."),window.history.replaceState(null,"",window.location.pathname)})},[t,r.pathname]),l.jsx(l.Fragment,{children:e})},ZM=({companyId:e,items:t})=>{const[r,n]=h.useState(null),[s,o]=h.useState([]),[i,a]=h.useState(!1);h.useEffect(()=>{(async()=>{if(!r){o([]);return}a(!0);try{const{data:f,error:g}=await H.from("inventory_transactions").select("id, created_at, transaction_type, quantity, reference_type, notes").eq("company_id",e).eq("inventory_item_id",r).order("created_at",{ascending:!0});if(g)throw g;o(f)}catch(f){q.error("Failed to load transactions."),console.error("Error fetching transactions:",f),o([])}finally{a(!1)}})()},[r,e]);const c=s.reduce((d,f)=>{const p=(d.length>0?d[d.length-1].runningStock:0)+f.quantity;return d.push({...f,runningStock:p}),d},[]),u=d=>{let f="bg-gray-100 text-gray-800";return["restock","returns","add_new"].includes(d)?f="bg-green-100 text-green-800":["shipment","order","damaged_goods","sample","correction"].includes(d)&&(f="bg-red-100 text-red-800"),l.jsx(Je,{className:`capitalize ${f}`,children:d.replace(/_/g," ")})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Inventory Item:"}),l.jsxs(yr,{onValueChange:n,value:r||"",children:[l.jsx(Gt,{className:"w-[300px]",children:l.jsx(wr,{placeholder:"Choose an item..."})}),l.jsx(Qt,{children:t.map(d=>l.jsx(_e,{value:d.id,children:d.name},d.id))})]})]}),l.jsx("div",{className:"mt-6 border rounded-lg overflow-hidden",children:r&&i?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading transactions..."}):r&&s.length===0&&!i?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"No transactions found for this item."}):r&&s.length>0?l.jsxs(hi,{children:[l.jsx(pi,{children:l.jsxs(xt,{children:[l.jsx(ge,{children:"Timestamp"}),l.jsx(ge,{children:"Type"}),l.jsx(ge,{className:"text-right",children:"Quantity Change"}),l.jsx(ge,{className:"text-right",children:"Running Stock"}),l.jsx(ge,{children:"Reference/Notes"})]})}),l.jsx(mi,{children:c.map(d=>{var f;return l.jsxs(xt,{children:[l.jsx(le,{children:sh(new Date(d.created_at),"MMM dd, yyyy HH:mm")}),l.jsx(le,{children:u(d.transaction_type)}),l.jsx(le,{className:`text-right font-medium ${d.quantity>0?"text-green-600":"text-red-600"}`,children:d.quantity>0?`+${d.quantity}`:d.quantity}),l.jsx(le,{className:"text-right font-bold",children:d.runningStock}),l.jsxs(le,{children:[l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(f=d.reference_type)==null?void 0:f.replace(/_/g," ")}),l.jsx("p",{className:"text-sm",children:d.notes})]})]},d.id)})})]}):l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Select an item above to view its transaction history."})})]})},eL=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(""),[s,o]=h.useState([]),[i,a]=h.useState(!0);h.useEffect(()=>{c()},[]);const c=async()=>{var u;a(!0);try{const{data:{user:d}}=await H.auth.getUser();if(!d)throw new Error("Not authenticated");(u=d.user_metadata)!=null&&u.company_name&&n(d.user_metadata.company_name);const{data:f,error:g}=await H.from("profiles").select("company_id").eq("id",d.id).single();if(g)throw g;const p=f.company_id;t(p);const{data:b,error:m}=await H.from("inventory_items").select("id, name").eq("company_id",p);if(m)throw m;o(b||[])}catch(d){q.error("Failed to load necessary data."),console.error("Error fetching data:",d)}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Vs,{companyName:r,pageTitle:"Reports",pageSubtitle:"Generate business insights from your data",activePage:"reports"}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(Qp,{defaultValue:"transactions",className:"spacey-4",children:[l.jsxs(wu,{className:"bg-muted",children:[l.jsx(Tr,{value:"transactions",children:"Item Transactions"}),l.jsx(Tr,{value:"orders",children:"Customer Orders"}),l.jsx(Tr,{value:"valuation",children:"Valuation Summary"})]}),l.jsx(Or,{value:"transactions",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Individual Item Transaction History"}),i?l.jsx("p",{children:"Loading..."}):e?l.jsx(ZM,{companyId:e,items:s}):l.jsx("p",{children:"Please log in to view reports."})]})}),l.jsx(Or,{value:"orders",children:l.jsx("p",{className:"p-4 border rounded-lg",children:"Customer Order History report coming soon."})}),l.jsx(Or,{value:"valuation",children:l.jsx("p",{className:"p-4 border rounded-lg",children:"Stock Valuation Summary report coming soon."})})]})})]})},tL=new rO,rL=()=>l.jsx(sO,{client:tL,children:l.jsxs(RT,{children:[l.jsx(gN,{}),l.jsx(GN,{}),l.jsx(YO,{basename:"/duck-inventory-systems",children:l.jsx(XM,{children:l.jsxs(KO,{children:[l.jsx(Lt,{path:"/",element:l.jsx(ZO,{})}),l.jsx(Lt,{path:"/auth",element:l.jsx(PA,{})}),l.jsx(Lt,{path:"/set-password",element:l.jsx(JM,{})}),l.jsx(Lt,{path:"/dashboard",element:l.jsx(rs,{children:l.jsx(_$,{})})}),l.jsx(Lt,{path:"/orders",element:l.jsx(rs,{children:l.jsx(O$,{})})}),l.jsx(Lt,{path:"/shipping",element:l.jsx(rs,{children:l.jsx(UM,{})})}),l.jsx(Lt,{path:"/properties",element:l.jsx(rs,{children:l.jsx(BM,{})})}),l.jsx(Lt,{path:"/teammanagement",element:l.jsx(rs,{children:l.jsx(YM,{})})}),l.jsx(Lt,{path:"/customers",element:l.jsx(rs,{children:l.jsx(VM,{})})}),l.jsx(Lt,{path:"/reports",element:l.jsx(rs,{children:l.jsx(eL,{})})}),l.jsx(Lt,{path:"*",element:l.jsx(HM,{})})]})})})]})});g0(document.getElementById("root")).render(l.jsx(TA,{children:l.jsx(rL,{})}));
