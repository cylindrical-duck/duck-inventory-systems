var nm=e=>{throw TypeError(e)};var ju=(e,t,r)=>t.has(e)||nm("Cannot "+r);var R=(e,t,r)=>(ju(e,t,"read from private field"),r?r.call(e):t.get(e)),xe=(e,t,r)=>t.has(e)?nm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(ju(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rt=(e,t,r)=>(ju(e,t,"access private method"),r);var Ka=(e,t,r,n)=>({set _(s){ce(e,t,s,r)},get _(){return R(e,t,n)}});function ty(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function ry(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ny(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sy={exports:{}},Rc={},oy={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),WS=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),KS=Symbol.for("react.profiler"),GS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),YS=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),XS=Symbol.for("react.memo"),ZS=Symbol.for("react.lazy"),sm=Symbol.iterator;function eE(e){return e===null||typeof e!="object"?null:(e=sm&&e[sm]||e["@@iterator"],typeof e=="function"?e:null)}var iy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ay=Object.assign,ly={};function ri(e,t,r){this.props=e,this.context=t,this.refs=ly,this.updater=r||iy}ri.prototype.isReactComponent={};ri.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ri.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cy(){}cy.prototype=ri.prototype;function of(e,t,r){this.props=e,this.context=t,this.refs=ly,this.updater=r||iy}var af=of.prototype=new cy;af.constructor=of;ay(af,ri.prototype);af.isPureReactComponent=!0;var om=Array.isArray,uy=Object.prototype.hasOwnProperty,lf={current:null},dy={key:!0,ref:!0,__self:!0,__source:!0};function hy(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)uy.call(t,n)&&!dy.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ta,type:e,key:o,ref:i,props:s,_owner:lf.current}}function tE(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function rE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var im=/\/+/g;function ku(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rE(""+e.key):t.toString(36)}function Tl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ta:case WS:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+ku(i,0):n,om(s)?(r="",e!=null&&(r=e.replace(im,"$&/")+"/"),Tl(s,t,r,"",function(u){return u})):s!=null&&(cf(s)&&(s=tE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(im,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",om(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+ku(o,a);i+=Tl(o,t,r,c,s)}else if(c=eE(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+ku(o,a++),i+=Tl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ga(e,t,r){if(e==null)return e;var n=[],s=0;return Tl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function nE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Ol={transition:null},sE={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:lf};function fy(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ga,forEach:function(e,t,r){Ga(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=ri;me.Fragment=qS;me.Profiler=KS;me.PureComponent=of;me.StrictMode=HS;me.Suspense=JS;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sE;me.act=fy;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ay({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=lf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)uy.call(t,c)&&!dy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ta,type:e.type,key:s,ref:o,props:n,_owner:i}};me.createContext=function(e){return e={$$typeof:QS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GS,_context:e},e.Consumer=e};me.createElement=hy;me.createFactory=function(e){var t=hy.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:YS,render:e}};me.isValidElement=cf;me.lazy=function(e){return{$$typeof:ZS,_payload:{_status:-1,_result:e},_init:nE}};me.memo=function(e,t){return{$$typeof:XS,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};me.unstable_act=fy;me.useCallback=function(e,t){return gt.current.useCallback(e,t)};me.useContext=function(e){return gt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};me.useEffect=function(e,t){return gt.current.useEffect(e,t)};me.useId=function(){return gt.current.useId()};me.useImperativeHandle=function(e,t,r){return gt.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return gt.current.useMemo(e,t)};me.useReducer=function(e,t,r){return gt.current.useReducer(e,t,r)};me.useRef=function(e){return gt.current.useRef(e)};me.useState=function(e){return gt.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return gt.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return gt.current.useTransition()};me.version="18.3.1";oy.exports=me;var p=oy.exports;const V=ry(p),uf=ty({__proto__:null,default:V},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=p,iE=Symbol.for("react.element"),aE=Symbol.for("react.fragment"),lE=Object.prototype.hasOwnProperty,cE=oE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uE={key:!0,ref:!0,__self:!0,__source:!0};function py(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)lE.call(t,n)&&!uE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:iE,type:e,key:o,ref:i,props:s,_owner:cE.current}}Rc.Fragment=aE;Rc.jsx=py;Rc.jsxs=py;sy.exports=Rc;var l=sy.exports,my={exports:{}},$t={},gy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var I=P.length;P.push(j);e:for(;0<I;){var F=I-1>>>1,N=P[F];if(0<s(N,j))P[F]=j,P[I]=N,I=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var j=P[0],I=P.pop();if(I!==j){P[0]=I;e:for(var F=0,N=P.length,D=N>>>1;F<D;){var U=2*(F+1)-1,q=P[U],ne=U+1,$=P[ne];if(0>s(q,I))ne<N&&0>s($,q)?(P[F]=$,P[ne]=I,F=ne):(P[F]=q,P[U]=I,F=U);else if(ne<N&&0>s($,I))P[F]=$,P[ne]=I,F=ne;else break e}}return j}function s(P,j){var I=P.sortIndex-j.sortIndex;return I!==0?I:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,h=null,g=3,f=!1,b=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=P)n(u),j.sortIndex=j.expirationTime,t(c,j);else break;j=r(u)}}function _(P){if(m=!1,x(P),!b)if(r(c)!==null)b=!0,T(S);else{var j=r(u);j!==null&&W(_,j.startTime-P)}}function S(P,j){b=!1,m&&(m=!1,v(k),k=-1),f=!0;var I=g;try{for(x(j),h=r(c);h!==null&&(!(h.expirationTime>j)||P&&!K());){var F=h.callback;if(typeof F=="function"){h.callback=null,g=h.priorityLevel;var N=F(h.expirationTime<=j);j=e.unstable_now(),typeof N=="function"?h.callback=N:h===r(c)&&n(c),x(j)}else n(c);h=r(c)}if(h!==null)var D=!0;else{var U=r(u);U!==null&&W(_,U.startTime-j),D=!1}return D}finally{h=null,g=I,f=!1}}var E=!1,C=null,k=-1,O=5,A=-1;function K(){return!(e.unstable_now()-A<O)}function B(){if(C!==null){var P=e.unstable_now();A=P;var j=!0;try{j=C(!0,P)}finally{j?X():(E=!1,C=null)}}else E=!1}var X;if(typeof w=="function")X=function(){w(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=B,X=function(){Y.postMessage(null)}}else X=function(){y(B,0)};function T(P){C=P,E||(E=!0,X())}function W(P,j){k=y(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,T(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var j=3;break;default:j=g}var I=g;g=j;try{return P()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=g;g=P;try{return j()}finally{g=I}},e.unstable_scheduleCallback=function(P,j,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,P){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=I+N,P={id:d++,callback:j,priorityLevel:P,startTime:I,expirationTime:N,sortIndex:-1},I>F?(P.sortIndex=I,t(u,P),r(c)===null&&P===r(u)&&(m?(v(k),k=-1):m=!0,W(_,I-F))):(P.sortIndex=N,t(c,P),b||f||(b=!0,T(S))),P},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(P){var j=g;return function(){var I=g;g=j;try{return P.apply(this,arguments)}finally{g=I}}}})(vy);gy.exports=vy;var dE=gy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=p,At=dE;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yy=new Set,ea={};function Ms(e,t){Wo(e,t),Wo(e+"Capture",t)}function Wo(e,t){for(ea[e]=t,e=0;e<t.length;e++)yy.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pd=Object.prototype.hasOwnProperty,fE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,am={},lm={};function pE(e){return Pd.call(lm,e)?!0:Pd.call(am,e)?!1:fE.test(e)?lm[e]=!0:(am[e]=!0,!1)}function mE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gE(e,t,r,n){if(t===null||typeof t>"u"||mE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var df=/[\-:]([a-z])/g;function hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(df,hf);Ze[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(df,hf);Ze[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(df,hf);Ze[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ff(e,t,r,n){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gE(t,r,s,n)&&(r=null),n||s===null?pE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rn=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),pf=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),wy=Symbol.for("react.provider"),xy=Symbol.for("react.context"),mf=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Rd=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),by=Symbol.for("react.offscreen"),cm=Symbol.iterator;function bi(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Nu;function Di(e){if(Nu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nu=t&&t[1]||""}return`
`+Nu+e}var Pu=!1;function Tu(e,t){if(!e||Pu)return"";Pu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Pu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Di(e):""}function vE(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=Tu(e.type,!1),e;case 11:return e=Tu(e.type.render,!1),e;case 1:return e=Tu(e.type,!0),e;default:return""}}function Ad(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mo:return"Fragment";case po:return"Portal";case Td:return"Profiler";case pf:return"StrictMode";case Od:return"Suspense";case Rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xy:return(e.displayName||"Context")+".Consumer";case wy:return(e._context.displayName||"Context")+".Provider";case mf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return t=e.displayName||null,t!==null?t:Ad(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return Ad(e(t))}catch{}}return null}function yE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ad(t);case 8:return t===pf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wE(e){var t=_y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=wE(e))}function Sy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_y(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Id(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function um(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ey(e,t){t=t.checked,t!=null&&ff(e,"checked",t,!1)}function Dd(e,t){Ey(e,t);var r=Mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$d(e,t.type,r):t.hasOwnProperty("defaultValue")&&$d(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $d(e,t,r){(t!=="number"||Gl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $i=Array.isArray;function jo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if($i(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mn(r)}}function Cy(e,t){var r=Mn(t.value),n=Mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ld(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ja,ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xE=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){xE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function Ny(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function Py(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ny(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var bE=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(e,t){if(t){if(bE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ud(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=null;function vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zd=null,ko=null,No=null;function pm(e){if(e=Aa(e)){if(typeof zd!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Mc(t),zd(e.stateNode,e.type,t))}}function Ty(e){ko?No?No.push(e):No=[e]:ko=e}function Oy(){if(ko){var e=ko,t=No;if(No=ko=null,pm(e),t)for(e=0;e<t.length;e++)pm(t[e])}}function Ry(e,t){return e(t)}function Ay(){}var Ou=!1;function Iy(e,t,r){if(Ou)return e(t,r);Ou=!0;try{return Ry(e,t,r)}finally{Ou=!1,(ko!==null||No!==null)&&(Ay(),Oy())}}function ra(e,t){var r=e.stateNode;if(r===null)return null;var n=Mc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Vd=!1;if(Qr)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Vd=!1}function _E(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zi=!1,Ql=null,Yl=!1,Wd=null,SE={onError:function(e){zi=!0,Ql=e}};function EE(e,t,r,n,s,o,i,a,c){zi=!1,Ql=null,_E.apply(SE,arguments)}function CE(e,t,r,n,s,o,i,a,c){if(EE.apply(this,arguments),zi){if(zi){var u=Ql;zi=!1,Ql=null}else throw Error(L(198));Yl||(Yl=!0,Wd=u)}}function Ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Dy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mm(e){if(Ls(e)!==e)throw Error(L(188))}function jE(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return mm(s),e;if(o===n)return mm(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function $y(e){return e=jE(e),e!==null?My(e):null}function My(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=My(e);if(t!==null)return t;e=e.sibling}return null}var Ly=At.unstable_scheduleCallback,gm=At.unstable_cancelCallback,kE=At.unstable_shouldYield,NE=At.unstable_requestPaint,Ue=At.unstable_now,PE=At.unstable_getCurrentPriorityLevel,yf=At.unstable_ImmediatePriority,Fy=At.unstable_UserBlockingPriority,Jl=At.unstable_NormalPriority,TE=At.unstable_LowPriority,Uy=At.unstable_IdlePriority,Ac=null,Ir=null;function OE(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Ac,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:IE,RE=Math.log,AE=Math.LN2;function IE(e){return e>>>=0,e===0?32:31-(RE(e)/AE|0)|0}var Xa=64,Za=4194304;function Mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Mi(a):(o&=i,o!==0&&(n=Mi(o)))}else i=r&~s,i!==0?n=Mi(i):o!==0&&(n=Mi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wr(t),s=1<<r,n|=e[r],t&=~s;return n}function DE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $E(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-wr(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=DE(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function qd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function By(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function Ru(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=r}function ME(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function wf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function zy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vy,xf,Wy,qy,Hy,Hd=!1,el=[],Nn=null,Pn=null,Tn=null,na=new Map,sa=new Map,vn=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function Si(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Aa(t),t!==null&&xf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FE(e,t,r,n,s){switch(t){case"focusin":return Nn=Si(Nn,e,t,r,n,s),!0;case"dragenter":return Pn=Si(Pn,e,t,r,n,s),!0;case"mouseover":return Tn=Si(Tn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return na.set(o,Si(na.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,sa.set(o,Si(sa.get(o)||null,e,t,r,n,s)),!0}return!1}function Ky(e){var t=cs(e.target);if(t!==null){var r=Ls(t);if(r!==null){if(t=r.tag,t===13){if(t=Dy(r),t!==null){e.blockedOn=t,Hy(e.priority,function(){Wy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bd=n,r.target.dispatchEvent(n),Bd=null}else return t=Aa(r),t!==null&&xf(t),e.blockedOn=r,!1;t.shift()}return!0}function ym(e,t,r){Rl(e)&&r.delete(t)}function UE(){Hd=!1,Nn!==null&&Rl(Nn)&&(Nn=null),Pn!==null&&Rl(Pn)&&(Pn=null),Tn!==null&&Rl(Tn)&&(Tn=null),na.forEach(ym),sa.forEach(ym)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Hd||(Hd=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,UE)))}function oa(e){function t(s){return Ei(s,e)}if(0<el.length){Ei(el[0],e);for(var r=1;r<el.length;r++){var n=el[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nn!==null&&Ei(Nn,e),Pn!==null&&Ei(Pn,e),Tn!==null&&Ei(Tn,e),na.forEach(t),sa.forEach(t),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)Ky(r),r.blockedOn===null&&vn.shift()}var Po=rn.ReactCurrentBatchConfig,Zl=!0;function BE(e,t,r,n){var s=Ee,o=Po.transition;Po.transition=null;try{Ee=1,bf(e,t,r,n)}finally{Ee=s,Po.transition=o}}function zE(e,t,r,n){var s=Ee,o=Po.transition;Po.transition=null;try{Ee=4,bf(e,t,r,n)}finally{Ee=s,Po.transition=o}}function bf(e,t,r,n){if(Zl){var s=Kd(e,t,r,n);if(s===null)zu(e,t,n,ec,r),vm(e,n);else if(FE(s,e,t,r,n))n.stopPropagation();else if(vm(e,n),t&4&&-1<LE.indexOf(e)){for(;s!==null;){var o=Aa(s);if(o!==null&&Vy(o),o=Kd(e,t,r,n),o===null&&zu(e,t,n,ec,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else zu(e,t,n,null,r)}}var ec=null;function Kd(e,t,r,n){if(ec=null,e=vf(n),e=cs(e),e!==null)if(t=Ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Dy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ec=e,null}function Gy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PE()){case yf:return 1;case Fy:return 4;case Jl:case TE:return 16;case Uy:return 536870912;default:return 16}default:return 16}}var Cn=null,_f=null,Al=null;function Qy(){if(Al)return Al;var e,t=_f,r=t.length,n,s="value"in Cn?Cn.value:Cn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Al=s.slice(e,1<n?1-n:void 0)}function Il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function wm(){return!1}function Mt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tl:wm,this.isPropagationStopped=wm,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sf=Mt(ni),Ra=Me({},ni,{view:0,detail:0}),VE=Mt(Ra),Au,Iu,Ci,Ic=Me({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Au=e.screenX-Ci.screenX,Iu=e.screenY-Ci.screenY):Iu=Au=0,Ci=e),Au)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),xm=Mt(Ic),WE=Me({},Ic,{dataTransfer:0}),qE=Mt(WE),HE=Me({},Ra,{relatedTarget:0}),Du=Mt(HE),KE=Me({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),GE=Mt(KE),QE=Me({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YE=Mt(QE),JE=Me({},ni,{data:0}),bm=Mt(JE),XE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eC[e])?!!t[e]:!1}function Ef(){return tC}var rC=Me({},Ra,{key:function(e){if(e.key){var t=XE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nC=Mt(rC),sC=Me({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Mt(sC),oC=Me({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),iC=Mt(oC),aC=Me({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),lC=Mt(aC),cC=Me({},Ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uC=Mt(cC),dC=[9,13,27,32],Cf=Qr&&"CompositionEvent"in window,Vi=null;Qr&&"documentMode"in document&&(Vi=document.documentMode);var hC=Qr&&"TextEvent"in window&&!Vi,Yy=Qr&&(!Cf||Vi&&8<Vi&&11>=Vi),Sm=" ",Em=!1;function Jy(e,t){switch(e){case"keyup":return dC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function fC(e,t){switch(e){case"compositionend":return Xy(t);case"keypress":return t.which!==32?null:(Em=!0,Sm);case"textInput":return e=t.data,e===Sm&&Em?null:e;default:return null}}function pC(e,t){if(go)return e==="compositionend"||!Cf&&Jy(e,t)?(e=Qy(),Al=_f=Cn=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yy&&t.locale!=="ko"?null:t.data;default:return null}}var mC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mC[e.type]:t==="textarea"}function Zy(e,t,r,n){Ty(n),t=tc(t,"onChange"),0<t.length&&(r=new Sf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wi=null,ia=null;function gC(e){u0(e,0)}function Dc(e){var t=wo(e);if(Sy(t))return e}function vC(e,t){if(e==="change")return t}var e0=!1;if(Qr){var $u;if(Qr){var Mu="oninput"in document;if(!Mu){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Mu=typeof jm.oninput=="function"}$u=Mu}else $u=!1;e0=$u&&(!document.documentMode||9<document.documentMode)}function km(){Wi&&(Wi.detachEvent("onpropertychange",t0),ia=Wi=null)}function t0(e){if(e.propertyName==="value"&&Dc(ia)){var t=[];Zy(t,ia,e,vf(e)),Iy(gC,t)}}function yC(e,t,r){e==="focusin"?(km(),Wi=t,ia=r,Wi.attachEvent("onpropertychange",t0)):e==="focusout"&&km()}function wC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dc(ia)}function xC(e,t){if(e==="click")return Dc(t)}function bC(e,t){if(e==="input"||e==="change")return Dc(t)}function _C(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:_C;function aa(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pd.call(t,s)||!br(e[s],t[s]))return!1}return!0}function Nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,t){var r=Nm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nm(r)}}function r0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function n0(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gl(e.document)}return t}function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SC(e){var t=n0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&r0(r.ownerDocument.documentElement,r)){if(n!==null&&jf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Pm(r,o);var i=Pm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EC=Qr&&"documentMode"in document&&11>=document.documentMode,vo=null,Gd=null,qi=null,Qd=!1;function Tm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qd||vo==null||vo!==Gl(n)||(n=vo,"selectionStart"in n&&jf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qi&&aa(qi,n)||(qi=n,n=tc(Gd,"onSelect"),0<n.length&&(t=new Sf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vo)))}function rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yo={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},Lu={},s0={};Qr&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function $c(e){if(Lu[e])return Lu[e];if(!yo[e])return e;var t=yo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in s0)return Lu[e]=t[r];return e}var o0=$c("animationend"),i0=$c("animationiteration"),a0=$c("animationstart"),l0=$c("transitionend"),c0=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){c0.set(e,t),Ms(t,[e])}for(var Fu=0;Fu<Om.length;Fu++){var Uu=Om[Fu],CC=Uu.toLowerCase(),jC=Uu[0].toUpperCase()+Uu.slice(1);zn(CC,"on"+jC)}zn(o0,"onAnimationEnd");zn(i0,"onAnimationIteration");zn(a0,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(l0,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Rm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,CE(n,t,void 0,e),e.currentTarget=null}function u0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Rm(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Rm(s,a,u),o=c}}}if(Yl)throw e=Wd,Yl=!1,Wd=null,e}function Pe(e,t){var r=t[eh];r===void 0&&(r=t[eh]=new Set);var n=e+"__bubble";r.has(n)||(d0(t,e,2,!1),r.add(n))}function Bu(e,t,r){var n=0;t&&(n|=4),d0(r,e,n,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[nl]){e[nl]=!0,yy.forEach(function(r){r!=="selectionchange"&&(kC.has(r)||Bu(r,!1,e),Bu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,Bu("selectionchange",!1,t))}}function d0(e,t,r,n){switch(Gy(t)){case 1:var s=BE;break;case 4:s=zE;break;default:s=bf}r=s.bind(null,t,r,e),s=void 0,!Vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function zu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=cs(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Iy(function(){var u=o,d=vf(r),h=[];e:{var g=c0.get(e);if(g!==void 0){var f=Sf,b=e;switch(e){case"keypress":if(Il(r)===0)break e;case"keydown":case"keyup":f=nC;break;case"focusin":b="focus",f=Du;break;case"focusout":b="blur",f=Du;break;case"beforeblur":case"afterblur":f=Du;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=qE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=iC;break;case o0:case i0:case a0:f=GE;break;case l0:f=lC;break;case"scroll":f=VE;break;case"wheel":f=uC;break;case"copy":case"cut":case"paste":f=YE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_m}var m=(t&4)!==0,y=!m&&e==="scroll",v=m?g!==null?g+"Capture":null:g;m=[];for(var w=u,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=ra(w,v),_!=null&&m.push(ca(w,_,x)))),y)break;w=w.return}0<m.length&&(g=new f(g,b,null,r,d),h.push({event:g,listeners:m}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",g&&r!==Bd&&(b=r.relatedTarget||r.fromElement)&&(cs(b)||b[Yr]))break e;if((f||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=u,b=b?cs(b):null,b!==null&&(y=Ls(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=u),f!==b)){if(m=xm,_="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=_m,_="onPointerLeave",v="onPointerEnter",w="pointer"),y=f==null?g:wo(f),x=b==null?g:wo(b),g=new m(_,w+"leave",f,r,d),g.target=y,g.relatedTarget=x,_=null,cs(d)===u&&(m=new m(v,w+"enter",b,r,d),m.target=x,m.relatedTarget=y,_=m),y=_,f&&b)t:{for(m=f,v=b,w=0,x=m;x;x=Zs(x))w++;for(x=0,_=v;_;_=Zs(_))x++;for(;0<w-x;)m=Zs(m),w--;for(;0<x-w;)v=Zs(v),x--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break t;m=Zs(m),v=Zs(v)}m=null}else m=null;f!==null&&Am(h,g,f,m,!1),b!==null&&y!==null&&Am(h,y,b,m,!0)}}e:{if(g=u?wo(u):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var S=vC;else if(Cm(g))if(e0)S=bC;else{S=wC;var E=yC}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=xC);if(S&&(S=S(e,u))){Zy(h,S,r,d);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&$d(g,"number",g.value)}switch(E=u?wo(u):window,e){case"focusin":(Cm(E)||E.contentEditable==="true")&&(vo=E,Gd=u,qi=null);break;case"focusout":qi=Gd=vo=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,Tm(h,r,d);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Tm(h,r,d)}var C;if(Cf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else go?Jy(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Yy&&r.locale!=="ko"&&(go||k!=="onCompositionStart"?k==="onCompositionEnd"&&go&&(C=Qy()):(Cn=d,_f="value"in Cn?Cn.value:Cn.textContent,go=!0)),E=tc(u,k),0<E.length&&(k=new bm(k,e,null,r,d),h.push({event:k,listeners:E}),C?k.data=C:(C=Xy(r),C!==null&&(k.data=C)))),(C=hC?fC(e,r):pC(e,r))&&(u=tc(u,"onBeforeInput"),0<u.length&&(d=new bm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}u0(h,t)})}function ca(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ra(e,r),o!=null&&n.unshift(ca(e,o,s)),o=ra(e,t),o!=null&&n.push(ca(e,o,s))),e=e.return}return n}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Am(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=ra(r,o),c!=null&&i.unshift(ca(r,c,a))):s||(c=ra(r,o),c!=null&&i.push(ca(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var NC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(NC,`
`).replace(PC,"")}function sl(e,t,r){if(t=Im(t),Im(e)!==t&&r)throw Error(L(425))}function rc(){}var Yd=null,Jd=null;function Xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(RC)}:Zd;function RC(e){setTimeout(function(){throw e})}function Vu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oa(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),Rr="__reactFiber$"+si,ua="__reactProps$"+si,Yr="__reactContainer$"+si,eh="__reactEvents$"+si,AC="__reactListeners$"+si,IC="__reactHandles$"+si;function cs(e){var t=e[Rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yr]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$m(e);e!==null;){if(r=e[Rr])return r;e=$m(e)}return t}e=r,r=e.parentNode}return null}function Aa(e){return e=e[Rr]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Mc(e){return e[ua]||null}var th=[],xo=-1;function Vn(e){return{current:e}}function Te(e){0>xo||(e.current=th[xo],th[xo]=null,xo--)}function ke(e,t){xo++,th[xo]=e.current,e.current=t}var Ln={},lt=Vn(Ln),bt=Vn(!1),Ss=Ln;function qo(e,t){var r=e.type.contextTypes;if(!r)return Ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function nc(){Te(bt),Te(lt)}function Mm(e,t,r){if(lt.current!==Ln)throw Error(L(168));ke(lt,t),ke(bt,r)}function h0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,yE(e)||"Unknown",s));return Me({},r,n)}function sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Ss=lt.current,ke(lt,e),ke(bt,bt.current),!0}function Lm(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=h0(e,t,Ss),n.__reactInternalMemoizedMergedChildContext=e,Te(bt),Te(lt),ke(lt,e)):Te(bt),ke(bt,r)}var Wr=null,Lc=!1,Wu=!1;function f0(e){Wr===null?Wr=[e]:Wr.push(e)}function DC(e){Lc=!0,f0(e)}function Wn(){if(!Wu&&Wr!==null){Wu=!0;var e=0,t=Ee;try{var r=Wr;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wr=null,Lc=!1}catch(s){throw Wr!==null&&(Wr=Wr.slice(e+1)),Ly(yf,Wn),s}finally{Ee=t,Wu=!1}}return null}var bo=[],_o=0,oc=null,ic=0,zt=[],Vt=0,Es=null,Hr=1,Kr="";function ns(e,t){bo[_o++]=ic,bo[_o++]=oc,oc=e,ic=t}function p0(e,t,r){zt[Vt++]=Hr,zt[Vt++]=Kr,zt[Vt++]=Es,Es=e;var n=Hr;e=Kr;var s=32-wr(n)-1;n&=~(1<<s),r+=1;var o=32-wr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Hr=1<<32-wr(t)+s|r<<s|n,Kr=o+e}else Hr=1<<o|r<<s|n,Kr=e}function kf(e){e.return!==null&&(ns(e,1),p0(e,1,0))}function Nf(e){for(;e===oc;)oc=bo[--_o],bo[_o]=null,ic=bo[--_o],bo[_o]=null;for(;e===Es;)Es=zt[--Vt],zt[Vt]=null,Kr=zt[--Vt],zt[Vt]=null,Hr=zt[--Vt],zt[Vt]=null}var Ot=null,Tt=null,Re=!1,yr=null;function m0(e,t){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Tt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Es!==null?{id:Hr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,Tt=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nh(e){if(Re){var t=Tt;if(t){var r=t;if(!Fm(e,t)){if(rh(e))throw Error(L(418));t=On(r.nextSibling);var n=Ot;t&&Fm(e,t)?m0(n,r):(e.flags=e.flags&-4097|2,Re=!1,Ot=e)}}else{if(rh(e))throw Error(L(418));e.flags=e.flags&-4097|2,Re=!1,Ot=e}}}function Um(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function ol(e){if(e!==Ot)return!1;if(!Re)return Um(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xd(e.type,e.memoizedProps)),t&&(t=Tt)){if(rh(e))throw g0(),Error(L(418));for(;t;)m0(e,t),t=On(t.nextSibling)}if(Um(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=On(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Ot?On(e.stateNode.nextSibling):null;return!0}function g0(){for(var e=Tt;e;)e=On(e.nextSibling)}function Ho(){Tt=Ot=null,Re=!1}function Pf(e){yr===null?yr=[e]:yr.push(e)}var $C=rn.ReactCurrentBatchConfig;function ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function il(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bm(e){var t=e._init;return t(e._payload)}function v0(e){function t(v,w){if(e){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Dn(v,w),v.index=0,v.sibling=null,v}function o(v,w,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,_){return w===null||w.tag!==6?(w=Ju(x,v.mode,_),w.return=v,w):(w=s(w,x),w.return=v,w)}function c(v,w,x,_){var S=x.type;return S===mo?d(v,w,x.props.children,_,x.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mn&&Bm(S)===w.type)?(_=s(w,x.props),_.ref=ji(v,w,x),_.return=v,_):(_=Bl(x.type,x.key,x.props,null,v.mode,_),_.ref=ji(v,w,x),_.return=v,_)}function u(v,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Xu(x,v.mode,_),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function d(v,w,x,_,S){return w===null||w.tag!==7?(w=xs(x,v.mode,_,S),w.return=v,w):(w=s(w,x),w.return=v,w)}function h(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ju(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qa:return x=Bl(w.type,w.key,w.props,null,v.mode,x),x.ref=ji(v,null,w),x.return=v,x;case po:return w=Xu(w,v.mode,x),w.return=v,w;case mn:var _=w._init;return h(v,_(w._payload),x)}if($i(w)||bi(w))return w=xs(w,v.mode,x,null),w.return=v,w;il(v,w)}return null}function g(v,w,x,_){var S=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qa:return x.key===S?c(v,w,x,_):null;case po:return x.key===S?u(v,w,x,_):null;case mn:return S=x._init,g(v,w,S(x._payload),_)}if($i(x)||bi(x))return S!==null?null:d(v,w,x,_,null);il(v,x)}return null}function f(v,w,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,a(w,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qa:return v=v.get(_.key===null?x:_.key)||null,c(w,v,_,S);case po:return v=v.get(_.key===null?x:_.key)||null,u(w,v,_,S);case mn:var E=_._init;return f(v,w,x,E(_._payload),S)}if($i(_)||bi(_))return v=v.get(x)||null,d(w,v,_,S,null);il(w,_)}return null}function b(v,w,x,_){for(var S=null,E=null,C=w,k=w=0,O=null;C!==null&&k<x.length;k++){C.index>k?(O=C,C=null):O=C.sibling;var A=g(v,C,x[k],_);if(A===null){C===null&&(C=O);break}e&&C&&A.alternate===null&&t(v,C),w=o(A,w,k),E===null?S=A:E.sibling=A,E=A,C=O}if(k===x.length)return r(v,C),Re&&ns(v,k),S;if(C===null){for(;k<x.length;k++)C=h(v,x[k],_),C!==null&&(w=o(C,w,k),E===null?S=C:E.sibling=C,E=C);return Re&&ns(v,k),S}for(C=n(v,C);k<x.length;k++)O=f(C,v,k,x[k],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?k:O.key),w=o(O,w,k),E===null?S=O:E.sibling=O,E=O);return e&&C.forEach(function(K){return t(v,K)}),Re&&ns(v,k),S}function m(v,w,x,_){var S=bi(x);if(typeof S!="function")throw Error(L(150));if(x=S.call(x),x==null)throw Error(L(151));for(var E=S=null,C=w,k=w=0,O=null,A=x.next();C!==null&&!A.done;k++,A=x.next()){C.index>k?(O=C,C=null):O=C.sibling;var K=g(v,C,A.value,_);if(K===null){C===null&&(C=O);break}e&&C&&K.alternate===null&&t(v,C),w=o(K,w,k),E===null?S=K:E.sibling=K,E=K,C=O}if(A.done)return r(v,C),Re&&ns(v,k),S;if(C===null){for(;!A.done;k++,A=x.next())A=h(v,A.value,_),A!==null&&(w=o(A,w,k),E===null?S=A:E.sibling=A,E=A);return Re&&ns(v,k),S}for(C=n(v,C);!A.done;k++,A=x.next())A=f(C,v,k,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),w=o(A,w,k),E===null?S=A:E.sibling=A,E=A);return e&&C.forEach(function(B){return t(v,B)}),Re&&ns(v,k),S}function y(v,w,x,_){if(typeof x=="object"&&x!==null&&x.type===mo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Qa:e:{for(var S=x.key,E=w;E!==null;){if(E.key===S){if(S=x.type,S===mo){if(E.tag===7){r(v,E.sibling),w=s(E,x.props.children),w.return=v,v=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mn&&Bm(S)===E.type){r(v,E.sibling),w=s(E,x.props),w.ref=ji(v,E,x),w.return=v,v=w;break e}r(v,E);break}else t(v,E);E=E.sibling}x.type===mo?(w=xs(x.props.children,v.mode,_,x.key),w.return=v,v=w):(_=Bl(x.type,x.key,x.props,null,v.mode,_),_.ref=ji(v,w,x),_.return=v,v=_)}return i(v);case po:e:{for(E=x.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=Xu(x,v.mode,_),w.return=v,v=w}return i(v);case mn:return E=x._init,y(v,w,E(x._payload),_)}if($i(x))return b(v,w,x,_);if(bi(x))return m(v,w,x,_);il(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(v,w.sibling),w=s(w,x),w.return=v,v=w):(r(v,w),w=Ju(x,v.mode,_),w.return=v,v=w),i(v)):r(v,w)}return y}var Ko=v0(!0),y0=v0(!1),ac=Vn(null),lc=null,So=null,Tf=null;function Of(){Tf=So=lc=null}function Rf(e){var t=ac.current;Te(ac),e._currentValue=t}function sh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function To(e,t){lc=e,Tf=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Tf!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(lc===null)throw Error(L(308));So=e,lc.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var us=null;function Af(e){us===null?us=[e]:us.push(e)}function w0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Af(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jr(e,n)}function Jr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gn=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Jr(e,r)}return s=n.interleaved,s===null?(t.next=t,Af(n)):(t.next=s.next,s.next=t),n.interleaved=t,Jr(e,r)}function Dl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wf(e,r)}}function zm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cc(e,t,r,n){var s=e.updateQueue;gn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,d=u=c=null,a=o;do{var g=a.lane,f=a.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,m=a;switch(g=t,f=r,m.tag){case 1:if(b=m.payload,typeof b=="function"){h=b.call(f,h,g);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,g=typeof b=="function"?b.call(f,h,g):b,g==null)break e;h=Me({},h,g);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else f={eventTime:f,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,i|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);js|=i,e.lanes=i,e.memoizedState=h}}function Vm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Ia={},Dr=Vn(Ia),da=Vn(Ia),ha=Vn(Ia);function ds(e){if(e===Ia)throw Error(L(174));return e}function Df(e,t){switch(ke(ha,t),ke(da,e),ke(Dr,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ld(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ld(t,e)}Te(Dr),ke(Dr,t)}function Go(){Te(Dr),Te(da),Te(ha)}function b0(e){ds(ha.current);var t=ds(Dr.current),r=Ld(t,e.type);t!==r&&(ke(da,e),ke(Dr,r))}function $f(e){da.current===e&&(Te(Dr),Te(da))}var De=Vn(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qu=[];function Mf(){for(var e=0;e<qu.length;e++)qu[e]._workInProgressVersionPrimary=null;qu.length=0}var $l=rn.ReactCurrentDispatcher,Hu=rn.ReactCurrentBatchConfig,Cs=0,$e=null,He=null,Ge=null,dc=!1,Hi=!1,fa=0,MC=0;function nt(){throw Error(L(321))}function Lf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!br(e[r],t[r]))return!1;return!0}function Ff(e,t,r,n,s,o){if(Cs=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?BC:zC,e=r(n,s),Hi){o=0;do{if(Hi=!1,fa=0,25<=o)throw Error(L(301));o+=1,Ge=He=null,t.updateQueue=null,$l.current=VC,e=r(n,s)}while(Hi)}if($l.current=hc,t=He!==null&&He.next!==null,Cs=0,Ge=He=$e=null,dc=!1,t)throw Error(L(300));return e}function Uf(){var e=fa!==0;return fa=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?$e.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Xt(){if(He===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ge===null?$e.memoizedState:Ge.next;if(t!==null)Ge=t,He=e;else{if(e===null)throw Error(L(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?$e.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function pa(e,t){return typeof t=="function"?t(e):t}function Ku(e){var t=Xt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Cs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,i=n):c=c.next=h,$e.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,br(n,t.memoizedState)||(xt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,js|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gu(e){var t=Xt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);br(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function _0(){}function S0(e,t){var r=$e,n=Xt(),s=t(),o=!br(n.memoizedState,s);if(o&&(n.memoizedState=s,xt=!0),n=n.queue,Bf(j0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,ma(9,C0.bind(null,r,n,s,t),void 0,null),Ye===null)throw Error(L(349));Cs&30||E0(r,t,s)}return s}function E0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function C0(e,t,r,n){t.value=r,t.getSnapshot=n,k0(t)&&N0(e)}function j0(e,t,r){return r(function(){k0(t)&&N0(e)})}function k0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!br(e,r)}catch{return!0}}function N0(e){var t=Jr(e,1);t!==null&&xr(t,e,1,-1)}function Wm(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=UC.bind(null,$e,e),[t.memoizedState,e]}function ma(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function P0(){return Xt().memoizedState}function Ml(e,t,r,n){var s=Nr();$e.flags|=e,s.memoizedState=ma(1|t,r,void 0,n===void 0?null:n)}function Fc(e,t,r,n){var s=Xt();n=n===void 0?null:n;var o=void 0;if(He!==null){var i=He.memoizedState;if(o=i.destroy,n!==null&&Lf(n,i.deps)){s.memoizedState=ma(t,r,o,n);return}}$e.flags|=e,s.memoizedState=ma(1|t,r,o,n)}function qm(e,t){return Ml(8390656,8,e,t)}function Bf(e,t){return Fc(2048,8,e,t)}function T0(e,t){return Fc(4,2,e,t)}function O0(e,t){return Fc(4,4,e,t)}function R0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A0(e,t,r){return r=r!=null?r.concat([e]):null,Fc(4,4,R0.bind(null,t,e),r)}function zf(){}function I0(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function D0(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $0(e,t,r){return Cs&21?(br(r,t)||(r=By(),$e.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=r)}function LC(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Hu.transition;Hu.transition={};try{e(!1),t()}finally{Ee=r,Hu.transition=n}}function M0(){return Xt().memoizedState}function FC(e,t,r){var n=In(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L0(e))F0(t,r);else if(r=w0(e,t,r,n),r!==null){var s=pt();xr(r,e,n,s),U0(r,t,n)}}function UC(e,t,r){var n=In(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L0(e))F0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,br(a,i)){var c=t.interleaved;c===null?(s.next=s,Af(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=w0(e,t,s,n),r!==null&&(s=pt(),xr(r,e,n,s),U0(r,t,n))}}function L0(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function F0(e,t){Hi=dc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wf(e,r)}}var hc={readContext:Jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},BC={readContext:Jt,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:qm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ml(4194308,4,R0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var r=Nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FC.bind(null,$e,e),[n.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:zf,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=LC.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$e,s=Nr();if(Re){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ye===null)throw Error(L(349));Cs&30||E0(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,qm(j0.bind(null,n,o,e),[e]),n.flags|=2048,ma(9,C0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Nr(),t=Ye.identifierPrefix;if(Re){var r=Kr,n=Hr;r=(n&~(1<<32-wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=MC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zC={readContext:Jt,useCallback:I0,useContext:Jt,useEffect:Bf,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:O0,useMemo:D0,useReducer:Ku,useRef:P0,useState:function(){return Ku(pa)},useDebugValue:zf,useDeferredValue:function(e){var t=Xt();return $0(t,He.memoizedState,e)},useTransition:function(){var e=Ku(pa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:_0,useSyncExternalStore:S0,useId:M0,unstable_isNewReconciler:!1},VC={readContext:Jt,useCallback:I0,useContext:Jt,useEffect:Bf,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:O0,useMemo:D0,useReducer:Gu,useRef:P0,useState:function(){return Gu(pa)},useDebugValue:zf,useDeferredValue:function(e){var t=Xt();return He===null?t.memoizedState=e:$0(t,He.memoizedState,e)},useTransition:function(){var e=Gu(pa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:_0,useSyncExternalStore:S0,useId:M0,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uc={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pt(),s=In(e),o=Gr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(xr(t,e,s,n),Dl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pt(),s=In(e),o=Gr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(xr(t,e,s,n),Dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),n=In(e),s=Gr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,n),t!==null&&(xr(t,e,n,r),Dl(t,e,n))}};function Hm(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!aa(r,n)||!aa(s,o):!0}function B0(e,t,r){var n=!1,s=Ln,o=t.contextType;return typeof o=="object"&&o!==null?o=Jt(o):(s=_t(t)?Ss:lt.current,n=t.contextTypes,o=(n=n!=null)?qo(e,s):Ln),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Km(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uc.enqueueReplaceState(t,t.state,null)}function ih(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},If(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Jt(o):(o=_t(t)?Ss:lt.current,s.context=qo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(oh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Uc.enqueueReplaceState(s,s.state,null),cc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qo(e,t){try{var r="",n=t;do r+=vE(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Qu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ah(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WC=typeof WeakMap=="function"?WeakMap:Map;function z0(e,t,r){r=Gr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pc||(pc=!0,vh=n),ah(e,t)},r}function V0(e,t,r){r=Gr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ah(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ah(e,t),typeof n!="function"&&(An===null?An=new Set([this]):An.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Gm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sj.bind(null,e,t,r),t.then(e,e))}function Qm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ym(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gr(-1,1),t.tag=2,Rn(r,t,1))),r.lanes|=1),e)}var qC=rn.ReactCurrentOwner,xt=!1;function dt(e,t,r,n){t.child=e===null?y0(t,null,r,n):Ko(t,e.child,r,n)}function Jm(e,t,r,n,s){r=r.render;var o=t.ref;return To(t,s),n=Ff(e,t,r,n,o,s),r=Uf(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(Re&&r&&kf(t),t.flags|=1,dt(e,t,n,s),t.child)}function Xm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Yf(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,W0(e,t,o,n,s)):(e=Bl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:aa,r(i,n)&&e.ref===t.ref)return Xr(e,t,s)}return t.flags|=1,e=Dn(o,n),e.ref=t.ref,e.return=t,t.child=e}function W0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(aa(o,n)&&e.ref===t.ref)if(xt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Xr(e,t,s)}return lh(e,t,r,n,s)}function q0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Co,jt),jt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Co,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ke(Co,jt),jt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ke(Co,jt),jt|=n;return dt(e,t,s,r),t.child}function H0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lh(e,t,r,n,s){var o=_t(r)?Ss:lt.current;return o=qo(t,o),To(t,s),r=Ff(e,t,r,n,o,s),n=Uf(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(Re&&n&&kf(t),t.flags|=1,dt(e,t,r,s),t.child)}function Zm(e,t,r,n,s){if(_t(r)){var o=!0;sc(t)}else o=!1;if(To(t,s),t.stateNode===null)Ll(e,t),B0(t,r,n),ih(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=_t(r)?Ss:lt.current,u=qo(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Km(t,i,n,u),gn=!1;var g=t.memoizedState;i.state=g,cc(t,n,i,s),c=t.memoizedState,a!==n||g!==c||bt.current||gn?(typeof d=="function"&&(oh(t,r,d,n),c=t.memoizedState),(a=gn||Hm(t,r,a,n,g,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,x0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dr(t.type,a),i.props=u,h=t.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=_t(r)?Ss:lt.current,c=qo(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||g!==c)&&Km(t,i,n,c),gn=!1,g=t.memoizedState,i.state=g,cc(t,n,i,s);var b=t.memoizedState;a!==h||g!==b||bt.current||gn?(typeof f=="function"&&(oh(t,r,f,n),b=t.memoizedState),(u=gn||Hm(t,r,u,n,g,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return ch(e,t,r,n,o,s)}function ch(e,t,r,n,s,o){H0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Lm(t,r,!1),Xr(e,t,o);n=t.stateNode,qC.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,a,o)):dt(e,t,a,o),t.memoizedState=n.state,s&&Lm(t,r,!0),t.child}function K0(e){var t=e.stateNode;t.pendingContext?Mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mm(e,t.context,!1),Df(e,t.containerInfo)}function eg(e,t,r,n,s){return Ho(),Pf(s),t.flags|=256,dt(e,t,r,n),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function G0(e,t,r){var n=t.pendingProps,s=De.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(De,s&1),e===null)return nh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Vc(i,n,0,null),e=xs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dh(r),t.memoizedState=uh,e):Vf(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HC(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Dn(a,o):(o=xs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?dh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=uh,n}return o=e.child,e=o.sibling,n=Dn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vf(e,t){return t=Vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function al(e,t,r,n){return n!==null&&Pf(n),Ko(t,e.child,null,r),e=Vf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HC(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Qu(Error(L(422))),al(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Vc({mode:"visible",children:n.children},s,0,null),o=xs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ko(t,e.child,null,i),t.child.memoizedState=dh(i),t.memoizedState=uh,o);if(!(t.mode&1))return al(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=Qu(o,n,void 0),al(e,t,i,n)}if(a=(i&e.childLanes)!==0,xt||a){if(n=Ye,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Jr(e,s),xr(n,e,s,-1))}return Qf(),n=Qu(Error(L(421))),al(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=oj.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Tt=On(s.nextSibling),Ot=t,Re=!0,yr=null,e!==null&&(zt[Vt++]=Hr,zt[Vt++]=Kr,zt[Vt++]=Es,Hr=e.id,Kr=e.overflow,Es=t),t=Vf(t,n.children),t.flags|=4096,t)}function tg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sh(e.return,t,r)}function Yu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Q0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(dt(e,t,n.children,r),n=De.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tg(e,r,t);else if(e.tag===19)tg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(De,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Yu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Yu(t,!0,r,null,o);break;case"together":Yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Dn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KC(e,t,r){switch(t.tag){case 3:K0(t),Ho();break;case 5:b0(t);break;case 1:_t(t.type)&&sc(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(ac,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(De,De.current&1),t.flags|=128,null):r&t.child.childLanes?G0(e,t,r):(ke(De,De.current&1),e=Xr(e,t,r),e!==null?e.sibling:null);ke(De,De.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Q0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(De,De.current),n)break;return null;case 22:case 23:return t.lanes=0,q0(e,t,r)}return Xr(e,t,r)}var Y0,hh,J0,X0;Y0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hh=function(){};J0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ds(Dr.current);var o=null;switch(r){case"input":s=Id(e,s),n=Id(e,n),o=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),o=[];break;case"textarea":s=Md(e,s),n=Md(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rc)}Fd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};X0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ki(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GC(e,t,r){var n=t.pendingProps;switch(Nf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return _t(t.type)&&nc(),st(t),null;case 3:return n=t.stateNode,Go(),Te(bt),Te(lt),Mf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yr!==null&&(xh(yr),yr=null))),hh(e,t),st(t),null;case 5:$f(t);var s=ds(ha.current);if(r=t.type,e!==null&&t.stateNode!=null)J0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return st(t),null}if(e=ds(Dr.current),ol(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Rr]=t,n[ua]=o,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(s=0;s<Li.length;s++)Pe(Li[s],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":um(n,o),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",n);break;case"textarea":hm(n,o),Pe("invalid",n)}Fd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&sl(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&sl(n.textContent,a,e),s=["children",""+a]):ea.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Pe("scroll",n)}switch(r){case"input":Ya(n),dm(n,o,!0);break;case"textarea":Ya(n),fm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=rc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Rr]=t,e[ua]=n,Y0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ud(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),s=n;break;case"iframe":case"object":case"embed":Pe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Li.length;s++)Pe(Li[s],e);s=n;break;case"source":Pe("error",e),s=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=n;break;case"details":Pe("toggle",e),s=n;break;case"input":um(e,n),s=Id(e,n),Pe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":hm(e,n),s=Md(e,n),Pe("invalid",e);break;default:s=n}Fd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Py(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ky(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ta(e,c):typeof c=="number"&&ta(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Pe("scroll",e):c!=null&&ff(e,o,c,i))}switch(r){case"input":Ya(e),dm(e,n,!1);break;case"textarea":Ya(e),fm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?jo(e,!!n.multiple,o,!1):n.defaultValue!=null&&jo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=rc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)X0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=ds(ha.current),ds(Dr.current),ol(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rr]=t,(o=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:sl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=t,t.stateNode=n}return st(t),null;case 13:if(Te(De),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Tt!==null&&t.mode&1&&!(t.flags&128))g0(),Ho(),t.flags|=98560,o=!1;else if(o=ol(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Rr]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),o=!1}else yr!==null&&(xh(yr),yr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Ke===0&&(Ke=3):Qf())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Go(),hh(e,t),e===null&&la(t.stateNode.containerInfo),st(t),null;case 10:return Rf(t.type._context),st(t),null;case 17:return _t(t.type)&&nc(),st(t),null;case 19:if(Te(De),o=t.memoizedState,o===null)return st(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)ki(o,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=uc(e),i!==null){for(t.flags|=128,ki(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>Yo&&(t.flags|=128,n=!0,ki(o,!1),t.lanes=4194304)}else{if(!n)if(e=uc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ki(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return st(t),null}else 2*Ue()-o.renderingStartTime>Yo&&r!==1073741824&&(t.flags|=128,n=!0,ki(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=De.current,ke(De,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return Gf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function QC(e,t){switch(Nf(t),t.tag){case 1:return _t(t.type)&&nc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Go(),Te(bt),Te(lt),Mf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $f(t),null;case 13:if(Te(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(De),null;case 4:return Go(),null;case 10:return Rf(t.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var ll=!1,it=!1,YC=typeof WeakSet=="function"?WeakSet:Set,G=null;function Eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fe(e,t,n)}else r.current=null}function fh(e,t,r){try{r()}catch(n){Fe(e,t,n)}}var rg=!1;function JC(e,t){if(Yd=Zl,e=n0(),jf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,h=e,g=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)g=h,h=f;for(;;){if(h===e)break t;if(g===r&&++u===s&&(a=i),g===o&&++d===n&&(c=i),(f=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=f}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jd={focusedElem:e,selectionRange:r},Zl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,y=b.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:dr(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Fe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=rg,rg=!1,b}function Ki(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&fh(t,r,o)}s=s.next}while(s!==n)}}function Bc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z0(e){var t=e.alternate;t!==null&&(e.alternate=null,Z0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[ua],delete t[eh],delete t[AC],delete t[IC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ew(e){return e.tag===5||e.tag===3||e.tag===4}function ng(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ew(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rc));else if(n!==4&&(e=e.child,e!==null))for(mh(e,t,r),e=e.sibling;e!==null;)mh(e,t,r),e=e.sibling}function gh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gh(e,t,r),e=e.sibling;e!==null;)gh(e,t,r),e=e.sibling}var Je=null,gr=!1;function ln(e,t,r){for(r=r.child;r!==null;)tw(e,t,r),r=r.sibling}function tw(e,t,r){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Ac,r)}catch{}switch(r.tag){case 5:it||Eo(r,t);case 6:var n=Je,s=gr;Je=null,ln(e,t,r),Je=n,gr=s,Je!==null&&(gr?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(gr?(e=Je,r=r.stateNode,e.nodeType===8?Vu(e.parentNode,r):e.nodeType===1&&Vu(e,r),oa(e)):Vu(Je,r.stateNode));break;case 4:n=Je,s=gr,Je=r.stateNode.containerInfo,gr=!0,ln(e,t,r),Je=n,gr=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&fh(r,t,i),s=s.next}while(s!==n)}ln(e,t,r);break;case 1:if(!it&&(Eo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Fe(r,t,a)}ln(e,t,r);break;case 21:ln(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,ln(e,t,r),it=n):ln(e,t,r);break;default:ln(e,t,r)}}function sg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YC),t.forEach(function(n){var s=ij.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,gr=!1;break e;case 3:Je=a.stateNode.containerInfo,gr=!0;break e;case 4:Je=a.stateNode.containerInfo,gr=!0;break e}a=a.return}if(Je===null)throw Error(L(160));tw(o,i,s),Je=null,gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rw(t,e),t=t.sibling}function rw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ir(t,e),kr(e),n&4){try{Ki(3,e,e.return),Bc(3,e)}catch(m){Fe(e,e.return,m)}try{Ki(5,e,e.return)}catch(m){Fe(e,e.return,m)}}break;case 1:ir(t,e),kr(e),n&512&&r!==null&&Eo(r,r.return);break;case 5:if(ir(t,e),kr(e),n&512&&r!==null&&Eo(r,r.return),e.flags&32){var s=e.stateNode;try{ta(s,"")}catch(m){Fe(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ey(s,o),Ud(a,i);var u=Ud(a,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?Py(s,h):d==="dangerouslySetInnerHTML"?ky(s,h):d==="children"?ta(s,h):ff(s,d,h,u)}switch(a){case"input":Dd(s,o);break;case"textarea":Cy(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?jo(s,!!o.multiple,f,!1):g!==!!o.multiple&&(o.defaultValue!=null?jo(s,!!o.multiple,o.defaultValue,!0):jo(s,!!o.multiple,o.multiple?[]:"",!1))}s[ua]=o}catch(m){Fe(e,e.return,m)}}break;case 6:if(ir(t,e),kr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){Fe(e,e.return,m)}}break;case 3:if(ir(t,e),kr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(m){Fe(e,e.return,m)}break;case 4:ir(t,e),kr(e);break;case 13:ir(t,e),kr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Hf=Ue())),n&4&&sg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,ir(t,e),it=u):ir(t,e),kr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(g=G,f=g.child,g.tag){case 0:case 11:case 14:case 15:Ki(4,g,g.return);break;case 1:Eo(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){Fe(n,r,m)}}break;case 5:Eo(g,g.return);break;case 22:if(g.memoizedState!==null){ig(h);continue}}f!==null?(f.return=g,G=f):ig(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ny("display",i))}catch(m){Fe(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Fe(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(t,e),kr(e),n&4&&sg(e);break;case 21:break;default:ir(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ew(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ta(s,""),n.flags&=-33);var o=ng(e);gh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=ng(e);mh(e,a,i);break;default:throw Error(L(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XC(e,t,r){G=e,nw(e)}function nw(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ll;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||it;a=ll;var u=it;if(ll=i,(it=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?ag(s):c!==null?(c.return=i,G=c):ag(s);for(;o!==null;)G=o,nw(o),o=o.sibling;G=s,ll=a,it=u}og(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):og(e)}}function og(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Bc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:dr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Vm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vm(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&oa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}it||t.flags&512&&ph(t)}catch(g){Fe(t,t.return,g)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function ig(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function ag(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bc(4,t)}catch(c){Fe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Fe(t,s,c)}}var o=t.return;try{ph(t)}catch(c){Fe(t,o,c)}break;case 5:var i=t.return;try{ph(t)}catch(c){Fe(t,i,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var ZC=Math.ceil,fc=rn.ReactCurrentDispatcher,Wf=rn.ReactCurrentOwner,Gt=rn.ReactCurrentBatchConfig,ye=0,Ye=null,Ve=null,Xe=0,jt=0,Co=Vn(0),Ke=0,ga=null,js=0,zc=0,qf=0,Gi=null,wt=null,Hf=0,Yo=1/0,zr=null,pc=!1,vh=null,An=null,cl=!1,jn=null,mc=0,Qi=0,yh=null,Fl=-1,Ul=0;function pt(){return ye&6?Ue():Fl!==-1?Fl:Fl=Ue()}function In(e){return e.mode&1?ye&2&&Xe!==0?Xe&-Xe:$C.transition!==null?(Ul===0&&(Ul=By()),Ul):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Gy(e.type)),e):1}function xr(e,t,r,n){if(50<Qi)throw Qi=0,yh=null,Error(L(185));Oa(e,r,n),(!(ye&2)||e!==Ye)&&(e===Ye&&(!(ye&2)&&(zc|=r),Ke===4&&yn(e,Xe)),St(e,n),r===1&&ye===0&&!(t.mode&1)&&(Yo=Ue()+500,Lc&&Wn()))}function St(e,t){var r=e.callbackNode;$E(e,t);var n=Xl(e,e===Ye?Xe:0);if(n===0)r!==null&&gm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gm(r),t===1)e.tag===0?DC(lg.bind(null,e)):f0(lg.bind(null,e)),OC(function(){!(ye&6)&&Wn()}),r=null;else{switch(zy(n)){case 1:r=yf;break;case 4:r=Fy;break;case 16:r=Jl;break;case 536870912:r=Uy;break;default:r=Jl}r=dw(r,sw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sw(e,t){if(Fl=-1,Ul=0,ye&6)throw Error(L(327));var r=e.callbackNode;if(Oo()&&e.callbackNode!==r)return null;var n=Xl(e,e===Ye?Xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gc(e,n);else{t=n;var s=ye;ye|=2;var o=iw();(Ye!==e||Xe!==t)&&(zr=null,Yo=Ue()+500,ws(e,t));do try{rj();break}catch(a){ow(e,a)}while(!0);Of(),fc.current=o,ye=s,Ve!==null?t=0:(Ye=null,Xe=0,t=Ke)}if(t!==0){if(t===2&&(s=qd(e),s!==0&&(n=s,t=wh(e,s))),t===1)throw r=ga,ws(e,0),yn(e,n),St(e,Ue()),r;if(t===6)yn(e,n);else{if(s=e.current.alternate,!(n&30)&&!ej(s)&&(t=gc(e,n),t===2&&(o=qd(e),o!==0&&(n=o,t=wh(e,o))),t===1))throw r=ga,ws(e,0),yn(e,n),St(e,Ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:ss(e,wt,zr);break;case 3:if(yn(e,n),(n&130023424)===n&&(t=Hf+500-Ue(),10<t)){if(Xl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zd(ss.bind(null,e,wt,zr),t);break}ss(e,wt,zr);break;case 4:if(yn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-wr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZC(n/1960))-n,10<n){e.timeoutHandle=Zd(ss.bind(null,e,wt,zr),n);break}ss(e,wt,zr);break;case 5:ss(e,wt,zr);break;default:throw Error(L(329))}}}return St(e,Ue()),e.callbackNode===r?sw.bind(null,e):null}function wh(e,t){var r=Gi;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=gc(e,t),e!==2&&(t=wt,wt=r,t!==null&&xh(t)),e}function xh(e){wt===null?wt=e:wt.push.apply(wt,e)}function ej(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!br(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~qf,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wr(t),n=1<<r;e[r]=-1,t&=~n}}function lg(e){if(ye&6)throw Error(L(327));Oo();var t=Xl(e,0);if(!(t&1))return St(e,Ue()),null;var r=gc(e,t);if(e.tag!==0&&r===2){var n=qd(e);n!==0&&(t=n,r=wh(e,n))}if(r===1)throw r=ga,ws(e,0),yn(e,t),St(e,Ue()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,wt,zr),St(e,Ue()),null}function Kf(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Yo=Ue()+500,Lc&&Wn())}}function ks(e){jn!==null&&jn.tag===0&&!(ye&6)&&Oo();var t=ye;ye|=1;var r=Gt.transition,n=Ee;try{if(Gt.transition=null,Ee=1,e)return e()}finally{Ee=n,Gt.transition=r,ye=t,!(ye&6)&&Wn()}}function Gf(){jt=Co.current,Te(Co)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,TC(r)),Ve!==null)for(r=Ve.return;r!==null;){var n=r;switch(Nf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nc();break;case 3:Go(),Te(bt),Te(lt),Mf();break;case 5:$f(n);break;case 4:Go();break;case 13:Te(De);break;case 19:Te(De);break;case 10:Rf(n.type._context);break;case 22:case 23:Gf()}r=r.return}if(Ye=e,Ve=e=Dn(e.current,null),Xe=jt=t,Ke=0,ga=null,qf=zc=js=0,wt=Gi=null,us!==null){for(t=0;t<us.length;t++)if(r=us[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}us=null}return e}function ow(e,t){do{var r=Ve;try{if(Of(),$l.current=hc,dc){for(var n=$e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dc=!1}if(Cs=0,Ge=He=$e=null,Hi=!1,fa=0,Wf.current=null,r===null||r.return===null){Ke=1,ga=t,Ve=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Xe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Qm(i);if(f!==null){f.flags&=-257,Ym(f,i,a,o,t),f.mode&1&&Gm(o,u,t),t=f,c=u;var b=t.updateQueue;if(b===null){var m=new Set;m.add(c),t.updateQueue=m}else b.add(c);break e}else{if(!(t&1)){Gm(o,u,t),Qf();break e}c=Error(L(426))}}else if(Re&&a.mode&1){var y=Qm(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ym(y,i,a,o,t),Pf(Qo(c,a));break e}}o=c=Qo(c,a),Ke!==4&&(Ke=2),Gi===null?Gi=[o]:Gi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=z0(o,c,t);zm(o,v);break e;case 1:a=c;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(An===null||!An.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=V0(o,a,t);zm(o,_);break e}}o=o.return}while(o!==null)}lw(r)}catch(S){t=S,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function iw(){var e=fc.current;return fc.current=hc,e===null?hc:e}function Qf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ye===null||!(js&268435455)&&!(zc&268435455)||yn(Ye,Xe)}function gc(e,t){var r=ye;ye|=2;var n=iw();(Ye!==e||Xe!==t)&&(zr=null,ws(e,t));do try{tj();break}catch(s){ow(e,s)}while(!0);if(Of(),ye=r,fc.current=n,Ve!==null)throw Error(L(261));return Ye=null,Xe=0,Ke}function tj(){for(;Ve!==null;)aw(Ve)}function rj(){for(;Ve!==null&&!kE();)aw(Ve)}function aw(e){var t=uw(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?lw(e):Ve=t,Wf.current=null}function lw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=QC(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ve=null;return}}else if(r=GC(r,t,jt),r!==null){Ve=r;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ke===0&&(Ke=5)}function ss(e,t,r){var n=Ee,s=Gt.transition;try{Gt.transition=null,Ee=1,nj(e,t,r,n)}finally{Gt.transition=s,Ee=n}return null}function nj(e,t,r,n){do Oo();while(jn!==null);if(ye&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ME(e,o),e===Ye&&(Ve=Ye=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cl||(cl=!0,dw(Jl,function(){return Oo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var i=Ee;Ee=1;var a=ye;ye|=4,Wf.current=null,JC(e,r),rw(r,e),SC(Jd),Zl=!!Yd,Jd=Yd=null,e.current=r,XC(r),NE(),ye=a,Ee=i,Gt.transition=o}else e.current=r;if(cl&&(cl=!1,jn=e,mc=s),o=e.pendingLanes,o===0&&(An=null),OE(r.stateNode),St(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(pc)throw pc=!1,e=vh,vh=null,e;return mc&1&&e.tag!==0&&Oo(),o=e.pendingLanes,o&1?e===yh?Qi++:(Qi=0,yh=e):Qi=0,Wn(),null}function Oo(){if(jn!==null){var e=zy(mc),t=Gt.transition,r=Ee;try{if(Gt.transition=null,Ee=16>e?16:e,jn===null)var n=!1;else{if(e=jn,jn=null,mc=0,ye&6)throw Error(L(331));var s=ye;for(ye|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ki(8,d,o)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var g=d.sibling,f=d.return;if(Z0(d),d===u){G=null;break}if(g!==null){g.return=f,G=g;break}G=f}}}var b=o.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ki(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var w=e.current;for(G=w;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bc(9,a)}}catch(S){Fe(a,a.return,S)}if(a===i){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(ye=s,Wn(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Ac,e)}catch{}n=!0}return n}finally{Ee=r,Gt.transition=t}}return!1}function cg(e,t,r){t=Qo(r,t),t=z0(e,t,1),e=Rn(e,t,1),t=pt(),e!==null&&(Oa(e,1,t),St(e,t))}function Fe(e,t,r){if(e.tag===3)cg(e,e,r);else for(;t!==null;){if(t.tag===3){cg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){e=Qo(r,e),e=V0(t,e,1),t=Rn(t,e,1),e=pt(),t!==null&&(Oa(t,1,e),St(t,e));break}}t=t.return}}function sj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Xe&r)===r&&(Ke===4||Ke===3&&(Xe&130023424)===Xe&&500>Ue()-Hf?ws(e,0):qf|=r),St(e,t)}function cw(e,t){t===0&&(e.mode&1?(t=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):t=1);var r=pt();e=Jr(e,t),e!==null&&(Oa(e,t,r),St(e,r))}function oj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cw(e,r)}function ij(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),cw(e,r)}var uw;uw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xt=!1,KC(e,t,r);xt=!!(e.flags&131072)}else xt=!1,Re&&t.flags&1048576&&p0(t,ic,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ll(e,t),e=t.pendingProps;var s=qo(t,lt.current);To(t,r),s=Ff(null,t,n,e,s,r);var o=Uf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(n)?(o=!0,sc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,If(t),s.updater=Uc,t.stateNode=s,s._reactInternals=t,ih(t,n,e,r),t=ch(null,t,n,!0,o,r)):(t.tag=0,Re&&o&&kf(t),dt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=lj(n),e=dr(n,e),s){case 0:t=lh(null,t,n,e,r);break e;case 1:t=Zm(null,t,n,e,r);break e;case 11:t=Jm(null,t,n,e,r);break e;case 14:t=Xm(null,t,n,dr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dr(n,s),lh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dr(n,s),Zm(e,t,n,s,r);case 3:e:{if(K0(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,x0(e,t),cc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Qo(Error(L(423)),t),t=eg(e,t,n,r,s);break e}else if(n!==s){s=Qo(Error(L(424)),t),t=eg(e,t,n,r,s);break e}else for(Tt=On(t.stateNode.containerInfo.firstChild),Ot=t,Re=!0,yr=null,r=y0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),n===s){t=Xr(e,t,r);break e}dt(e,t,n,r)}t=t.child}return t;case 5:return b0(t),e===null&&nh(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Xd(n,s)?i=null:o!==null&&Xd(n,o)&&(t.flags|=32),H0(e,t),dt(e,t,i,r),t.child;case 6:return e===null&&nh(t),null;case 13:return G0(e,t,r);case 4:return Df(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ko(t,null,n,r):dt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dr(n,s),Jm(e,t,n,s,r);case 7:return dt(e,t,t.pendingProps,r),t.child;case 8:return dt(e,t,t.pendingProps.children,r),t.child;case 12:return dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ke(ac,n._currentValue),n._currentValue=i,o!==null)if(br(o.value,i)){if(o.children===s.children&&!bt.current){t=Xr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Gr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),sh(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),sh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,To(t,r),s=Jt(s),n=n(s),t.flags|=1,dt(e,t,n,r),t.child;case 14:return n=t.type,s=dr(n,t.pendingProps),s=dr(n.type,s),Xm(e,t,n,s,r);case 15:return W0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dr(n,s),Ll(e,t),t.tag=1,_t(n)?(e=!0,sc(t)):e=!1,To(t,r),B0(t,n,s),ih(t,n,s,r),ch(null,t,n,!0,e,r);case 19:return Q0(e,t,r);case 22:return q0(e,t,r)}throw Error(L(156,t.tag))};function dw(e,t){return Ly(e,t)}function aj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,n){return new aj(e,t,r,n)}function Yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lj(e){if(typeof e=="function")return Yf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mf)return 11;if(e===gf)return 14}return 2}function Dn(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Yf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case mo:return xs(r.children,s,o,t);case pf:i=8,s|=8;break;case Td:return e=qt(12,r,t,s|2),e.elementType=Td,e.lanes=o,e;case Od:return e=qt(13,r,t,s),e.elementType=Od,e.lanes=o,e;case Rd:return e=qt(19,r,t,s),e.elementType=Rd,e.lanes=o,e;case by:return Vc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wy:i=10;break e;case xy:i=9;break e;case mf:i=11;break e;case gf:i=14;break e;case mn:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=qt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function xs(e,t,r,n){return e=qt(7,e,n,t),e.lanes=r,e}function Vc(e,t,r,n){return e=qt(22,e,n,t),e.elementType=by,e.lanes=r,e.stateNode={isHidden:!1},e}function Ju(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function Xu(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jf(e,t,r,n,s,o,i,a,c){return e=new cj(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(o),e}function uj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hw(e){if(!e)return Ln;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(_t(r))return h0(e,r,t)}return t}function fw(e,t,r,n,s,o,i,a,c){return e=Jf(r,n,!0,e,s,o,i,a,c),e.context=hw(null),r=e.current,n=pt(),s=In(r),o=Gr(n,s),o.callback=t??null,Rn(r,o,s),e.current.lanes=s,Oa(e,s,n),St(e,n),e}function Wc(e,t,r,n){var s=t.current,o=pt(),i=In(s);return r=hw(r),t.context===null?t.context=r:t.pendingContext=r,t=Gr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rn(s,t,i),e!==null&&(xr(e,s,i,o),Dl(e,s,i)),i}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xf(e,t){ug(e,t),(e=e.alternate)&&ug(e,t)}function dj(){return null}var pw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zf(e){this._internalRoot=e}qc.prototype.render=Zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Wc(e,t,null,null)};qc.prototype.unmount=Zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ks(function(){Wc(null,e,null,null)}),t[Yr]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=qy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vn.length&&t!==0&&t<vn[r].priority;r++);vn.splice(r,0,e),r===0&&Ky(e)}};function ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dg(){}function hj(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=vc(i);o.call(u)}}var i=fw(t,n,e,0,null,!1,!1,"",dg);return e._reactRootContainer=i,e[Yr]=i.current,la(e.nodeType===8?e.parentNode:e),ks(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=vc(c);a.call(u)}}var c=Jf(e,0,!1,null,null,!1,!1,"",dg);return e._reactRootContainer=c,e[Yr]=c.current,la(e.nodeType===8?e.parentNode:e),ks(function(){Wc(t,c,r,n)}),c}function Kc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=vc(i);a.call(c)}}Wc(t,i,e,s)}else i=hj(r,t,e,s,n);return vc(i)}Vy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mi(t.pendingLanes);r!==0&&(wf(t,r|1),St(t,Ue()),!(ye&6)&&(Yo=Ue()+500,Wn()))}break;case 13:ks(function(){var n=Jr(e,1);if(n!==null){var s=pt();xr(n,e,1,s)}}),Xf(e,1)}};xf=function(e){if(e.tag===13){var t=Jr(e,134217728);if(t!==null){var r=pt();xr(t,e,134217728,r)}Xf(e,134217728)}};Wy=function(e){if(e.tag===13){var t=In(e),r=Jr(e,t);if(r!==null){var n=pt();xr(r,e,t,n)}Xf(e,t)}};qy=function(){return Ee};Hy=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};zd=function(e,t,r){switch(t){case"input":if(Dd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Mc(n);if(!s)throw Error(L(90));Sy(n),Dd(n,s)}}}break;case"textarea":Cy(e,r);break;case"select":t=r.value,t!=null&&jo(e,!!r.multiple,t,!1)}};Ry=Kf;Ay=ks;var fj={usingClientEntryPoint:!1,Events:[Aa,wo,Mc,Ty,Oy,Kf]},Ni={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pj={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$y(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||dj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ac=ul.inject(pj),Ir=ul}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fj;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(t))throw Error(L(200));return uj(e,t,null,r)};$t.createRoot=function(e,t){if(!ep(e))throw Error(L(299));var r=!1,n="",s=pw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jf(e,1,!1,null,null,r,!1,n,s),e[Yr]=t.current,la(e.nodeType===8?e.parentNode:e),new Zf(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=$y(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return ks(e)};$t.hydrate=function(e,t,r){if(!Hc(t))throw Error(L(200));return Kc(null,e,t,!0,r)};$t.hydrateRoot=function(e,t,r){if(!ep(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=pw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=fw(t,null,e,1,r??null,s,!1,o,i),e[Yr]=t.current,la(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new qc(t)};$t.render=function(e,t,r){if(!Hc(t))throw Error(L(200));return Kc(null,e,t,!1,r)};$t.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(L(40));return e._reactRootContainer?(ks(function(){Kc(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};$t.unstable_batchedUpdates=Kf;$t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hc(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Kc(e,t,r,!1,n)};$t.version="18.3.1-next-f1338f8080-20240426";function mw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mw)}catch(e){console.error(e)}}mw(),my.exports=$t;var Fs=my.exports;const gw=ry(Fs);var vw,hg=Fs;vw=hg.createRoot,hg.hydrateRoot;const mj=1,gj=1e6;let Zu=0;function vj(){return Zu=(Zu+1)%Number.MAX_SAFE_INTEGER,Zu.toString()}const ed=new Map,fg=e=>{if(ed.has(e))return;const t=setTimeout(()=>{ed.delete(e),Yi({type:"REMOVE_TOAST",toastId:e})},gj);ed.set(e,t)},yj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?fg(r):e.toasts.forEach(n=>{fg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},zl=[];let Vl={toasts:[]};function Yi(e){Vl=yj(Vl,e),zl.forEach(t=>{t(Vl)})}function wj({...e}){const t=vj(),r=s=>Yi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Yi({type:"DISMISS_TOAST",toastId:t});return Yi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function xj(){const[e,t]=p.useState(Vl);return p.useEffect(()=>(zl.push(t),()=>{const r=zl.indexOf(t);r>-1&&zl.splice(r,1)}),[e]),{...e,toast:wj,dismiss:r=>Yi({type:"DISMISS_TOAST",toastId:r})}}function J(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function pg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ns(...e){return t=>{let r=!1;const n=e.map(s=>{const o=pg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():pg(e[s],null)}}}}function be(...e){return p.useCallback(Ns(...e),e)}function bj(e,t){const r=p.createContext(t),n=o=>{const{children:i,...a}=o,c=p.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Er(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];const u=h=>{var v;const{scope:g,children:f,...b}=h,m=((v=g==null?void 0:g[e])==null?void 0:v[c])||a,y=p.useMemo(()=>b,Object.values(b));return l.jsx(m.Provider,{value:y,children:f})};u.displayName=o+"Provider";function d(h,g){var m;const f=((m=g==null?void 0:g[e])==null?void 0:m[c])||a,b=p.useContext(f);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,_j(s,...t)]}function _j(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ps(e){const t=Ej(e),r=p.forwardRef((n,s)=>{const{children:o,...i}=n,a=p.Children.toArray(o),c=a.find(jj);if(c){const u=c.props.children,d=a.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var Sj=Ps("Slot");function Ej(e){const t=p.forwardRef((r,n)=>{const{children:s,...o}=r;if(p.isValidElement(s)){const i=Nj(s),a=kj(o,s.props);return s.type!==p.Fragment&&(a.ref=n?Ns(n,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yw=Symbol("radix.slottable");function Cj(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=yw,t}function jj(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yw}function kj(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function Nj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tp(e){const t=e+"CollectionProvider",[r,n]=Er(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:v}=m,w=V.useRef(null),x=V.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:v})};i.displayName=t;const a=e+"CollectionSlot",c=Ps(a),u=V.forwardRef((m,y)=>{const{scope:v,children:w}=m,x=o(a,v),_=be(y,x.collectionRef);return l.jsx(c,{ref:_,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",g=Ps(d),f=V.forwardRef((m,y)=>{const{scope:v,children:w,...x}=m,_=V.useRef(null),S=be(y,_),E=o(d,v);return V.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),l.jsx(g,{[h]:"",ref:S,children:w})});f.displayName=d;function b(m){const y=o(e+"CollectionConsumer",m);return V.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((E,C)=>x.indexOf(E.ref.current)-x.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:u,ItemSlot:f},b,n]}var Pj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ee=Pj.reduce((e,t)=>{const r=Ps(`Primitive.${t}`),n=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ww(e,t){e&&Fs.flushSync(()=>e.dispatchEvent(t))}function Zt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Tj(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Oj="DismissableLayer",bh="dismissableLayer.update",Rj="dismissableLayer.pointerDownOutside",Aj="dismissableLayer.focusOutside",mg,xw=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oi=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=p.useContext(xw),[d,h]=p.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),b=be(t,C=>h(C)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),w=d?m.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=v,S=Dj(C=>{const k=C.target,O=[...u.branches].some(A=>A.contains(k));!_||O||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},g),E=$j(C=>{const k=C.target;[...u.branches].some(A=>A.contains(k))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},g);return Tj(C=>{w===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},g),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mg=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=mg)}},[d,g,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gg())},[d,u]),p.useEffect(()=>{const C=()=>f({});return document.addEventListener(bh,C),()=>document.removeEventListener(bh,C)},[]),l.jsx(ee.div,{...c,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,E.onFocusCapture),onBlurCapture:J(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,S.onPointerDownCapture)})});oi.displayName=Oj;var Ij="DismissableLayerBranch",bw=p.forwardRef((e,t)=>{const r=p.useContext(xw),n=p.useRef(null),s=be(t,n);return p.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(ee.div,{...e,ref:s})});bw.displayName=Ij;function Dj(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){_w(Rj,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $j(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&_w(Aj,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gg(){const e=new CustomEvent(bh);document.dispatchEvent(e)}function _w(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ww(s,o):s.dispatchEvent(o)}var Mj=oi,Lj=bw,et=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Fj="Portal",Da=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=p.useState(!1);et(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?gw.createPortal(l.jsx(ee.div,{...n,ref:t}),i):null});Da.displayName=Fj;function Uj(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Lr=e=>{const{present:t,children:r}=e,n=Bj(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=be(n.ref,zj(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};Lr.displayName="Presence";function Bj(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=Uj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=dl(n.current);o.current=a==="mounted"?u:"none"},[a]),et(()=>{const u=n.current,d=s.current;if(d!==e){const g=o.current,f=dl(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=dl(n.current).includes(f.animationName);if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=f=>{f.target===t&&(o.current=dl(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function dl(e){return(e==null?void 0:e.animationName)||"none"}function zj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vj=uf[" useInsertionEffect ".trim().toString()]||et;function Zr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=Wj({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=p.useCallback(d=>{var h;if(a){const g=qj(d)?d(e):d;g!==e&&((h=i.current)==null||h.call(i,g))}else o(d)},[a,e,o,i]);return[c,u]}function Wj({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),o=p.useRef(t);return Vj(()=>{o.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function qj(e){return typeof e=="function"}var Sw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Hj="VisuallyHidden",Gc=p.forwardRef((e,t)=>l.jsx(ee.span,{...e,ref:t,style:{...Sw,...e.style}}));Gc.displayName=Hj;var Kj=Gc,rp="ToastProvider",[np,Gj,Qj]=tp("Toast"),[Ew,cL]=Er("Toast",[Qj]),[Yj,Qc]=Ew(rp),Cw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),g=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${rp}\`. Expected non-empty \`string\`.`),l.jsx(np.Provider,{scope:t,children:l.jsx(Yj,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>d(f=>f+1),[]),onToastRemove:p.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:i})})};Cw.displayName=rp;var jw="ToastViewport",Jj=["F8"],_h="toast.viewportPause",Sh="toast.viewportResume",kw=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Jj,label:s="Notifications ({hotkey})",...o}=e,i=Qc(jw,r),a=Gj(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),g=be(t,h,i.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;p.useEffect(()=>{const y=v=>{var x;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),p.useEffect(()=>{const y=c.current,v=h.current;if(b&&y&&v){const w=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(_h);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Sh);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!y.contains(E.relatedTarget)&&x()},S=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",w),y.addEventListener("focusout",_),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:y})=>{const w=a().map(x=>{const _=x.ref.current,S=[_,...uk(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const y=h.current;if(y){const v=w=>{var S,E,C;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const k=document.activeElement,O=w.shiftKey;if(w.target===y&&O){(S=u.current)==null||S.focus();return}const B=m({tabbingDirection:O?"backwards":"forwards"}),X=B.findIndex(M=>M===k);td(B.slice(X+1))?w.preventDefault():O?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,m]),l.jsxs(Lj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Eh,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});td(y)}}),l.jsx(np.Slot,{scope:r,children:l.jsx(ee.ol,{tabIndex:-1,...o,ref:g})}),b&&l.jsx(Eh,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});td(y)}})]})});kw.displayName=jw;var Nw="ToastFocusProxy",Eh=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Qc(Nw,r);return l.jsx(Gc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});Eh.displayName=Nw;var $a="Toast",Xj="toast.swipeStart",Zj="toast.swipeMove",ek="toast.swipeCancel",tk="toast.swipeEnd",Pw=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Zr({prop:n,defaultProp:s??!0,onChange:o,caller:$a});return l.jsx(Lr,{present:r||a,children:l.jsx(sk,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:Zt(e.onPause),onResume:Zt(e.onResume),onSwipeStart:J(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Pw.displayName=$a;var[rk,nk]=Ew($a,{onClose(){}}),sk=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:f,...b}=e,m=Qc($a,r),[y,v]=p.useState(null),w=be(t,M=>v(M)),x=p.useRef(null),_=p.useRef(null),S=s||m.duration,E=p.useRef(0),C=p.useRef(S),k=p.useRef(0),{onToastAdd:O,onToastRemove:A}=m,K=Zt(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=m.viewport)==null||Y.focus()),i()}),B=p.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(K,M))},[K]);p.useEffect(()=>{const M=m.viewport;if(M){const Y=()=>{B(C.current),u==null||u()},T=()=>{const W=new Date().getTime()-E.current;C.current=C.current-W,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(_h,T),M.addEventListener(Sh,Y),()=>{M.removeEventListener(_h,T),M.removeEventListener(Sh,Y)}}},[m.viewport,S,c,u,B]),p.useEffect(()=>{o&&!m.isClosePausedRef.current&&B(S)},[o,S,m.isClosePausedRef,B]),p.useEffect(()=>(O(),()=>A()),[O,A]);const X=p.useMemo(()=>y?$w(y):null,[y]);return m.viewport?l.jsxs(l.Fragment,{children:[X&&l.jsx(ok,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),l.jsx(rk,{scope:r,onClose:K,children:Fs.createPortal(l.jsx(np.ItemSlot,{scope:r,children:l.jsx(Mj,{asChild:!0,onEscapeKeyDown:J(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||K(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:J(e.onPointerDown,M=>{M.button===0&&(x.current={x:M.clientX,y:M.clientY})}),onPointerMove:J(e.onPointerMove,M=>{if(!x.current)return;const Y=M.clientX-x.current.x,T=M.clientY-x.current.y,W=!!_.current,P=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,I=P?j(0,Y):0,F=P?0:j(0,T),N=M.pointerType==="touch"?10:2,D={x:I,y:F},U={originalEvent:M,delta:D};W?(_.current=D,hl(Zj,h,U,{discrete:!1})):vg(D,m.swipeDirection,N)?(_.current=D,hl(Xj,d,U,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(Y)>N||Math.abs(T)>N)&&(x.current=null)}),onPointerUp:J(e.onPointerUp,M=>{const Y=_.current,T=M.target;if(T.hasPointerCapture(M.pointerId)&&T.releasePointerCapture(M.pointerId),_.current=null,x.current=null,Y){const W=M.currentTarget,P={originalEvent:M,delta:Y};vg(Y,m.swipeDirection,m.swipeThreshold)?hl(tk,f,P,{discrete:!0}):hl(ek,g,P,{discrete:!0}),W.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ok=e=>{const{__scopeToast:t,children:r,...n}=e,s=Qc($a,t),[o,i]=p.useState(!1),[a,c]=p.useState(!1);return lk(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Da,{asChild:!0,children:l.jsx(Gc,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},ik="ToastTitle",Tw=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ee.div,{...n,ref:t})});Tw.displayName=ik;var ak="ToastDescription",Ow=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ee.div,{...n,ref:t})});Ow.displayName=ak;var Rw="ToastAction",Aw=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(Dw,{altText:r,asChild:!0,children:l.jsx(sp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rw}\`. Expected non-empty \`string\`.`),null)});Aw.displayName=Rw;var Iw="ToastClose",sp=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=nk(Iw,r);return l.jsx(Dw,{asChild:!0,children:l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,s.onClose)})})});sp.displayName=Iw;var Dw=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function $w(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ck(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...$w(n))}}),t}function hl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ww(s,o):s.dispatchEvent(o)}var vg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function lk(e=()=>{}){const t=Zt(e);et(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ck(e){return e.nodeType===e.ELEMENT_NODE}function uk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function td(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dk=Cw,Mw=kw,Lw=Pw,Fw=Tw,Uw=Ow,Bw=Aw,zw=sp;function Vw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Vw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ww(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Vw(e))&&(n&&(n+=" "),n+=t);return n}const yg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wg=Ww,Yc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return wg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=o==null?void 0:o[u];if(d===null)return null;const g=yg(d)||yg(h);return s[u][g]}),a=r&&Object.entries(r).reduce((u,d)=>{let[h,g]=d;return g===void 0||(u[h]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:g,...f}=d;return Object.entries(f).every(b=>{let[m,y]=b;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...u,h,g]:u},[]);return wg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>p.createElement("svg",{ref:c,...fk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qw("lucide",s),...a},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const r=p.forwardRef(({className:n,...s},o)=>p.createElement(pk,{ref:o,iconNode:t,className:qw(`lucide-${hk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=fe("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=fe("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=fe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=fe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=fe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lp="-",Lk=e=>{const t=Uk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(lp);return a[0]===""&&a.length!==1&&a.shift(),Xw(a,t)||Fk(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},Xw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Xw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(lp);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},bg=/^\[(.+)\]$/,Fk=e=>{if(bg.test(e)){const t=bg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Uk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zk(Object.entries(e.classGroups),r).forEach(([o,i])=>{kh(i,n,o,t)}),n},kh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:_g(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(Bk(s)){kh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{kh(i,_g(t,o),r,n)})})},_g=(e,t)=>{let r=e;return t.split(lp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bk=e=>e.isThemeGetter,zk=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,Vk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Zw="!",Wk=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,h;for(let y=0;y<a.length;y++){let v=a[y];if(u===0){if(v===s&&(n||a.slice(y,y+o)===t)){c.push(a.slice(d,y)),d=y+o;continue}if(v==="/"){h=y;continue}}v==="["?u++:v==="]"&&u--}const g=c.length===0?a:a.substring(d),f=g.startsWith(Zw),b=f?g.substring(1):g,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:i}):i},qk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Hk=e=>({cache:Vk(e.cacheSize),parseClassName:Wk(e),...Lk(e)}),Kk=/\s+/,Gk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Kk);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:f}=r(u);let b=!!f,m=n(b?g.substring(0,f):g);if(!m){if(!b){a=u+(a.length>0?" "+a:a);continue}if(m=n(g),!m){a=u+(a.length>0?" "+a:a);continue}b=!1}const y=qk(d).join(":"),v=h?y+Zw:y,w=v+m;if(o.includes(w))continue;o.push(w);const x=s(m,b);for(let _=0;_<x.length;++_){const S=x[_];o.push(v+S)}a=u+(a.length>0?" "+a:a)}return a};function Qk(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ex(t))&&(n&&(n+=" "),n+=r);return n}const ex=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ex(e[n]))&&(r&&(r+=" "),r+=t);return r};function Yk(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return r=Hk(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=Gk(c,r);return s(c,d),d}return function(){return o(Qk.apply(null,arguments))}}const Ne=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tx=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jk=/^\d+\/\d+$/,Xk=new Set(["px","full","screen"]),Zk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Ro(e)||Xk.has(e)||Jk.test(e),cn=e=>li(e,"length",dN),Ro=e=>!!e&&!Number.isNaN(Number(e)),rd=e=>li(e,"number",Ro),Pi=e=>!!e&&Number.isInteger(Number(e)),sN=e=>e.endsWith("%")&&Ro(e.slice(0,-1)),ue=e=>tx.test(e),un=e=>Zk.test(e),oN=new Set(["length","size","percentage"]),iN=e=>li(e,oN,rx),aN=e=>li(e,"position",rx),lN=new Set(["image","url"]),cN=e=>li(e,lN,fN),uN=e=>li(e,"",hN),Ti=()=>!0,li=(e,t,r)=>{const n=tx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},dN=e=>eN.test(e)&&!tN.test(e),rx=()=>!1,hN=e=>rN.test(e),fN=e=>nN.test(e),pN=()=>{const e=Ne("colors"),t=Ne("spacing"),r=Ne("blur"),n=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),h=Ne("invert"),g=Ne("gap"),f=Ne("gradientColorStops"),b=Ne("gradientColorStopPositions"),m=Ne("inset"),y=Ne("margin"),v=Ne("opacity"),w=Ne("padding"),x=Ne("saturate"),_=Ne("scale"),S=Ne("sepia"),E=Ne("skew"),C=Ne("space"),k=Ne("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",ue,t],B=()=>[ue,t],X=()=>["",Ur,cn],M=()=>["auto",Ro,ue],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ue],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Ro,ue];return{cacheSize:500,separator:":",theme:{colors:[Ti],spacing:[Ur,cn],blur:["none","",un,ue],brightness:F(),borderColor:[e],borderRadius:["none","","full",un,ue],borderSpacing:B(),borderWidth:X(),contrast:F(),grayscale:j(),hueRotate:F(),invert:j(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[sN,cn],inset:K(),margin:K(),opacity:F(),padding:B(),saturate:F(),scale:F(),sepia:j(),skew:F(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[un]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ue]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pi,ue]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Pi,ue]}],"grid-cols":[{"grid-cols":[Ti]}],"col-start-end":[{col:["auto",{span:["full",Pi,ue]},ue]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ti]}],"row-start-end":[{row:["auto",{span:[Pi,ue]},ue]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[un]},un]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",un,cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rd]}],"font-family":[{font:[Ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ro,rd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,cn]}],"underline-offset":[{"underline-offset":["auto",Ur,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),aN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Ur,ue]}],"outline-w":[{outline:[Ur,cn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ur,cn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",un,uN]}],"shadow-color":[{shadow:[Ti]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",un,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Pi,ue]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,cn,rd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mN=Yk(pN);function te(...e){return mN(Ww(e))}const gN=dk,nx=p.forwardRef(({className:e,...t},r)=>l.jsx(Mw,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nx.displayName=Mw.displayName;const vN=Yc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sx=p.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(Lw,{ref:n,className:te(vN({variant:t}),e),...r}));sx.displayName=Lw.displayName;const yN=p.forwardRef(({className:e,...t},r)=>l.jsx(Bw,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));yN.displayName=Bw.displayName;const ox=p.forwardRef(({className:e,...t},r)=>l.jsx(zw,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ap,{className:"h-4 w-4"})}));ox.displayName=zw.displayName;const ix=p.forwardRef(({className:e,...t},r)=>l.jsx(Fw,{ref:r,className:te("text-sm font-semibold",e),...t}));ix.displayName=Fw.displayName;const ax=p.forwardRef(({className:e,...t},r)=>l.jsx(Uw,{ref:r,className:te("text-sm opacity-90",e),...t}));ax.displayName=Uw.displayName;function wN(){const{toasts:e}=xj();return l.jsxs(gN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(sx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(ix,{children:r}),n&&l.jsx(ax,{children:n})]}),s,l.jsx(ox,{})]},t)}),l.jsx(nx,{})]})}var Sg=["light","dark"],xN="(prefers-color-scheme: dark)",bN=p.createContext(void 0),_N={setTheme:e=>{},themes:[]},SN=()=>{var e;return(e=p.useContext(bN))!=null?e:_N};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Sg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,m=!1,y=!0)=>{let v=i?i[b]:b,w=m?b+"|| ''":`'${v}'`,x="";return s&&y&&!m&&Sg.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?m||v?x+=`c.add(${w})`:x+="null":v&&(x+=`d[s](n,${w})`),x},f=e?`!function(){${d}${g(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${xN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var EN=e=>{switch(e){case"success":return kN;case"info":return PN;case"warning":return NN;case"error":return TN;default:return null}},CN=Array(12).fill(0),jN=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},CN.map((r,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kN=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NN=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PN=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TN=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ON=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RN=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Nh=1,AN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Nh++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],V.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(DN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Nh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new AN,IN=(e,t)=>{let r=(t==null?void 0:t.id)||Nh++;return yt.addToast({title:e,...t,id:r}),r},DN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$N=IN,MN=()=>yt.toasts,LN=()=>yt.getActiveToasts(),z=Object.assign($N,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:MN,getToasts:LN});function FN(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}FN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fl(e){return e.label!==void 0}var UN=3,BN="32px",zN="16px",Eg=4e3,VN=356,WN=14,qN=20,HN=200;function ar(...e){return e.filter(Boolean).join(" ")}function KN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var GN=e=>{var t,r,n,s,o,i,a,c,u,d,h;let{invert:g,toast:f,unstyled:b,interacting:m,setHeights:y,visibleToasts:v,heights:w,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:k,style:O,cancelButtonStyle:A,actionButtonStyle:K,className:B="",descriptionClassName:X="",duration:M,position:Y,gap:T,loadingIcon:W,expandByDefault:P,classNames:j,icons:I,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:N}=e,[D,U]=V.useState(null),[q,ne]=V.useState(null),[$,ae]=V.useState(!1),[pe,ge]=V.useState(!1),[ve,we]=V.useState(!1),[tt,Lt]=V.useState(!1),[Yn,nn]=V.useState(!1),[Jn,wi]=V.useState(0),[Qs,Jp]=V.useState(0),xi=V.useRef(f.duration||M||Eg),Xp=V.useRef(null),Xn=V.useRef(null),DS=x===0,$S=x+1<=v,Ft=f.type,Ys=f.dismissible!==!1,MS=f.className||"",LS=f.descriptionClassName||"",Ha=V.useMemo(()=>w.findIndex(le=>le.toastId===f.id)||0,[w,f.id]),FS=V.useMemo(()=>{var le;return(le=f.closeButton)!=null?le:k},[f.closeButton,k]),Zp=V.useMemo(()=>f.duration||M||Eg,[f.duration,M]),Eu=V.useRef(0),Js=V.useRef(0),em=V.useRef(0),Xs=V.useRef(null),[US,BS]=Y.split("-"),tm=V.useMemo(()=>w.reduce((le,Ce,Oe)=>Oe>=Ha?le:le+Ce.height,0),[w,Ha]),rm=RN(),zS=f.invert||g,Cu=Ft==="loading";Js.current=V.useMemo(()=>Ha*T+tm,[Ha,tm]),V.useEffect(()=>{xi.current=Zp},[Zp]),V.useEffect(()=>{ae(!0)},[]),V.useEffect(()=>{let le=Xn.current;if(le){let Ce=le.getBoundingClientRect().height;return Jp(Ce),y(Oe=>[{toastId:f.id,height:Ce,position:f.position},...Oe]),()=>y(Oe=>Oe.filter(nr=>nr.toastId!==f.id))}},[y,f.id]),V.useLayoutEffect(()=>{if(!$)return;let le=Xn.current,Ce=le.style.height;le.style.height="auto";let Oe=le.getBoundingClientRect().height;le.style.height=Ce,Jp(Oe),y(nr=>nr.find(sr=>sr.toastId===f.id)?nr.map(sr=>sr.toastId===f.id?{...sr,height:Oe}:sr):[{toastId:f.id,height:Oe,position:f.position},...nr])},[$,f.title,f.description,y,f.id]);let sn=V.useCallback(()=>{ge(!0),wi(Js.current),y(le=>le.filter(Ce=>Ce.toastId!==f.id)),setTimeout(()=>{E(f)},HN)},[f,E,y,Js]);V.useEffect(()=>{if(f.promise&&Ft==="loading"||f.duration===1/0||f.type==="loading")return;let le;return S||m||N&&rm?(()=>{if(em.current<Eu.current){let Ce=new Date().getTime()-Eu.current;xi.current=xi.current-Ce}em.current=new Date().getTime()})():xi.current!==1/0&&(Eu.current=new Date().getTime(),le=setTimeout(()=>{var Ce;(Ce=f.onAutoClose)==null||Ce.call(f,f),sn()},xi.current)),()=>clearTimeout(le)},[S,m,f,Ft,N,rm,sn]),V.useEffect(()=>{f.delete&&sn()},[sn,f.delete]);function VS(){var le,Ce,Oe;return I!=null&&I.loading?V.createElement("div",{className:ar(j==null?void 0:j.loader,(le=f==null?void 0:f.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Ft==="loading"},I.loading):W?V.createElement("div",{className:ar(j==null?void 0:j.loader,(Ce=f==null?void 0:f.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Ft==="loading"},W):V.createElement(jN,{className:ar(j==null?void 0:j.loader,(Oe=f==null?void 0:f.classNames)==null?void 0:Oe.loader),visible:Ft==="loading"})}return V.createElement("li",{tabIndex:0,ref:Xn,className:ar(B,MS,j==null?void 0:j.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[Ft],(r=f==null?void 0:f.classNames)==null?void 0:r[Ft]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":$,"data-promise":!!f.promise,"data-swiped":Yn,"data-removed":pe,"data-visible":$S,"data-y-position":US,"data-x-position":BS,"data-index":x,"data-front":DS,"data-swiping":ve,"data-dismissible":Ys,"data-type":Ft,"data-invert":zS,"data-swipe-out":tt,"data-swipe-direction":q,"data-expanded":!!(S||P&&$),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${pe?Jn:Js.current}px`,"--initial-height":P?"auto":`${Qs}px`,...O,...f.style},onDragEnd:()=>{we(!1),U(null),Xs.current=null},onPointerDown:le=>{Cu||!Ys||(Xp.current=new Date,wi(Js.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(we(!0),Xs.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ce,Oe,nr;if(tt||!Ys)return;Xs.current=null;let sr=Number(((le=Xn.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),on=Number(((Ce=Xn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zn=new Date().getTime()-((Oe=Xp.current)==null?void 0:Oe.getTime()),or=D==="x"?sr:on,an=Math.abs(or)/Zn;if(Math.abs(or)>=qN||an>.11){wi(Js.current),(nr=f.onDismiss)==null||nr.call(f,f),ne(D==="x"?sr>0?"right":"left":on>0?"down":"up"),sn(),Lt(!0),nn(!1);return}we(!1),U(null)},onPointerMove:le=>{var Ce,Oe,nr,sr;if(!Xs.current||!Ys||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let on=le.clientY-Xs.current.y,Zn=le.clientX-Xs.current.x,or=(Oe=e.swipeDirections)!=null?Oe:KN(Y);!D&&(Math.abs(Zn)>1||Math.abs(on)>1)&&U(Math.abs(Zn)>Math.abs(on)?"x":"y");let an={x:0,y:0};D==="y"?(or.includes("top")||or.includes("bottom"))&&(or.includes("top")&&on<0||or.includes("bottom")&&on>0)&&(an.y=on):D==="x"&&(or.includes("left")||or.includes("right"))&&(or.includes("left")&&Zn<0||or.includes("right")&&Zn>0)&&(an.x=Zn),(Math.abs(an.x)>0||Math.abs(an.y)>0)&&nn(!0),(nr=Xn.current)==null||nr.style.setProperty("--swipe-amount-x",`${an.x}px`),(sr=Xn.current)==null||sr.style.setProperty("--swipe-amount-y",`${an.y}px`)}},FS&&!f.jsx?V.createElement("button",{"aria-label":F,"data-disabled":Cu,"data-close-button":!0,onClick:Cu||!Ys?()=>{}:()=>{var le;sn(),(le=f.onDismiss)==null||le.call(f,f)},className:ar(j==null?void 0:j.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(o=I==null?void 0:I.close)!=null?o:ON):null,f.jsx||p.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:V.createElement(V.Fragment,null,Ft||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:ar(j==null?void 0:j.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||VS():null,f.type!=="loading"?f.icon||(I==null?void 0:I[Ft])||EN(Ft):null):null,V.createElement("div",{"data-content":"",className:ar(j==null?void 0:j.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},V.createElement("div",{"data-title":"",className:ar(j==null?void 0:j.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?V.createElement("div",{"data-description":"",className:ar(X,LS,j==null?void 0:j.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),p.isValidElement(f.cancel)?f.cancel:f.cancel&&fl(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:le=>{var Ce,Oe;fl(f.cancel)&&Ys&&((Oe=(Ce=f.cancel).onClick)==null||Oe.call(Ce,le),sn())},className:ar(j==null?void 0:j.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,p.isValidElement(f.action)?f.action:f.action&&fl(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||K,onClick:le=>{var Ce,Oe;fl(f.action)&&((Oe=(Ce=f.action).onClick)==null||Oe.call(Ce,le),!le.defaultPrevented&&sn())},className:ar(j==null?void 0:j.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Cg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function QN(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?zN:BN;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(a)}),r}var YN=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:g,style:f,visibleToasts:b=UN,toastOptions:m,dir:y=Cg(),gap:v=WN,loadingIcon:w,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,C]=V.useState([]),k=V.useMemo(()=>Array.from(new Set([n].concat(E.filter(N=>N.position).map(N=>N.position)))),[E,n]),[O,A]=V.useState([]),[K,B]=V.useState(!1),[X,M]=V.useState(!1),[Y,T]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=V.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=V.useRef(null),I=V.useRef(!1),F=V.useCallback(N=>{C(D=>{var U;return(U=D.find(q=>q.id===N.id))!=null&&U.delete||yt.dismiss(N.id),D.filter(({id:q})=>q!==N.id)})},[]);return V.useEffect(()=>yt.subscribe(N=>{if(N.dismiss){C(D=>D.map(U=>U.id===N.id?{...U,delete:!0}:U));return}setTimeout(()=>{gw.flushSync(()=>{C(D=>{let U=D.findIndex(q=>q.id===N.id);return U!==-1?[...D.slice(0,U),{...D[U],...N},...D.slice(U+1)]:[N,...D]})})})}),[]),V.useEffect(()=>{if(d!=="system"){T(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:D})=>{T(D?"dark":"light")})}catch{N.addListener(({matches:U})=>{try{T(U?"dark":"light")}catch(q){console.error(q)}})}},[d]),V.useEffect(()=>{E.length<=1&&B(!1)},[E]),V.useEffect(()=>{let N=D=>{var U,q;s.every(ne=>D[ne]||D.code===ne)&&(B(!0),(U=W.current)==null||U.focus()),D.code==="Escape"&&(document.activeElement===W.current||(q=W.current)!=null&&q.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),V.useEffect(()=>{if(W.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,I.current=!1)}},[W.current]),V.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((N,D)=>{var U;let[q,ne]=N.split("-");return E.length?V.createElement("ol",{key:N,dir:y==="auto"?Cg():y,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":q,"data-lifted":K&&E.length>1&&!o,"data-x-position":ne,style:{"--front-toast-height":`${((U=O[0])==null?void 0:U.height)||0}px`,"--width":`${VN}px`,"--gap":`${v}px`,...f,...QN(c,u)},onBlur:$=>{I.current&&!$.currentTarget.contains($.relatedTarget)&&(I.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||I.current||(I.current=!0,j.current=$.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{X||B(!1)},onDragEnd:()=>B(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},E.filter($=>!$.position&&D===0||$.position===N).map(($,ae)=>{var pe,ge;return V.createElement(GN,{key:$.id,icons:x,index:ae,toast:$,defaultRichColors:h,duration:(pe=m==null?void 0:m.duration)!=null?pe:g,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ge=m==null?void 0:m.closeButton)!=null?ge:i,interacting:X,position:N,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:E.filter(ve=>ve.position==$.position),heights:O.filter(ve=>ve.position==$.position),setHeights:A,expandByDefault:o,gap:v,loadingIcon:w,expanded:K,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const JN=({...e})=>{const{theme:t="system"}=SN();return l.jsx(YN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var XN=uf[" useId ".trim().toString()]||(()=>{}),ZN=0;function mt(e){const[t,r]=p.useState(XN());return et(()=>{r(n=>n??String(ZN++))},[e]),t?`radix-${t}`:""}const eP=["top","right","bottom","left"],Fn=Math.min,kt=Math.max,yc=Math.round,pl=Math.floor,$r=e=>({x:e,y:e}),tP={left:"right",right:"left",bottom:"top",top:"bottom"},rP={start:"end",end:"start"};function Ph(e,t,r){return kt(e,Fn(t,r))}function en(e,t){return typeof e=="function"?e(t):e}function tn(e){return e.split("-")[0]}function ci(e){return e.split("-")[1]}function cp(e){return e==="x"?"y":"x"}function up(e){return e==="y"?"height":"width"}const nP=new Set(["top","bottom"]);function Ar(e){return nP.has(tn(e))?"y":"x"}function dp(e){return cp(Ar(e))}function sP(e,t,r){r===void 0&&(r=!1);const n=ci(e),s=dp(e),o=up(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=wc(i)),[i,wc(i)]}function oP(e){const t=wc(e);return[Th(e),t,Th(t)]}function Th(e){return e.replace(/start|end/g,t=>rP[t])}const jg=["left","right"],kg=["right","left"],iP=["top","bottom"],aP=["bottom","top"];function lP(e,t,r){switch(e){case"top":case"bottom":return r?t?kg:jg:t?jg:kg;case"left":case"right":return t?iP:aP;default:return[]}}function cP(e,t,r,n){const s=ci(e);let o=lP(tn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Th)))),o}function wc(e){return e.replace(/left|right|bottom|top/g,t=>tP[t])}function uP(e){return{top:0,right:0,bottom:0,left:0,...e}}function lx(e){return typeof e!="number"?uP(e):{top:e,right:e,bottom:e,left:e}}function xc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ng(e,t,r){let{reference:n,floating:s}=e;const o=Ar(t),i=dp(t),a=up(i),c=tn(t),u=o==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(ci(t)){case"start":f[i]-=g*(r&&u?-1:1);break;case"end":f[i]+=g*(r&&u?-1:1);break}return f}const dP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ng(u,n,c),g=n,f={},b=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:w,y:x,data:_,reset:S}=await v({x:d,y:h,initialPlacement:n,placement:g,strategy:s,middlewareData:f,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,h=x??h,f={...f,[y]:{...f[y],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=Ng(u,g,c)),m=-1)}return{x:d,y:h,placement:g,strategy:s,middlewareData:f}};async function va(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:f=0}=en(t,e),b=lx(f),y=a[g?h==="floating"?"reference":"floating":h],v=xc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=xc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(v.top-S.top+b.top)/_.y,bottom:(S.bottom-v.bottom+b.bottom)/_.y,left:(v.left-S.left+b.left)/_.x,right:(S.right-v.right+b.right)/_.x}}const hP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=en(e,t)||{};if(u==null)return{};const h=lx(d),g={x:r,y:n},f=dp(s),b=up(f),m=await i.getDimensions(u),y=f==="y",v=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[f]-g[f]-o.floating[b],S=g[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=E?E[x]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=a.floating[x]||o.floating[b]);const k=_/2-S/2,O=C/2-m[b]/2-1,A=Fn(h[v],O),K=Fn(h[w],O),B=A,X=C-m[b]-K,M=C/2-m[b]/2+k,Y=Ph(B,M,X),T=!c.arrow&&ci(s)!=null&&M!==Y&&o.reference[b]/2-(M<B?A:K)-m[b]/2<0,W=T?M<B?M-B:M-X:0;return{[f]:g[f]+W,data:{[f]:Y,centerOffset:M-Y-W,...T&&{alignmentOffset:W}},reset:T}}}),fP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...y}=en(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=tn(s),w=Ar(a),x=tn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=g||(x||!m?[wc(a)]:oP(a)),E=b!=="none";!g&&E&&S.push(...cP(a,m,b,_));const C=[a,...S],k=await va(t,y),O=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&O.push(k[v]),h){const M=sP(s,i,_);O.push(k[M[0]],k[M[1]])}if(A=[...A,{placement:s,overflows:O}],!O.every(M=>M<=0)){var K,B;const M=(((K=o.flip)==null?void 0:K.index)||0)+1,Y=C[M];if(Y&&(!(h==="alignment"?w!==Ar(Y):!1)||A.every(P=>P.overflows[0]>0&&Ar(P.placement)===w)))return{data:{index:M,overflows:A},reset:{placement:Y}};let T=(B=A.filter(W=>W.overflows[0]<=0).sort((W,P)=>W.overflows[1]-P.overflows[1])[0])==null?void 0:B.placement;if(!T)switch(f){case"bestFit":{var X;const W=(X=A.filter(P=>{if(E){const j=Ar(P.placement);return j===w||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,I)=>j+I,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:X[0];W&&(T=W);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function Pg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tg(e){return eP.some(t=>e[t]>=0)}const pP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=en(e,t);switch(n){case"referenceHidden":{const o=await va(t,{...s,elementContext:"reference"}),i=Pg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Tg(i)}}}case"escaped":{const o=await va(t,{...s,altBoundary:!0}),i=Pg(o,r.floating);return{data:{escapedOffsets:i,escaped:Tg(i)}}}default:return{}}}}},cx=new Set(["left","top"]);async function mP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=tn(r),a=ci(r),c=Ar(r)==="y",u=cx.has(i)?-1:1,d=o&&c?-1:1,h=en(t,e);let{mainAxis:g,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(f=a==="end"?b*-1:b),c?{x:f*d,y:g*u}:{x:g*u,y:f*d}}const gP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await mP(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},vP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...c}=en(e,t),u={x:r,y:n},d=await va(t,c),h=Ar(tn(s)),g=cp(h);let f=u[g],b=u[h];if(o){const y=g==="y"?"top":"left",v=g==="y"?"bottom":"right",w=f+d[y],x=f-d[v];f=Ph(w,f,x)}if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=b+d[y],x=b-d[v];b=Ph(w,b,x)}const m=a.fn({...t,[g]:f,[h]:b});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[g]:o,[h]:i}}}}}},yP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=en(e,t),d={x:r,y:n},h=Ar(s),g=cp(h);let f=d[g],b=d[h];const m=en(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=g==="y"?"height":"width",_=o.reference[g]-o.floating[x]+y.mainAxis,S=o.reference[g]+o.reference[x]-y.mainAxis;f<_?f=_:f>S&&(f=S)}if(u){var v,w;const x=g==="y"?"width":"height",_=cx.has(tn(s)),S=o.reference[h]-o.floating[x]+(_&&((v=i.offset)==null?void 0:v[h])||0)+(_?0:y.crossAxis),E=o.reference[h]+o.reference[x]+(_?0:((w=i.offset)==null?void 0:w[h])||0)-(_?y.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[g]:f,[h]:b}}}},wP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=en(e,t),d=await va(t,u),h=tn(s),g=ci(s),f=Ar(s)==="y",{width:b,height:m}=o.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=g===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,y=g==="end"?"top":"bottom");const w=m-d.top-d.bottom,x=b-d.left-d.right,_=Fn(m-d[y],w),S=Fn(b-d[v],x),E=!t.middlewareData.shift;let C=_,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=w),E&&!g){const A=kt(d.left,0),K=kt(d.right,0),B=kt(d.top,0),X=kt(d.bottom,0);f?k=b-2*(A!==0||K!==0?A+K:kt(d.left,d.right)):C=m-2*(B!==0||X!==0?B+X:kt(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const O=await i.getDimensions(a.floating);return b!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function Xc(){return typeof window<"u"}function ui(e){return ux(e)?(e.nodeName||"").toLowerCase():"#document"}function Rt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fr(e){var t;return(t=(ux(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ux(e){return Xc()?e instanceof Node||e instanceof Rt(e).Node:!1}function _r(e){return Xc()?e instanceof Element||e instanceof Rt(e).Element:!1}function Mr(e){return Xc()?e instanceof HTMLElement||e instanceof Rt(e).HTMLElement:!1}function Og(e){return!Xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rt(e).ShadowRoot}const xP=new Set(["inline","contents"]);function Ma(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xP.has(s)}const bP=new Set(["table","td","th"]);function _P(e){return bP.has(ui(e))}const SP=[":popover-open",":modal"];function Zc(e){return SP.some(t=>{try{return e.matches(t)}catch{return!1}})}const EP=["transform","translate","scale","rotate","perspective"],CP=["transform","translate","scale","rotate","perspective","filter"],jP=["paint","layout","strict","content"];function hp(e){const t=fp(),r=_r(e)?Sr(e):e;return EP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||CP.some(n=>(r.willChange||"").includes(n))||jP.some(n=>(r.contain||"").includes(n))}function kP(e){let t=Un(e);for(;Mr(t)&&!Jo(t);){if(hp(t))return t;if(Zc(t))return null;t=Un(t)}return null}function fp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NP=new Set(["html","body","#document"]);function Jo(e){return NP.has(ui(e))}function Sr(e){return Rt(e).getComputedStyle(e)}function eu(e){return _r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Un(e){if(ui(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Og(e)&&e.host||Fr(e);return Og(t)?t.host:t}function dx(e){const t=Un(e);return Jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mr(t)&&Ma(t)?t:dx(t)}function ya(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=dx(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Rt(s);if(o){const a=Oh(i);return t.concat(i,i.visualViewport||[],Ma(s)?s:[],a&&r?ya(a):[])}return t.concat(s,ya(s,[],r))}function Oh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hx(e){const t=Sr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Mr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=yc(r)!==o||yc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function pp(e){return _r(e)?e:e.contextElement}function Ao(e){const t=pp(e);if(!Mr(t))return $r(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=hx(t);let i=(o?yc(r.width):r.width)/n,a=(o?yc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const PP=$r(0);function fx(e){const t=Rt(e);return!fp()||!t.visualViewport?PP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rt(e)?!1:t}function Os(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=pp(e);let i=$r(1);t&&(n?_r(n)&&(i=Ao(n)):i=Ao(e));const a=TP(o,r,n)?fx(o):$r(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const g=Rt(o),f=n&&_r(n)?Rt(n):n;let b=g,m=Oh(b);for(;m&&n&&f!==b;){const y=Ao(m),v=m.getBoundingClientRect(),w=Sr(m),x=v.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,_=v.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=x,u+=_,b=Rt(m),m=Oh(b)}}return xc({width:d,height:h,x:c,y:u})}function mp(e,t){const r=eu(e).scrollLeft;return t?t.left+r:Os(Fr(e)).left+r}function px(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:mp(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function OP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Fr(n),a=t?Zc(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=$r(1);const d=$r(0),h=Mr(n);if((h||!h&&!o)&&((ui(n)!=="body"||Ma(i))&&(c=eu(n)),Mr(n))){const f=Os(n);u=Ao(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const g=i&&!h&&!o?px(i,c,!0):$r(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function RP(e){return Array.from(e.getClientRects())}function AP(e){const t=Fr(e),r=eu(e),n=e.ownerDocument.body,s=kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+mp(e);const a=-r.scrollTop;return Sr(n).direction==="rtl"&&(i+=kt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function IP(e,t){const r=Rt(e),n=Fr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=fp();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const DP=new Set(["absolute","fixed"]);function $P(e,t){const r=Os(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Mr(e)?Ao(e):$r(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Rg(e,t,r){let n;if(t==="viewport")n=IP(e,r);else if(t==="document")n=AP(Fr(e));else if(_r(t))n=$P(t,r);else{const s=fx(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xc(n)}function mx(e,t){const r=Un(e);return r===t||!_r(r)||Jo(r)?!1:Sr(r).position==="fixed"||mx(r,t)}function MP(e,t){const r=t.get(e);if(r)return r;let n=ya(e,[],!1).filter(a=>_r(a)&&ui(a)!=="body"),s=null;const o=Sr(e).position==="fixed";let i=o?Un(e):e;for(;_r(i)&&!Jo(i);){const a=Sr(i),c=hp(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&DP.has(s.position)||Ma(i)&&!c&&mx(e,i))?n=n.filter(d=>d!==i):s=a,i=Un(i)}return t.set(e,n),n}function LP(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Zc(t)?[]:MP(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const h=Rg(t,d,s);return u.top=kt(h.top,u.top),u.right=Fn(h.right,u.right),u.bottom=Fn(h.bottom,u.bottom),u.left=kt(h.left,u.left),u},Rg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FP(e){const{width:t,height:r}=hx(e);return{width:t,height:r}}function UP(e,t,r){const n=Mr(t),s=Fr(t),o=r==="fixed",i=Os(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=$r(0);function u(){c.x=mp(s)}if(n||!n&&!o)if((ui(t)!=="body"||Ma(s))&&(a=eu(t)),n){const f=Os(t,!0,o,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?px(s,a):$r(0),h=i.left+a.scrollLeft-c.x-d.x,g=i.top+a.scrollTop-c.y-d.y;return{x:h,y:g,width:i.width,height:i.height}}function nd(e){return Sr(e).position==="static"}function Ag(e,t){if(!Mr(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Fr(e)===r&&(r=r.ownerDocument.body),r}function gx(e,t){const r=Rt(e);if(Zc(e))return r;if(!Mr(e)){let s=Un(e);for(;s&&!Jo(s);){if(_r(s)&&!nd(s))return s;s=Un(s)}return r}let n=Ag(e,t);for(;n&&_P(n)&&nd(n);)n=Ag(n,t);return n&&Jo(n)&&nd(n)&&!hp(n)?r:n||kP(e)||r}const BP=async function(e){const t=this.getOffsetParent||gx,r=this.getDimensions,n=await r(e.floating);return{reference:UP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zP(e){return Sr(e).direction==="rtl"}const VP={convertOffsetParentRelativeRectToViewportRelativeRect:OP,getDocumentElement:Fr,getClippingRect:LP,getOffsetParent:gx,getElementRects:BP,getClientRects:RP,getDimensions:FP,getScale:Ao,isElement:_r,isRTL:zP};function vx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WP(e,t){let r=null,n;const s=Fr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:g,height:f}=u;if(a||t(),!g||!f)return;const b=pl(h),m=pl(s.clientWidth-(d+g)),y=pl(s.clientHeight-(h+f)),v=pl(d),x={rootMargin:-b+"px "+-m+"px "+-y+"px "+-v+"px",threshold:kt(0,Fn(1,c))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==c){if(!_)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!vx(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),o}function qP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=pp(e),d=s||o?[...u?ya(u):[],...ya(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const h=u&&a?WP(u,r):null;let g=-1,f=null;i&&(f=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let b,m=c?Os(e):null;c&&y();function y(){const v=Os(e);m&&!vx(m,v)&&r(),m=v,b=requestAnimationFrame(y)}return r(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(b)}}const HP=gP,KP=vP,GP=fP,QP=wP,YP=pP,Ig=hP,JP=yP,XP=(e,t,r)=>{const n=new Map,s={platform:VP,...r},o={...s.platform,_c:n};return dP(e,t,{...s,platform:o})};var ZP=typeof document<"u",eT=function(){},ql=ZP?p.useLayoutEffect:eT;function bc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!bc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function yx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dg(e,t){const r=yx(e);return Math.round(t*r)/r}function sd(e){const t=p.useRef(e);return ql(()=>{t.current=e}),t}function tT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,f]=p.useState(n);bc(g,n)||f(n);const[b,m]=p.useState(null),[y,v]=p.useState(null),w=p.useCallback(P=>{P!==E.current&&(E.current=P,m(P))},[]),x=p.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),_=o||b,S=i||y,E=p.useRef(null),C=p.useRef(null),k=p.useRef(d),O=c!=null,A=sd(c),K=sd(s),B=sd(u),X=p.useCallback(()=>{if(!E.current||!C.current)return;const P={placement:t,strategy:r,middleware:g};K.current&&(P.platform=K.current),XP(E.current,C.current,P).then(j=>{const I={...j,isPositioned:B.current!==!1};M.current&&!bc(k.current,I)&&(k.current=I,Fs.flushSync(()=>{h(I)}))})},[g,t,r,K,B]);ql(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[u]);const M=p.useRef(!1);ql(()=>(M.current=!0,()=>{M.current=!1}),[]),ql(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(A.current)return A.current(_,S,X);X()}},[_,S,X,A,O]);const Y=p.useMemo(()=>({reference:E,floating:C,setReference:w,setFloating:x}),[w,x]),T=p.useMemo(()=>({reference:_,floating:S}),[_,S]),W=p.useMemo(()=>{const P={position:r,left:0,top:0};if(!T.floating)return P;const j=Dg(T.floating,d.x),I=Dg(T.floating,d.y);return a?{...P,transform:"translate("+j+"px, "+I+"px)",...yx(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:I}},[r,a,T.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:X,refs:Y,elements:T,floatingStyles:W}),[d,X,Y,T,W])}const rT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ig({element:n.current,padding:s}).fn(r):{}:n?Ig({element:n,padding:s}).fn(r):{}}}},nT=(e,t)=>({...HP(e),options:[e,t]}),sT=(e,t)=>({...KP(e),options:[e,t]}),oT=(e,t)=>({...JP(e),options:[e,t]}),iT=(e,t)=>({...GP(e),options:[e,t]}),aT=(e,t)=>({...QP(e),options:[e,t]}),lT=(e,t)=>({...YP(e),options:[e,t]}),cT=(e,t)=>({...rT(e),options:[e,t]});var uT="Arrow",wx=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(ee.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});wx.displayName=uT;var dT=wx;function gp(e){const[t,r]=p.useState(void 0);return et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var vp="Popper",[xx,di]=Er(vp),[hT,bx]=xx(vp),_x=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return l.jsx(hT,{scope:t,anchor:n,onAnchorChange:s,children:r})};_x.displayName=vp;var Sx="PopperAnchor",Ex=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=bx(Sx,r),i=p.useRef(null),a=be(t,i);return p.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ee.div,{...s,ref:a})});Ex.displayName=Sx;var yp="PopperContent",[fT,pT]=xx(yp),Cx=p.forwardRef((e,t)=>{var $,ae,pe,ge,ve,we;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:f="optimized",onPlaced:b,...m}=e,y=bx(yp,r),[v,w]=p.useState(null),x=be(t,tt=>w(tt)),[_,S]=p.useState(null),E=gp(_),C=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,O=n+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(u)?u:[u],B=K.length>0,X={padding:A,boundary:K.filter(gT),altBoundary:B},{refs:M,floatingStyles:Y,placement:T,isPositioned:W,middlewareData:P}=tT({strategy:"fixed",placement:O,whileElementsMounted:(...tt)=>qP(...tt,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[nT({mainAxis:s+k,alignmentAxis:i}),c&&sT({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?oT():void 0,...X}),c&&iT({...X}),aT({...X,apply:({elements:tt,rects:Lt,availableWidth:Yn,availableHeight:nn})=>{const{width:Jn,height:wi}=Lt.reference,Qs=tt.floating.style;Qs.setProperty("--radix-popper-available-width",`${Yn}px`),Qs.setProperty("--radix-popper-available-height",`${nn}px`),Qs.setProperty("--radix-popper-anchor-width",`${Jn}px`),Qs.setProperty("--radix-popper-anchor-height",`${wi}px`)}}),_&&cT({element:_,padding:a}),vT({arrowWidth:C,arrowHeight:k}),g&&lT({strategy:"referenceHidden",...X})]}),[j,I]=Nx(T),F=Zt(b);et(()=>{W&&(F==null||F())},[W,F]);const N=($=P.arrow)==null?void 0:$.x,D=(ae=P.arrow)==null?void 0:ae.y,U=((pe=P.arrow)==null?void 0:pe.centerOffset)!==0,[q,ne]=p.useState();return et(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ge=P.transformOrigin)==null?void 0:ge.x,(ve=P.transformOrigin)==null?void 0:ve.y].join(" "),...((we=P.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(fT,{scope:r,placedSide:j,onArrowChange:S,arrowX:N,arrowY:D,shouldHideArrow:U,children:l.jsx(ee.div,{"data-side":j,"data-align":I,...m,ref:x,style:{...m.style,animation:W?void 0:"none"}})})})});Cx.displayName=yp;var jx="PopperArrow",mT={top:"bottom",right:"left",bottom:"top",left:"right"},kx=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=pT(jx,n),i=mT[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(dT,{...s,ref:r,style:{...s.style,display:"block"}})})});kx.displayName=jx;function gT(e){return e!==null}var vT=e=>({name:"transformOrigin",options:e,fn(t){var y,v,w;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Nx(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let b="",m="";return u==="bottom"?(b=i?h:`${g}px`,m=`${-c}px`):u==="top"?(b=i?h:`${g}px`,m=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,m=i?h:`${f}px`):u==="left"&&(b=`${n.floating.width+c}px`,m=i?h:`${f}px`),{data:{x:b,y:m}}}});function Nx(e){const[t,r="center"]=e.split("-");return[t,r]}var Px=_x,tu=Ex,wp=Cx,xp=kx,[ru,uL]=Er("Tooltip",[di]),bp=di(),Tx="TooltipProvider",yT=700,$g="tooltip.open",[wT,Ox]=ru(Tx),Rx=e=>{const{__scopeTooltip:t,delayDuration:r=yT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=p.useRef(!0),a=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(wT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Rx.displayName=Tx;var Ax="Tooltip",[dL,nu]=ru(Ax),Rh="TooltipTrigger",xT=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nu(Rh,r),o=Ox(Rh,r),i=bp(r),a=p.useRef(null),c=be(t,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(tu,{asChild:!0,...i,children:l.jsx(ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:J(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(e.onBlur,s.onClose),onClick:J(e.onClick,s.onClose)})})});xT.displayName=Rh;var bT="TooltipPortal",[hL,_T]=ru(bT,{forceMount:void 0}),Xo="TooltipContent",Ix=p.forwardRef((e,t)=>{const r=_T(Xo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=nu(Xo,e.__scopeTooltip);return l.jsx(Lr,{present:n||i.open,children:i.disableHoverableContent?l.jsx(Dx,{side:s,...o,ref:t}):l.jsx(ST,{side:s,...o,ref:t})})}),ST=p.forwardRef((e,t)=>{const r=nu(Xo,e.__scopeTooltip),n=Ox(Xo,e.__scopeTooltip),s=p.useRef(null),o=be(t,s),[i,a]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,g=p.useCallback(()=>{a(null),h(!1)},[h]),f=p.useCallback((b,m)=>{const y=b.currentTarget,v={x:b.clientX,y:b.clientY},w=NT(v,y.getBoundingClientRect()),x=PT(v,w),_=TT(m.getBoundingClientRect()),S=RT([...x,..._]);a(S),h(!0)},[h]);return p.useEffect(()=>()=>g(),[g]),p.useEffect(()=>{if(c&&d){const b=y=>f(y,d),m=y=>f(y,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",m)}}},[c,d,f,g]),p.useEffect(()=>{if(i){const b=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),x=!OT(v,i);w?g():x&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,g]),l.jsx(Dx,{...e,ref:o})}),[ET,CT]=ru(Ax,{isInside:!1}),jT=Cj("TooltipContent"),Dx=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=nu(Xo,r),u=bp(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener($g,d),()=>document.removeEventListener($g,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=g=>{const f=g.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(oi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(wp,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(jT,{children:n}),l.jsx(ET,{scope:r,isInside:!0,children:l.jsx(Kj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Ix.displayName=Xo;var $x="TooltipArrow",kT=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=bp(r);return CT($x,r).isInside?null:l.jsx(xp,{...s,...n,ref:t})});kT.displayName=$x;function NT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function PT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function TT(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function OT(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,h=c.x,g=c.y;d>n!=g>n&&r<(h-u)*(n-d)/(g-d)+u&&(s=!s)}return s}function RT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),AT(t)}function AT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var IT=Rx,Mx=Ix;const DT=IT,$T=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Mx,{ref:n,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));$T.displayName=Mx.displayName;var su=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ou=typeof window>"u"||"Deno"in globalThis;function hr(){}function MT(e,t){return typeof e=="function"?e(t):e}function LT(e){return typeof e=="number"&&e>=0&&e!==1/0}function FT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ah(e,t){return typeof e=="function"?e(t):e}function UT(e,t){return typeof e=="function"?e(t):e}function Mg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==_p(i,t.options))return!1}else if(!xa(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Lg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(wa(t.options.mutationKey)!==wa(o))return!1}else if(!xa(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function _p(e,t){return((t==null?void 0:t.queryKeyHashFn)||wa)(e)}function wa(e){return JSON.stringify(e,(t,r)=>Ih(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function xa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xa(e[r],t[r])):!1}function Lx(e,t){if(e===t)return e;const r=Fg(e)&&Fg(t);if(r||Ih(e)&&Ih(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const h=r?d:o[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=Lx(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return s===i&&u===s?e:a}return t}function Fg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ih(e){if(!Ug(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ug(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ug(e){return Object.prototype.toString.call(e)==="[object Object]"}function BT(e){return new Promise(t=>{setTimeout(t,e)})}function zT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Lx(e,t):t}function VT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function WT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Sp=Symbol();function Fx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fs,xn,$o,Kv,qT=(Kv=class extends su{constructor(){super();xe(this,fs);xe(this,xn);xe(this,$o);ce(this,$o,t=>{if(!ou&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,xn)||this.setEventListener(R(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,xn))==null||t.call(this),ce(this,xn,void 0))}setEventListener(t){var r;ce(this,$o,t),(r=R(this,xn))==null||r.call(this),ce(this,xn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,fs)!==t&&(ce(this,fs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,fs)=="boolean"?R(this,fs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fs=new WeakMap,xn=new WeakMap,$o=new WeakMap,Kv),Ux=new qT,Mo,bn,Lo,Gv,HT=(Gv=class extends su{constructor(){super();xe(this,Mo,!0);xe(this,bn);xe(this,Lo);ce(this,Lo,t=>{if(!ou&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,bn)||this.setEventListener(R(this,Lo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,bn))==null||t.call(this),ce(this,bn,void 0))}setEventListener(t){var r;ce(this,Lo,t),(r=R(this,bn))==null||r.call(this),ce(this,bn,t(this.setOnline.bind(this)))}setOnline(t){R(this,Mo)!==t&&(ce(this,Mo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,Mo)}},Mo=new WeakMap,bn=new WeakMap,Lo=new WeakMap,Gv),_c=new HT;function KT(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function GT(e){return Math.min(1e3*2**e,3e4)}function Bx(e){return(e??"online")==="online"?_c.isOnline():!0}var zx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function od(e){return e instanceof zx}function Vx(e){let t=!1,r=0,n=!1,s;const o=KT(),i=m=>{var y;n||(g(new zx(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Ux.isFocused()&&(e.networkMode==="always"||_c.isOnline())&&e.canRun(),d=()=>Bx(e.networkMode)&&e.canRun(),h=m=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),o.resolve(m))},g=m=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),o.reject(m))},f=()=>new Promise(m=>{var y;s=v=>{(n||u())&&m(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(n)return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(h).catch(v=>{var E;if(n)return;const w=e.retry??(ou?0:3),x=e.retryDelay??GT,_=typeof x=="function"?x(r,v):x,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(t||!S){g(v);return}r++,(E=e.onFail)==null||E.call(e,r,v),BT(_).then(()=>u()?void 0:f()).then(()=>{t?g(v):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():f().then(b),o)}}var QT=e=>setTimeout(e,0);function YT(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=QT;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ht=YT(),ps,Qv,Wx=(Qv=class{constructor(){xe(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LT(this.gcTime)&&ce(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ou?1/0:5*60*1e3))}clearGcTimeout(){R(this,ps)&&(clearTimeout(R(this,ps)),ce(this,ps,void 0))}},ps=new WeakMap,Qv),Fo,ms,Bt,gs,ot,Na,vs,pr,Br,Yv,JT=(Yv=class extends Wx{constructor(t){super();xe(this,pr);xe(this,Fo);xe(this,ms);xe(this,Bt);xe(this,gs);xe(this,ot);xe(this,Na);xe(this,vs);ce(this,vs,!1),ce(this,Na,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,gs,t.client),ce(this,Bt,R(this,gs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Fo,ZT(this.options)),this.state=t.state??R(this,Fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,ot))==null?void 0:t.promise}setOptions(t){this.options={...R(this,Na),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Bt).remove(this)}setData(t,r){const n=zT(this.state.data,t,this.options);return rt(this,pr,Br).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){rt(this,pr,Br).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=R(this,ot))==null?void 0:n.promise;return(s=R(this,ot))==null||s.cancel(t),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Fo))}isActive(){return this.observers.some(t=>UT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ah(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!FT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,ot)&&(R(this,vs)?R(this,ot).cancel({revert:!0}):R(this,ot).cancelRetry()),this.scheduleGc()),R(this,Bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,pr,Br).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ot))return R(this,ot).continueRetry(),R(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(f=>f.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ce(this,vs,!0),n.signal)})},o=()=>{const g=Fx(this.options,r),b=(()=>{const m={client:R(this,gs),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return ce(this,vs,!1),this.options.persister?this.options.persister(g,b,this):g(b)},a=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,gs),state:this.state,fetchFn:o};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(a,this),ce(this,ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&rt(this,pr,Br).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=g=>{var f,b,m,y;od(g)&&g.silent||rt(this,pr,Br).call(this,{type:"error",error:g}),od(g)||((b=(f=R(this,Bt).config).onError)==null||b.call(f,g,this),(y=(m=R(this,Bt).config).onSettled)==null||y.call(m,this.state.data,g,this)),this.scheduleGc()};return ce(this,ot,Vx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var f,b,m,y;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){c(v);return}(b=(f=R(this,Bt).config).onSuccess)==null||b.call(f,g,this),(y=(m=R(this,Bt).config).onSettled)==null||y.call(m,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,f)=>{rt(this,pr,Br).call(this,{type:"failed",failureCount:g,error:f})},onPause:()=>{rt(this,pr,Br).call(this,{type:"pause"})},onContinue:()=>{rt(this,pr,Br).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),R(this,ot).start()}},Fo=new WeakMap,ms=new WeakMap,Bt=new WeakMap,gs=new WeakMap,ot=new WeakMap,Na=new WeakMap,vs=new WeakMap,pr=new WeakSet,Br=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XT(n.data,this.options),fetchMeta:t.meta??null};case"success":return ce(this,ms,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return od(s)&&s.revert&&R(this,ms)?{...R(this,ms),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Bt).notify({query:this,type:"updated",action:t})})},Yv);function XT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pr,Jv,eO=(Jv=class extends su{constructor(t={}){super();xe(this,Pr);this.config=t,ce(this,Pr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??_p(s,r);let i=this.get(o);return i||(i=new JT({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){R(this,Pr).has(t.queryHash)||(R(this,Pr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Pr).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Pr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Pr).get(t)}getAll(){return[...R(this,Pr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Mg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Mg(t,n)):r}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pr=new WeakMap,Jv),Tr,ut,ys,Or,fn,Xv,tO=(Xv=class extends Wx{constructor(t){super();xe(this,Or);xe(this,Tr);xe(this,ut);xe(this,ys);this.mutationId=t.mutationId,ce(this,ut,t.mutationCache),ce(this,Tr,[]),this.state=t.state||rO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Tr).includes(t)||(R(this,Tr).push(t),this.clearGcTimeout(),R(this,ut).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Tr,R(this,Tr).filter(r=>r!==t)),this.scheduleGc(),R(this,ut).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():R(this,ut).remove(this))}continue(){var t;return((t=R(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,c,u,d,h,g,f,b,m,y,v,w,x,_,S,E,C,k;const r=()=>{rt(this,Or,fn).call(this,{type:"continue"})};ce(this,ys,Vx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,A)=>{rt(this,Or,fn).call(this,{type:"failed",failureCount:O,error:A})},onPause:()=>{rt(this,Or,fn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ut).canRun(this)}));const n=this.state.status==="pending",s=!R(this,ys).canStart();try{if(n)r();else{rt(this,Or,fn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=R(this,ut).config).onMutate)==null?void 0:i.call(o,t,this));const A=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));A!==this.state.context&&rt(this,Or,fn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const O=await R(this,ys).start();return await((d=(u=R(this,ut).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((g=(h=this.options).onSuccess)==null?void 0:g.call(h,O,t,this.state.context)),await((b=(f=R(this,ut).config).onSettled)==null?void 0:b.call(f,O,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,O,null,t,this.state.context)),rt(this,Or,fn).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(v=R(this,ut).config).onError)==null?void 0:w.call(v,O,t,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,O,t,this.state.context)),await((E=(S=R(this,ut).config).onSettled)==null?void 0:E.call(S,void 0,O,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,O,t,this.state.context)),O}finally{rt(this,Or,fn).call(this,{type:"error",error:O})}}finally{R(this,ut).runNext(this)}}},Tr=new WeakMap,ut=new WeakMap,ys=new WeakMap,Or=new WeakSet,fn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{R(this,Tr).forEach(n=>{n.onMutationUpdate(t)}),R(this,ut).notify({mutation:this,type:"updated",action:t})})},Xv);function rO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,mr,Pa,Zv,nO=(Zv=class extends su{constructor(t={}){super();xe(this,qr);xe(this,mr);xe(this,Pa);this.config=t,ce(this,qr,new Set),ce(this,mr,new Map),ce(this,Pa,0)}build(t,r,n){const s=new tO({mutationCache:this,mutationId:++Ka(this,Pa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){R(this,qr).add(t);const r=ml(t);if(typeof r=="string"){const n=R(this,mr).get(r);n?n.push(t):R(this,mr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,qr).delete(t)){const r=ml(t);if(typeof r=="string"){const n=R(this,mr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&R(this,mr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ml(t);if(typeof r=="string"){const n=R(this,mr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ml(t);if(typeof r=="string"){const s=(n=R(this,mr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{R(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,qr).clear(),R(this,mr).clear()})}getAll(){return Array.from(R(this,qr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lg(r,n))}findAll(t={}){return this.getAll().filter(r=>Lg(t,r))}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(hr))))}},qr=new WeakMap,mr=new WeakMap,Pa=new WeakMap,Zv);function ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Bg(e){return{onFetch:(t,r)=>{var d,h,g,f,b;const n=t.options,s=(g=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=Fx(t.options,t.fetchOptions),w=async(x,_,S)=>{if(m)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(K),K})(),k=await v(C),{maxPages:O}=t.options,A=S?WT:VT;return{pages:A(x.pages,k,O),pageParams:A(x.pageParams,_,O)}};if(s&&o.length){const x=s==="backward",_=x?sO:zg,S={pages:o,pageParams:i},E=_(n,S);a=await w(S,E,x)}else{const x=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:zg(n,a);if(c>0&&_==null)break;a=await w(a,_),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function zg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Le,_n,Sn,Uo,Bo,En,zo,Vo,ey,oO=(ey=class{constructor(e={}){xe(this,Le);xe(this,_n);xe(this,Sn);xe(this,Uo);xe(this,Bo);xe(this,En);xe(this,zo);xe(this,Vo);ce(this,Le,e.queryCache||new eO),ce(this,_n,e.mutationCache||new nO),ce(this,Sn,e.defaultOptions||{}),ce(this,Uo,new Map),ce(this,Bo,new Map),ce(this,En,0)}mount(){Ka(this,En)._++,R(this,En)===1&&(ce(this,zo,Ux.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Le).onFocus())})),ce(this,Vo,_c.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Le).onOnline())})))}unmount(){var e,t;Ka(this,En)._--,R(this,En)===0&&((e=R(this,zo))==null||e.call(this),ce(this,zo,void 0),(t=R(this,Vo))==null||t.call(this),ce(this,Vo,void 0))}isFetching(e){return R(this,Le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,_n).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,Le).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=R(this,Le).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ah(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return R(this,Le).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=R(this,Le).get(n.queryHash),o=s==null?void 0:s.state.data,i=MT(t,o);if(i!==void 0)return R(this,Le).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ht.batch(()=>R(this,Le).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,Le).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,Le);ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,Le);return ht.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ht.batch(()=>R(this,Le).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(hr).catch(hr)}invalidateQueries(e,t={}){return ht.batch(()=>(R(this,Le).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ht.batch(()=>R(this,Le).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,Le).build(this,t);return r.isStaleByTime(Ah(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hr).catch(hr)}fetchInfiniteQuery(e){return e.behavior=Bg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hr).catch(hr)}ensureInfiniteQueryData(e){return e.behavior=Bg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _c.isOnline()?R(this,_n).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Le)}getMutationCache(){return R(this,_n)}getDefaultOptions(){return R(this,Sn)}setDefaultOptions(e){ce(this,Sn,e)}setQueryDefaults(e,t){R(this,Uo).set(wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Uo).values()],r={};return t.forEach(n=>{xa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){R(this,Bo).set(wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Bo).values()],r={};return t.forEach(n=>{xa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Sn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_p(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Sn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Le).clear(),R(this,_n).clear()}},Le=new WeakMap,_n=new WeakMap,Sn=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,En=new WeakMap,zo=new WeakMap,Vo=new WeakMap,ey),iO=p.createContext(void 0),aO=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(iO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(this,arguments)}var kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kn||(kn={}));const Vg="popstate";function lO(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Dh("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Hx(s)}return uO(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cO(){return Math.random().toString(36).substr(2,8)}function Wg(e,t){return{usr:e.state,key:e.key,idx:t}}function Dh(e,t,r,n){return r===void 0&&(r=null),ba({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hi(t):t,{state:r,key:t&&t.key||n||cO()})}function Hx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function uO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=kn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ba({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=kn.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:a,location:m.location,delta:v})}function g(y,v){a=kn.Push;let w=Dh(m.location,y,v);u=d()+1;let x=Wg(w,u),_=m.createHref(w);try{i.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:m.location,delta:1})}function f(y,v){a=kn.Replace;let w=Dh(m.location,y,v);u=d();let x=Wg(w,u),_=m.createHref(w);i.replaceState(x,"",_),o&&c&&c({action:a,location:m.location,delta:0})}function b(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Hx(y);return w=w.replace(/ $/,"%20"),We(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let m={get action(){return a},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vg,h),c=y,()=>{s.removeEventListener(Vg,h),c=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let v=b(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:f,go(y){return i.go(y)}};return m}var qg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qg||(qg={}));function dO(e,t,r){return r===void 0&&(r="/"),hO(e,t,r,!1)}function hO(e,t,r,n){let s=typeof t=="string"?hi(t):t,o=Qx(s.pathname||"/",r);if(o==null)return null;let i=Kx(e);fO(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=EO(o);a=_O(i[c],u,n)}return a}function Kx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bs([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:xO(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Gx(o.path))s(o,i,c)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Gx(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function fO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pO=/^:[\w-]+$/,mO=3,gO=2,vO=1,yO=10,wO=-2,Hg=e=>e==="*";function xO(e,t){let r=e.split("/"),n=r.length;return r.some(Hg)&&(n+=wO),t&&(n+=gO),r.filter(s=>!Hg(s)).reduce((s,o)=>s+(pO.test(o)?mO:o===""?vO:yO),n)}function bO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _O(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:bs([o,h.pathname]),pathnameBase:NO(bs([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=bs([o,h.pathnameBase]))}return i}function Kg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=SO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:g,isOptional:f}=d;if(g==="*"){let m=a[h]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const b=a[h];return f&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function SO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function EO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?hi(e):e;return{pathname:r?r.startsWith("/")?r:jO(r,t):t,search:PO(n),hash:TO(s)}}function jO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function id(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yx(e,t){let r=kO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=hi(e):(s=ba({},e),We(!s.pathname||!s.pathname.includes("?"),id("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),id("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),id("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?t[h]:"/"}let c=CO(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bs=e=>e.join("/").replace(/\/\/+/g,"/"),NO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xx=["post","put","patch","delete"];new Set(Xx);const RO=["get",...Xx];new Set(RO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}const Ep=p.createContext(null),AO=p.createContext(null),La=p.createContext(null),iu=p.createContext(null),Us=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=p.createContext(null);function Fa(){return p.useContext(iu)!=null}function Ua(){return Fa()||We(!1),p.useContext(iu).location}function eb(e){p.useContext(La).static||p.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=p.useContext(Us);return e?HO():IO()}function IO(){Fa()||We(!1);let e=p.useContext(Ep),{basename:t,future:r,navigator:n}=p.useContext(La),{matches:s}=p.useContext(Us),{pathname:o}=Ua(),i=JSON.stringify(Yx(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return eb(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=Jx(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bs([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,o,e])}function DO(e,t){return $O(e,t)}function $O(e,t,r,n){Fa()||We(!1);let{navigator:s}=p.useContext(La),{matches:o}=p.useContext(Us),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ua(),d;if(t){var h;let y=typeof t=="string"?hi(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||We(!1),d=y}else d=u;let g=d.pathname||"/",f=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=dO(e,{pathname:f}),m=BO(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:bs([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bs([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&m?p.createElement(iu.Provider,{value:{location:_a({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:kn.Pop}},m):m}function MO(){let e=qO(),t=OO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const LO=p.createElement(MO,null);class FO extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Us.Provider,{value:this.props.routeContext},p.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UO(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Ep);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Us.Provider,{value:t},n)}function BO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||We(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:f}=r,b=h.route.loader&&g[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,g)=>{let f,b=!1,m=null,y=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||LO,c&&(u<0&&g===0?(b=!0,y=null):u===g&&(b=!0,y=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),w=()=>{let x;return f?x=m:b?x=y:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,p.createElement(UO,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?p.createElement(FO,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var tb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tb||{}),Sc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sc||{});function zO(e){let t=p.useContext(Ep);return t||We(!1),t}function VO(e){let t=p.useContext(AO);return t||We(!1),t}function WO(e){let t=p.useContext(Us);return t||We(!1),t}function rb(e){let t=WO(),r=t.matches[t.matches.length-1];return r.route.id||We(!1),r.route.id}function qO(){var e;let t=p.useContext(Zx),r=VO(Sc.UseRouteError),n=rb(Sc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HO(){let{router:e}=zO(tb.UseNavigateStable),t=rb(Sc.UseNavigateStable),r=p.useRef(!1);return eb(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,_a({fromRouteId:t},o)))},[e,t])}function KO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function GO(e){let{to:t,replace:r,state:n,relative:s}=e;Fa()||We(!1);let{future:o,static:i}=p.useContext(La),{matches:a}=p.useContext(Us),{pathname:c}=Ua(),u=rr(),d=Jx(t,Yx(a,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ut(e){We(!1)}function QO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=kn.Pop,navigator:o,static:i=!1,future:a}=e;Fa()&&We(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:_a({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=hi(n));let{pathname:d="/",search:h="",hash:g="",state:f=null,key:b="default"}=n,m=p.useMemo(()=>{let y=Qx(d,c);return y==null?null:{location:{pathname:y,search:h,hash:g,state:f,key:b},navigationType:s}},[c,d,h,g,f,b,s]);return m==null?null:p.createElement(La.Provider,{value:u},p.createElement(iu.Provider,{children:r,value:m}))}function YO(e){let{children:t,location:r}=e;return DO($h(t),r)}new Promise(()=>{});function $h(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let o=[...t,s];if(n.type===p.Fragment){r.push.apply(r,$h(n.props.children,o));return}n.type!==Ut&&We(!1),!n.props.index||!n.props.children||We(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=$h(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const JO="6";try{window.__reactRouterVersion=JO}catch{}const XO="startTransition",Gg=uf[XO];function ZO(e){let{basename:t,children:r,future:n,window:s}=e,o=p.useRef();o.current==null&&(o.current=lO({window:s,v5Compat:!0}));let i=o.current,[a,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&Gg?Gg(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>KO(n),[n]),p.createElement(QO,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var Qg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var Yg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));const eR=Yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Sj:"button";return l.jsx(i,{className:te(eR({variant:t,size:r,className:e})),ref:o,...s})});he.displayName="Button";const Ae=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const Qt=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Qt.displayName="CardHeader";const Yt=p.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yt.displayName="CardTitle";const _s=p.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));_s.displayName="CardDescription";const Be=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));Be.displayName="CardContent";const tR=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));tR.displayName="CardFooter";const rR=()=>{const e=rr();return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card shadow-[var(--shadow-soft)]",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg",children:l.jsx("img",{src:"/duck-inventory-systems/logos/stackable-logo-2.png",alt:"Stackable Logo",className:"h-full w-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Stackable"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"CPG Inventory Management"})]})]}),l.jsx(he,{onClick:()=>e("/auth"),children:"Get Started"})]})})}),l.jsx("section",{className:"container mx-auto px-4 py-16 md:py-24",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto space-y-6",children:[l.jsx("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Stop Wrestling with Excel Spreadsheets"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"CPG companies lose thousands of hours managing inventory in Excel. Stackable gives you real-time visibility, automated tracking, and seamless order managementall in one powerful platform."}),l.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[l.jsx(he,{size:"lg",onClick:()=>e("/auth"),children:"Start Free Trial"}),l.jsx(he,{size:"lg",variant:"outline",onClick:()=>e("/auth"),children:"Sign In"})]})]})}),l.jsx("section",{className:"bg-muted/50 py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-8",children:"The Excel Problem for CPG Companies"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx(Ae,{className:"bg-card border-border",children:l.jsxs(Be,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Manual Updates"}),l.jsx("p",{className:"text-muted-foreground",children:"Constantly updating quantities, chasing team members for data, and dealing with version control chaos."})]})}),l.jsx(Ae,{className:"bg-card border-border",children:l.jsxs(Be,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"No Real-Time Visibility"}),l.jsx("p",{className:"text-muted-foreground",children:"Never knowing actual stock levels until it's too late. Stockouts and overordering cost you money."})]})}),l.jsx(Ae,{className:"bg-card border-border",children:l.jsxs(Be,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Error-Prone"}),l.jsx("p",{className:"text-muted-foreground",children:"One wrong formula or deleted cell can corrupt your entire inventory. Human errors compound over time."})]})}),l.jsx(Ae,{className:"bg-card border-border",children:l.jsxs(Be,{className:"pt-6",children:[l.jsx("h4",{className:"text-xl font-semibold mb-2 text-destructive",children:"Difficult Scaling"}),l.jsx("p",{className:"text-muted-foreground",children:"As your product lines grow, Excel becomes unmanageable. Multiple sheets, broken links, and slow performance."})]})})]})]})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:"Built for CPG Companies"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(ii,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Dual Inventory Tracking"}),l.jsx("p",{className:"text-muted-foreground",children:"Track both raw materials and finished products in one place. Perfect for cookie makers, olive oil producers, and all CPG businesses."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(Jc,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Smart Reorder Alerts"}),l.jsx("p",{className:"text-muted-foreground",children:"Automatic low-stock notifications ensure you never run out of critical ingredients or packaging materials."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(Pk,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Order Management"}),l.jsx("p",{className:"text-muted-foreground",children:"Integrated order tracking that automatically updates your inventory. Know exactly what's committed and what's available."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10",children:l.jsx(Mk,{className:"h-6 w-6 text-primary"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Real-Time Updates"}),l.jsx("p",{className:"text-muted-foreground",children:"Everyone on your team sees the same data instantly. No more emailing spreadsheets back and forth."})]})]})]})]})})}),l.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[l.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:"Ready to Leave Excel Behind?"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Join leading CPG companies who've made the switch to smarter inventory management."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"No credit card required"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"14-day free trial"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wl,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Setup in minutes"})]})]}),l.jsx(he,{size:"lg",onClick:()=>e("/auth"),className:"mt-6",children:"Get Started Now"})]})})}),l.jsx("footer",{className:"border-t border-border bg-card py-8",children:l.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground",children:l.jsx("p",{children:" 2025 Stackable. Built for CPG companies that demand better."})})})]})};var Mh=function(e,t){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Mh(e,t)};function nb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wt=function(){return Wt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wt.apply(this,arguments)};function qn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function sb(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function ob(e,t){return function(r,n){t(r,n,e)}}function ib(e,t,r,n,s,o){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,g=!1,f=r.length-1;f>=0;f--){var b={};for(var m in n)b[m]=m==="access"?{}:n[m];for(var m in n.access)b.access[m]=n.access[m];b.addInitializer=function(v){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(v||null))};var y=(0,r[f])(a==="accessor"?{get:d.get,set:d.set}:d[c],b);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=i(y.get))&&(d.get=h),(h=i(y.set))&&(d.set=h),(h=i(y.init))&&s.unshift(h)}else(h=i(y))&&(a==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),g=!0}function ab(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function lb(e){return typeof e=="symbol"?e:"".concat(e)}function cb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ub(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function db(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var au=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function hb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&au(t,e,r)}function Ec(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function fb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cp(arguments[t]));return e}function pb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function jp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Zo(e){return this instanceof Zo?(this.v=e,this):new Zo(e)}function mb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(f){return function(b){return Promise.resolve(b).then(f,h)}}function a(f,b){n[f]&&(s[f]=function(m){return new Promise(function(y,v){o.push([f,m,y,v])>1||c(f,m)})},b&&(s[f]=b(s[f])))}function c(f,b){try{u(n[f](b))}catch(m){g(o[0][3],m)}}function u(f){f.value instanceof Zo?Promise.resolve(f.value.v).then(d,h):g(o[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function g(f,b){f(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function gb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Zo(e[s](i)),done:!1}:o?o(i):i}:o}}function vb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ec=="function"?Ec(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function yb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var nR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Lh=function(e){return Lh=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Lh(e)};function wb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Lh(e),n=0;n<r.length;n++)r[n]!=="default"&&au(t,e,r[n]);return nR(t,e),t}function xb(e){return e&&e.__esModule?e:{default:e}}function bb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function _b(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Sb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Eb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var sR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Cb(e){function t(o){e.error=e.hasError?new sR(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function jb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}const oR={__extends:nb,__assign:Wt,__rest:qn,__decorate:sb,__param:ob,__esDecorate:ib,__runInitializers:ab,__propKey:lb,__setFunctionName:cb,__metadata:ub,__awaiter:Q,__generator:db,__createBinding:au,__exportStar:hb,__values:Ec,__read:Cp,__spread:fb,__spreadArrays:pb,__spreadArray:jp,__await:Zo,__asyncGenerator:mb,__asyncDelegator:gb,__asyncValues:vb,__makeTemplateObject:yb,__importStar:wb,__importDefault:xb,__classPrivateFieldGet:bb,__classPrivateFieldSet:_b,__classPrivateFieldIn:Sb,__addDisposableResource:Eb,__disposeResources:Cb,__rewriteRelativeImportExtension:jb},iR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Eb,get __assign(){return Wt},__asyncDelegator:gb,__asyncGenerator:mb,__asyncValues:vb,__await:Zo,__awaiter:Q,__classPrivateFieldGet:bb,__classPrivateFieldIn:Sb,__classPrivateFieldSet:_b,__createBinding:au,__decorate:sb,__disposeResources:Cb,__esDecorate:ib,__exportStar:hb,__extends:nb,__generator:db,__importDefault:xb,__importStar:wb,__makeTemplateObject:yb,__metadata:ub,__param:ob,__propKey:lb,__read:Cp,__rest:qn,__rewriteRelativeImportExtension:jb,__runInitializers:ab,__setFunctionName:cb,__spread:fb,__spreadArray:jp,__spreadArrays:pb,__values:Ec,default:oR},Symbol.toStringTag,{value:"Module"})),aR="modulepreload",lR=function(e){return"/duck-inventory-systems/"+e},Jg={},fi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=lR(c),c in Jg)return;Jg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":aR,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},cR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fi(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class kp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Xg extends kp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zg extends kp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ev extends kp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fh||(Fh={}));class uR{constructor(t,{headers:r={},customFetch:n,region:s=Fh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=cR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:i,body:a,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let g;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=a):typeof a=="string"?(u["Content-Type"]="text/plain",g=a):typeof FormData<"u"&&a instanceof FormData?g=a:(u["Content-Type"]="application/json",g=JSON.stringify(a)):g=a;const f=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:g,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new Xg(v)}),b=f.headers.get("x-relay-error");if(b&&b==="true")throw new Zg(f);if(!f.ok)throw new ev(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"||m==="application/pdf"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Xg(o)}:{data:null,error:o,response:o instanceof ev||o instanceof Zg?o.context:void 0}}})}}var ft={};const pi=ny(iR);var gl={},vl={},yl={},wl={},xl={},dR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ei=dR();const hR=ei.fetch,kb=ei.fetch.bind(ei),Nb=ei.Headers,fR=ei.Request,pR=ei.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nb,Request:fR,Response:pR,default:kb,fetch:hR},Symbol.toStringTag,{value:"Module"})),mR=ny(Bs);var bl={},tv;function Pb(){if(tv)return bl;tv=1,Object.defineProperty(bl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bl.default=e,bl}var rv;function Tb(){if(rv)return xl;rv=1,Object.defineProperty(xl,"__esModule",{value:!0});const e=pi,t=e.__importDefault(mR),r=e.__importDefault(Pb());class n{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,g,f;let b=null,m=null,y=null,v=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(b={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{b=JSON.parse(_),Array.isArray(b)&&u.status===404&&(m=[],b=null,v=200,w="OK")}catch{u.status===404&&_===""?(v=204,w="No Content"):b={message:_}}if(b&&this.isMaybeSingle&&(!((f=b==null?void 0:b.details)===null||f===void 0)&&f.includes("0 rows"))&&(b=null,v=200,w="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:m,count:y,status:v,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,g;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,i)}returns(){return this}overrideTypes(){return this}}return xl.default=n,xl}var nv;function Ob(){if(nv)return wl;nv=1,Object.defineProperty(wl,"__esModule",{value:!0});const t=pi.__importDefault(Tb());class r extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return wl.default=r,wl}var sv;function Np(){if(sv)return yl;sv=1,Object.defineProperty(yl,"__esModule",{value:!0});const t=pi.__importDefault(Ob()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return yl.default=n,yl}var ov;function Rb(){if(ov)return vl;ov=1,Object.defineProperty(vl,"__esModule",{value:!0});const t=pi.__importDefault(Np());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},c=i?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,f)=>g.concat(Object.keys(f)),[]);if(h.length>0){const g=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return vl.default=r,vl}var iv;function gR(){if(iv)return gl;iv=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=pi,t=e.__importDefault(Rb()),r=e.__importDefault(Np());class n{constructor(o,{headers:i={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=c}from(o){const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:c=!1,count:u}={}){var d;let h;const g=new URL(`${this.url}/rpc/${o}`);let f;a||c?(h=a?"HEAD":"GET",Object.entries(i).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{g.searchParams.append(m,y)})):(h="POST",f=i);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:h,url:g,headers:b,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return gl.default=n,gl}Object.defineProperty(ft,"__esModule",{value:!0});var Ab=ft.PostgrestError=Vb=ft.PostgrestBuilder=Bb=ft.PostgrestTransformBuilder=Fb=ft.PostgrestFilterBuilder=Mb=ft.PostgrestQueryBuilder=Db=ft.PostgrestClient=void 0;const mi=pi,Ib=mi.__importDefault(gR());var Db=ft.PostgrestClient=Ib.default;const $b=mi.__importDefault(Rb());var Mb=ft.PostgrestQueryBuilder=$b.default;const Lb=mi.__importDefault(Np());var Fb=ft.PostgrestFilterBuilder=Lb.default;const Ub=mi.__importDefault(Ob());var Bb=ft.PostgrestTransformBuilder=Ub.default;const zb=mi.__importDefault(Tb());var Vb=ft.PostgrestBuilder=zb.default;const Wb=mi.__importDefault(Pb());Ab=ft.PostgrestError=Wb.default;var qb=ft.default={PostgrestClient:Ib.default,PostgrestQueryBuilder:$b.default,PostgrestFilterBuilder:Lb.default,PostgrestTransformBuilder:Ub.default,PostgrestBuilder:zb.default,PostgrestError:Wb.default};const vR=ty({__proto__:null,get PostgrestBuilder(){return Vb},get PostgrestClient(){return Db},get PostgrestError(){return Ab},get PostgrestFilterBuilder(){return Fb},get PostgrestQueryBuilder(){return Mb},get PostgrestTransformBuilder(){return Bb},default:qb},[ft]),{PostgrestClient:yR,PostgrestQueryBuilder:fL,PostgrestFilterBuilder:pL,PostgrestTransformBuilder:mL,PostgrestBuilder:gL,PostgrestError:vL}=qb||vR;class wR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xR="2.78.0",bR=`realtime-js/${xR}`,_R="1.0.0",Uh=1e4,SR=1e3,ER=100;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var Bh;(function(e){e.websocket="websocket"})(Bh||(Bh={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class CR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Hb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const av=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=jR(i,e,t,s),o),{}):{}},jR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Kb(o,i):zh(i)},Kb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return TR(t,r)}switch(e){case je.bool:return kR(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return NR(t);case je.json:case je.jsonb:return PR(t);case je.timestamp:return OR(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return zh(t);default:return zh(t)}},zh=e=>e,kR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Kb(t,a))}return e},OR=e=>typeof e=="string"?e.replace(" ","T"):e,Gb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ad{constructor(t,r,n={},s=Uh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lv||(lv={}));class Xi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Xi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const g=d.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),b=d.filter(y=>f.indexOf(y.presence_ref)<0),m=h.filter(y=>g.indexOf(y.presence_ref)<0);b.length>0&&(a[u]=b),m.length>0&&(c[u]=m)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(f=>f.presence_ref),g=d.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...g)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cv||(cv={}));var Zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zi||(Zi={}));var Vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vr||(Vr={}));class Pp{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Hb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xi(this),this.broadcastEndpointURL=Gb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},g={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Vr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Vr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket.setAuth(),f===void 0){t==null||t(Vr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(b=m==null?void 0:m.length)!==null&&b!==void 0?b:0,v=[];for(let w=0;w<y;w++){const x=m[w],{filter:{event:_,schema:S,table:E,filter:C}}=x,k=f&&f[w];if(k&&k.event===_&&k.schema===S&&k.table===E&&k.filter===C)v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Vr.SUBSCRIBED);return}}).receive("error",f=>{this.state=qe.errored,t==null||t(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qe.joined&&t===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ad(this,vr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ad(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ER){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=vr;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let g=this._onMessage(i,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var b,m,y;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(f=>f.callback(g,n)):(o=this.bindings[i])===null||o===void 0||o.filter(f=>{var b,m,y,v,w,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const _=f.id,S=(b=f.filter)===null||b===void 0?void 0:b.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:m,table:y,commit_timestamp:v,type:w,errors:x}=b;g=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(b))}f.callback(g,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Pp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=av(t.columns,t.old_record)),r}}const ld=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RR=[1e3,2e3,5e3,1e4],AR=1e4,IR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uh,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.reconnectTimer=null,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new CR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>fi(async()=>{const{default:a}=await Promise.resolve().then(()=>Bs);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bh.websocket}`,this.httpEndpoint=Gb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_R}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return as.Connecting;case Ji.open:return as.Open;case Ji.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Pp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:bR};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(vr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Hb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_l.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ld,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>RR[h-1]||AR,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,g)=>g(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $R extends Tp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vh extends Tp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fi(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MR=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fi(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),Wh=e=>{if(Array.isArray(e))return e.map(r=>Wh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Wh(n)}),t},LR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FR=(e,t,r)=>Q(void 0,void 0,void 0,function*(){const n=yield MR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new $R(cd(s),o,i))}).catch(s=>{t(new Vh(cd(s),s))}):t(new Vh(cd(e),e))}),UR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(LR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ba(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,UR(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>FR(c,a,n))})})}function Sa(e,t,r,n){return Q(this,void 0,void 0,function*(){return Ba(e,"GET",t,r,n)})}function fr(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ba(e,"POST",t,n,s,r)})}function qh(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ba(e,"PUT",t,n,s,r)})}function BR(e,t,r,n){return Q(this,void 0,void 0,function*(){return Ba(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rp(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return Ba(e,"DELETE",t,n,s,r)})}class zR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}var Qb;class VR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Qb]="BlobDownloadBuilder",this.promise=null}asStream(){return new zR(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}Qb=Symbol.toStringTag;const WR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qR{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Op(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Q(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},uv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?qh:fr)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Q(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:uv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield qh(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield fr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Tp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield fr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=yield fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(t),c=()=>Sa(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new VR(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}exists(t){return Q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield BR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n)&&n instanceof Vh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WR),r),{prefix:t||""});return{data:yield fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}listV2(t,r){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield fr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Yb="2.78.0",Jb={"X-Client-Info":`storage-js/${Yb}`};class HR{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jb),r),this.fetch=Op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Sa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}createBucket(t){return Q(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield fr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class KR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jb),r),this.fetch=Op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Sa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}const Ap={"X-Client-Info":`storage-js/${Yb}`,"Content-Type":"application/json"};class Xb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ud extends Xb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class GR extends Xb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var dv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dv||(dv={}));const Ip=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fi(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YR=(e,t,r)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new ud(hv(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new ud(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new ud(a,s,i))}}else t(new GR(hv(e),e))}),JR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(QR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function XR(e,t,r,n,s,o){return Q(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,JR(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>YR(c,a,n))})})}function Pt(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return XR(e,"POST",t,n,s,r)})}class ZR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ap),r),this.fetch=Ip(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}class e2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ap),r),this.fetch=Ip(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}}class t2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ap),r),this.fetch=Ip(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield Pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}}class r2 extends t2{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new n2(this.url,this.headers,t,this.fetch)}}class n2 extends ZR{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new s2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class s2 extends e2{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class o2 extends HR{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new qR(this.url,this.headers,t,this.fetch)}get vectors(){return new r2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KR(this.url+"/iceberg",this.headers,this.fetch)}}const i2="2.78.0";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const a2={"X-Client-Info":`supabase-js-${Fi}/${i2}`},l2={headers:a2},c2={schema:"public"},u2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d2={},h2=e=>{let t;return e?t=e:typeof fetch>"u"?t=kb:t=fetch,(...r)=>t(...r)},f2=()=>typeof Headers>"u"?Nb:Headers,p2=(e,t,r)=>{const n=h2(r),s=f2();return async(o,i)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function m2(e){return e.endsWith("/")?e:e+"/"}function g2(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function v2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Zb="2.78.0",co=30*1e3,Hh=3,dd=Hh*co,y2="http://localhost:9999",w2="supabase.auth.token",x2={"X-Client-Info":`gotrue-js/${Zb}`},Kh="X-Supabase-Api-Version",e1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_2=10*60*1e3;class Ea extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S2 extends Ea{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function E2(e){return Z(e)&&e.name==="AuthApiError"}class ls extends Ea{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hn extends Ea{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class lr extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C2(e){return Z(e)&&e.name==="AuthSessionMissingError"}class eo extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sl extends Hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class El extends Hn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j2(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class fv extends Hn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gh extends Hn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hd(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class pv extends Hn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qh extends Hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mv=` 	
\r=`.split(""),k2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mv.length;t+=1)e[mv[t].charCodeAt(0)]=-2;for(let t=0;t<Cc.length;t+=1)e[Cc[t].charCodeAt(0)]=t;return e})();function gv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cc[n]),t.queuedBits-=6}}function t1(e,t,r){const n=k2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{T2(i,n,r)};for(let i=0;i<e.length;i+=1)t1(e.charCodeAt(i),s,o);return t.join("")}function N2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function P2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}N2(n,t)}}function T2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Io(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)t1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function O2(e){const t=[];return P2(e,r=>t.push(r)),new Uint8Array(t)}function hs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>gv(s,r,n)),gv(null,r,n),t.join("")}function R2(e){return Math.round(Date.now()/1e3)+e}function A2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},r1=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function I2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const n1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fi(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},D2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ts=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dn=async(e,t)=>{await e.removeItem(t)};class lu{constructor(){this.promise=new lu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lu.promiseConstructor=Promise;function fd(e){const t=e.split(".");if(t.length!==3)throw new Qh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!b2.test(t[n]))throw new Qh("JWT not in base64url format");return{header:JSON.parse(vv(t[0])),payload:JSON.parse(vv(t[1])),signature:Io(t[2]),raw:{header:t[0],payload:t[1]}}}async function $2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M2(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function L2(e){return("0"+e.toString(16)).substr(-2)}function F2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,L2).join("")}async function U2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function B2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await U2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function to(e,t,r=!1){const n=F2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await uo(e,`${t}-code-verifier`,s);const o=await B2(n);return[o,n===o?"plain":"s256"]}const z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V2(e){const t=e.headers.get(Kh);if(!t||!t.match(z2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(e){if(!H2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K2(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function yv(e){return JSON.parse(JSON.stringify(e))}const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G2=[502,503,504];async function wv(e){var t;if(!D2(e))throw new Gh(os(e),0);if(G2.includes(e.status))throw new Gh(os(e),e.status);let r;try{r=await e.json()}catch(o){throw new ls(os(o),o)}let n;const s=V2(e);if(s&&s.getTime()>=e1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pv(os(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new pv(os(r),e.status,r.weak_password.reasons);throw new S2(os(r),e.status||500,n)}const Q2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function se(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Kh]||(o[Kh]=e1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Y2(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Y2(e,t,r,n,s,o){const i=Q2(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Gh(os(c),0)}if(a.ok||await wv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await wv(c)}}function cr(e){var t;let r=null;Z2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=R2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xv(e){const t=cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function J2(e){return{data:e,error:null}}function X2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=qn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function bv(e){return e}function Z2(e){return e.access_token&&e.refresh_token&&e.expires_in}const md=["global","local","others"];class eA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=n1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=md[0]){if(md.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:X2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:bv});if(d.error)throw d.error;const h=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ro(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ro(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ro(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ro(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ro(t.userId),ro(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:bv});if(d.error)throw d.error;const h=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function _v(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const no={debug:!!(globalThis&&r1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tA extends s1{}async function rA(e,t,r){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),no.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{no.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw no.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(no.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sA(e){return parseInt(e,16)}function oA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iA(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:d,uri:h,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=o1(e.address),b=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${f}

${m}`;let v=`URI: ${h}
Version: ${g}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}v+=w}return`${y}
${v}`}class ze extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class jc extends ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function aA({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(i1(i)){if(o.rp.id!==i)return new ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lA({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(i1(n)){if(r.rpId!==n)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uA=new cA;function dA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=qn(e,["challenge","user","excludeCredentials"]),o=Io(t).buffer,i=Object.assign(Object.assign({},r),{id:Io(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function hA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=qn(e,["challenge","allowCredentials"]),s=Io(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Io(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function fA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:hs(new Uint8Array(e.response.attestationObject)),clientDataJSON:hs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hs(new Uint8Array(s.authenticatorData)),clientDataJSON:hs(new Uint8Array(s.clientDataJSON)),signature:hs(new Uint8Array(s.signature)),userHandle:s.userHandle?hs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Sv(){var e,t;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:aA({error:t,options:e})}}}async function gA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:lA({error:t,options:e})}}}const vA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yA={userVerification:"preferred",hints:["security-key"]};function kc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=kc(a,i):n[o]=kc(i)}else n[o]=i}return n}function wA(e,t){return kc(vA,e,t||{})}function xA(e,t){return kc(yA,e,t||{})}class bA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const c=s??uA.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=wA(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await mA({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=xA(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await gA(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn authentication")};try{if(!Sv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn registration")};try{if(!Sv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return Z(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in register",i)}}}}nA();const _A={url:y2,storageKey:w2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ev(e,t,r){return await r()}const so={};class Ca{get jwks(){var t,r;return(r=(t=so[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=so[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ca.nextInstanceID,Ca.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_A),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=n1(s.fetch),this.lock=s.lock||Ev,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rA:this.lock=Ev,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:r1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_v(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_v(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=I2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),j2(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new ls("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cr}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:h,options:g}=t;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await to(this.storage,this.storageKey)),o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:b},xform:cr})}else if("phone"in t){const{phone:d,password:h,options:g}=t;o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:cr})}else throw new Sl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xv})}else throw new Sl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new eo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,c,u,d,h,g;let f,b;if("message"in t)f=t.message,b=t.signature;else{const{chain:m,wallet:y,statement:v,options:w}=t;let x;if(ct())if(typeof y=="object")x=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=o1(S[0]);let C=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const O=await x.request({method:"eth_chainId"});C=sA(O)}const k={domain:_.host,address:E,statement:v,uri:_.href,version:"1",chainId:C,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=iA(k),b=await x.request({method:"personal_sign",params:[oA(f),E]})}try{const{data:m,error:y}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:cr});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new eo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(Z(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var r,n,s,o,i,a,c,u,d,h,g,f;let b,m;if("message"in t)b=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:w,options:x}=t;let _;if(ct())if(typeof v=="object")_=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:y,error:v}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:hs(m)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:cr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new eo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Z(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await ts(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:cr});if(await dn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new eo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Z(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cr}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new eo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await to(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Sl("You must provide either an email or phone number.")}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:cr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await to(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:J2})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new lr;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Sl("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ts(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=pd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=K2(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wn})})}catch(r){if(Z(r))return C2(r)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new lr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await to(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:wn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=fd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new lr;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ct())throw new El("No browser detected.");if(t.error||t.error_description||t.error_code)throw new El(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fv("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new El("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let g=d+h;c&&(g=parseInt(c));const f=g-d;f*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const b=g-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const v={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:g,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(E2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=A2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await to(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Z(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:h,error:g}=o;if(g)throw g;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:u,nonce:d}=t,h=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:cr}),{data:g,error:f}=h;return f?{data:{user:null,session:null},error:f}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new eo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:f})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M2(async s=>(s>0&&await $2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&hd(o)&&Date.now()+i-n<co})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ts(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await uo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:pd()}else if(s&&!s.user&&!s.user){const i=await ts(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await dn(this.storage,this.storageKey+"-user"),await uo(this.storage,this.storageKey,s)):s.user=pd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${dd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),hd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new lr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Z(o)){const i={data:null,error:o};return hd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=yv(s);await uo(this.storage,this.storageKey,o)}else{const s=yv(r);await uo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${co}ms, refresh threshold is ${Hh} ticks`),s<=Hh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof s1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await to(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fA(t.webauthn.credential_response):pA(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dA(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hA(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new lr}})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new lr};const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new lr};const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+_2>s)return n;const{data:o,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return{data:null,error:b};n=f.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=fd(n);r!=null&&r.allowExpired||W2(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:s,signature:i},error:null}}const d=q2(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,O2(`${a}.${c}`)))throw new Qh("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}Ca.nextInstanceID=0;const SA=Ca;class EA extends SA{constructor(t){super(t)}}class CA{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const a=v2(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:c2,realtime:d2,auth:Object.assign(Object.assign({},u2),{storageKey:c}),global:l2},d=g2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=p2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yR(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new o2(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new uR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:c,debug:u},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EA({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jA=(e,t,r)=>new CA(e,t,r);function kA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NA="https://sseafesutfqctttpefia.supabase.co",PA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzZWFmZXN1dGZxY3R0dHBlZmlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMjc0OTQsImV4cCI6MjA3ODgwMzQ5NH0.hqB6tXE08Ku-0JHe5O81kmsXkebIT5jKrBrq6CVZqd4",H=jA(NA,PA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ie=p.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ie.displayName="Input";var TA="Label",a1=p.forwardRef((e,t)=>l.jsx(ee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));a1.displayName=TA;var l1=a1;const OA=Yc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=p.forwardRef(({className:e,...t},r)=>l.jsx(l1,{ref:r,className:te(OA(),e),...t}));re.displayName=l1.displayName;const RA=()=>{const e=rr(),[t,r]=p.useState(!0),[n,s]=p.useState(""),[o,i]=p.useState(""),[a,c]=p.useState(""),[u,d]=p.useState(""),[h,g]=p.useState(!1);p.useEffect(()=>{H.auth.getSession().then(({data:{session:b}})=>{b&&e("/dashboard")})},[e]);const f=async b=>{b.preventDefault(),g(!0);try{if(t){const{error:m}=await H.auth.signInWithPassword({email:n,password:o});if(m)throw m;z.success("Logged in successfully!"),e("/dashboard")}else{const{data:m,error:y}=await H.from("companies").select("id").eq("domain",u).maybeSingle();if(y)throw y;if(m)throw new Error("A company with this domain already exists. Please ask an admin for an invite.");{const{error:v}=await H.auth.signUp({email:n,password:o,options:{emailRedirectTo:`${window.location.origin}/duck-inventory-systems/dashboard`,data:{company_name:a,company_domain:u}}});if(v)throw v;z.success("Account created! You are the admin. You can now log in."),r(!0)}}}catch(m){z.error(m.message||"An error occurred")}finally{g(!1)}};return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-primary/80",children:l.jsx(ii,{className:"h-8 w-8 text-primary-foreground"})}),l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"DuckInventory"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"CPG Inventory Management"})]}),l.jsxs(Ae,{className:"bg-card border-border",children:[l.jsxs(Qt,{children:[l.jsx(Yt,{children:t?"Welcome Back":"Create Account"}),l.jsx(_s,{children:t?"Sign in to manage your inventory":"Sign up to get started with DuckInventory"})]}),l.jsxs(Be,{children:[l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"email",children:"Email"}),l.jsx(ie,{id:"email",type:"email",placeholder:"you@company.com",value:n,onChange:b=>s(b.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"password",children:"Password"}),l.jsx(ie,{id:"password",type:"password",placeholder:"",value:o,onChange:b=>i(b.target.value),required:!0,minLength:6})]}),!t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"companyName",children:"Company Name"}),l.jsx(ie,{id:"companyName",type:"text",placeholder:"Acme Corp",value:a,onChange:b=>c(b.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"companyDomain",children:"Company Domain"}),l.jsx(ie,{id:"companyDomain",type:"text",placeholder:"acme.com",value:u,onChange:b=>d(b.target.value),required:!0})]})]}),l.jsx(he,{type:"submit",className:"w-full",disabled:h,children:h?"Loading...":t?"Sign In":"Sign Up"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>r(!t),className:"text-sm text-primary hover:underline",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-muted-foreground hover:text-foreground",children:"Back to home"})})]})]})]})})},c1=p.createContext(void 0),Et=()=>{const e=p.useContext(c1);if(!e)throw new Error("useBranding must be used inside BrandingProvider");return e},AA=({children:e})=>{const[t,r]=p.useState("#800000"),[n,s]=p.useState("#D3AF37"),o=(c,u)=>{const d=document.documentElement,h=i(c),g=i(u);d.style.setProperty("--primary",h),d.style.setProperty("--accent",g),d.style.setProperty("--ring",g),d.style.setProperty("--company-primary",c),d.style.setProperty("--company-accent",u)};function i(c){c=c.replace(/^#/,""),c.length===3&&(c=c.split("").map(v=>v+v).join(""));let u=parseInt(c.substring(0,2),16)/255,d=parseInt(c.substring(2,4),16)/255,h=parseInt(c.substring(4,6),16)/255;const g=Math.max(u,d,h),f=Math.min(u,d,h);let b=0,m=0,y=(g+f)/2;if(g!==f){const v=g-f;switch(m=y>.5?v/(2-g-f):v/(g+f),g){case u:b=(d-h)/v+(d<h?6:0);break;case d:b=(h-u)/v+2;break;case h:b=(u-d)/v+4;break}b/=6}return b=Math.round(b*360),m=Math.round(m*100),y=Math.round(y*100),`${b} ${m}% ${y}%`}const a=async()=>{try{const{data:{user:c}}=await H.auth.getUser();if(!c)return;const{data:u}=await H.from("profiles").select("company_id").eq("id",c.id).maybeSingle();if(!(u!=null&&u.company_id))return;const{data:d}=await H.from("companies").select("primary_color, accent_color").eq("id",u.company_id).maybeSingle();d&&(r(d.primary_color),s(d.accent_color),o(d.primary_color,d.accent_color))}catch(c){console.error("Branding load failed",c)}};return p.useEffect(()=>{a()},[]),p.useEffect(()=>{o(t,n)},[t,n]),l.jsx(c1.Provider,{value:{primaryColor:t,accentColor:n,setPrimaryColor:r,setAccentColor:s,reloadBranding:a},children:e})},IA=({totalItems:e,rawMaterials:t,finishedProducts:r,lowStock:n})=>{const{primaryColor:s,accentColor:o}=Et(),i=[{title:"Total Items",value:e,icon:ii,description:"Active inventory items"},{title:"Raw Materials",value:t,icon:mk,description:"Ingredients & components"},{title:"Finished Products",value:r,icon:Jc,description:"Ready for distribution"},{title:"Low Stock Alerts",value:n,icon:Rk,description:"Items need reordering"}],a=[s,o,s,o],c=[`linear-gradient(to br, ${s}, ${o})`,`linear-gradient(to br, ${o}, ${s})`,`linear-gradient(to br, ${s}, ${o})`,`linear-gradient(to br, ${o}, ${s})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:i.map((u,d)=>l.jsx(Ae,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${a[d]}`},children:l.jsxs(Be,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:u.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${a[d]})`},children:u.value}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.description})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:c[d],opacity:.1},children:l.jsx(u.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:c[d]}})]})},u.title))})},zs=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));zs.displayName="Table";const Vs=p.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));Vs.displayName="TableHeader";const Ws=p.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));Ws.displayName="TableBody";const DA=p.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));DA.displayName="TableFooter";const at=p.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));at.displayName="TableRow";const de=p.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));de.displayName="TableHead";const oe=p.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));oe.displayName="TableCell";const $A=p.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));$A.displayName="TableCaption";const MA=Yc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,...r}){return l.jsx("div",{className:te(MA({variant:t}),e),...r})}const Cl=({items:e,onEdit:t,onDelete:r})=>{const{primaryColor:n,accentColor:s}=Et(),[o,i]=p.useState(""),[a,c]=p.useState([]),[u,d]=p.useState(!0);p.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:m,error:y}=await H.from("shipments").select(`
          id,
          status,
          orders!shipments_order_id_fkey (
            order_items (
              item_name,
              quantity
            )
          )
        `);if(y)throw y;const v=(m||[]).map(w=>{var x,_;return{id:w.id,status:w.status,items:((_=(x=w.orders)==null?void 0:x.order_items)==null?void 0:_.map(S=>({itemName:S.item_name,quantity:S.quantity})))||[]}});c(v)}catch(m){console.error("Error fetching shipments:",m),z.error("Failed to load shipment data for calculations")}finally{d(!1)}},g=m=>{let y=m.quantity;return a.forEach(v=>{v.status==="scheduled"&&v.items&&v.items.filter(x=>x.itemName.toLowerCase()===m.name.toLowerCase()).forEach(x=>{y+=x.quantity})}),y},f=e.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())),b=(m,y)=>m===0?{label:"Out of Stock",variant:"destructive"}:m<=y?{label:"Low Stock",variant:"warning"}:{label:"In Stock",variant:"success"};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Yw,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground",style:{color:n}}),l.jsx(ie,{placeholder:"Search inventory...",value:o,onChange:m=>i(m.target.value),className:"pl-9"})]})}),l.jsx("div",{className:"rounded-lg border border-border bg-card shadow-[var(--shadow-soft)]",children:l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{className:"hover:bg-transparent border-border",children:[l.jsx(de,{children:"Item Name"}),l.jsx(de,{children:"Category"}),l.jsx(de,{children:"Available Qty"}),l.jsx(de,{className:"bg-muted/30",children:"Physical Inv."})," ",l.jsx(de,{children:"Price"}),l.jsx(de,{children:"Status"}),l.jsx(de,{children:"Last Updated"}),l.jsx(de,{className:"text-right",children:"Actions"})]})}),l.jsx(Ws,{children:f.length===0?l.jsx(at,{children:l.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground h-32",children:"No items found"})}):f.map(m=>{const y=b(m.quantity,m.reorderLevel),v=g(m);return l.jsxs(at,{className:"border-border",children:[l.jsx(oe,{className:"font-medium",children:m.name}),l.jsx(oe,{children:m.category==="raw"?l.jsx(Qe,{className:"text-primary-foreground",style:{backgroundColor:s},children:"Raw Material"}):l.jsx(Qe,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Finished Product"})}),l.jsxs(oe,{children:[m.quantity," ",m.unit]}),l.jsx(oe,{className:"bg-muted/30 font-semibold",children:u?l.jsx("span",{className:"text-muted-foreground text-xs",children:"Calc..."}):`${v} ${m.unit}`}),l.jsxs(oe,{children:["$",m.price.toFixed(2)]}),l.jsx(oe,{children:l.jsx(Qe,{variant:y.variant,children:y.label})}),l.jsx(oe,{className:"text-muted-foreground",children:m.lastUpdated}),l.jsx(oe,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(m),className:"h-8 w-8",children:l.jsx(Ok,{className:"h-4 w-4",style:{color:n}})}),l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>r(m.id),className:"h-8 w-8 text-destructive hover:text-destructive",children:l.jsx(ai,{className:"h-4 w-4"})})]})})]},m.id)})})]})})]})};var gd="focusScope.autoFocusOnMount",vd="focusScope.autoFocusOnUnmount",Cv={bubbles:!1,cancelable:!0},LA="FocusScope",cu=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=p.useState(null),u=Zt(s),d=Zt(o),h=p.useRef(null),g=be(t,m=>c(m)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(x){if(f.paused||!a)return;const _=x.target;a.contains(_)?h.current=_:pn(h.current,{select:!0})},y=function(x){if(f.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||pn(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&pn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[n,a,f.paused]),p.useEffect(()=>{if(a){kv.add(f);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(gd,Cv);a.addEventListener(gd,u),a.dispatchEvent(v),v.defaultPrevented||(FA(WA(u1(a)),{select:!0}),document.activeElement===m&&pn(a))}return()=>{a.removeEventListener(gd,u),setTimeout(()=>{const v=new CustomEvent(vd,Cv);a.addEventListener(vd,d),a.dispatchEvent(v),v.defaultPrevented||pn(m??document.body,{select:!0}),a.removeEventListener(vd,d),kv.remove(f)},0)}}},[a,u,d,f]);const b=p.useCallback(m=>{if(!r&&!n||f.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const w=m.currentTarget,[x,_]=UA(w);x&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&pn(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&pn(_,{select:!0})):v===w&&m.preventDefault()}},[r,n,f.paused]);return l.jsx(ee.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});cu.displayName=LA;function FA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pn(n,{select:t}),document.activeElement!==r)return}function UA(e){const t=u1(e),r=jv(t,e),n=jv(t.reverse(),e);return[r,n]}function u1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jv(e,t){for(const r of e)if(!BA(r,{upTo:t}))return r}function BA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zA(e){return e instanceof HTMLInputElement&&"select"in e}function pn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zA(e)&&t&&e.select()}}var kv=VA();function VA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Nv(e,t),e.unshift(t)},remove(t){var r;e=Nv(e,t),(r=e[0])==null||r.resume()}}}function Nv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function WA(e){return e.filter(t=>t.tagName!=="A")}var yd=0;function Dp(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Pv()),document.body.insertAdjacentElement("beforeend",e[1]??Pv()),yd++,()=>{yd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yd--}},[])}function Pv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hl="right-scroll-bar-position",Kl="width-before-scroll-bar",qA="with-scroll-bars-hidden",HA="--removed-body-scroll-bar-size";function wd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KA(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var GA=typeof window<"u"?p.useLayoutEffect:p.useEffect,Tv=new WeakMap;function QA(e,t){var r=KA(null,function(n){return e.forEach(function(s){return wd(s,n)})});return GA(function(){var n=Tv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||wd(a,null)}),o.forEach(function(a){s.has(a)||wd(a,i)})}Tv.set(r,e)},[e]),r}function YA(e){return e}function JA(e,t){t===void 0&&(t=YA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function XA(e){e===void 0&&(e={});var t=JA(null);return t.options=Wt({async:!0,ssr:!1},e),t}var d1=function(e){var t=e.sideCar,r=qn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Wt({},r))};d1.isSideCarExport=!0;function ZA(e,t){return e.useMedium(t),d1}var h1=XA(),xd=function(){},uu=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:xd,onWheelCapture:xd,onTouchMoveCapture:xd}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,g=e.sideCar,f=e.noRelative,b=e.noIsolation,m=e.inert,y=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,x=e.gapMode,_=qn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,E=QA([r,t]),C=Wt(Wt({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:h1,removeScrollBar:u,shards:h,noRelative:f,noIsolation:b,inert:m,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:x}),i?p.cloneElement(p.Children.only(a),Wt(Wt({},C),{ref:E})):p.createElement(w,Wt({},C,{className:c,ref:E}),a))});uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uu.classNames={fullWidth:Kl,zeroRight:Hl};var eI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eI();return t&&e.setAttribute("nonce",t),e}function rI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tI())&&(rI(t,r),nI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oI=function(){var e=sI();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},f1=function(){var e=oI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},iI={left:0,top:0,right:0,gap:0},bd=function(e){return parseInt(e||"",10)||0},aI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bd(r),bd(n),bd(s)]},lI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iI;var t=aI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cI=f1(),Do="data-scroll-locked",uI=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Kl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(HA,": ").concat(a,`px;
  }
`)},Ov=function(){var e=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(e)?e:0},dI=function(){p.useEffect(function(){return document.body.setAttribute(Do,(Ov()+1).toString()),function(){var e=Ov()-1;e<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,e.toString())}},[])},hI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;dI();var o=p.useMemo(function(){return lI(s)},[s]);return p.createElement(cI,{styles:uI(o,!t,s,r?"":"!important")})},Yh=!1;if(typeof window<"u")try{var jl=Object.defineProperty({},"passive",{get:function(){return Yh=!0,!0}});window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Yh=!1}var oo=Yh?{passive:!1}:!1,fI=function(e){return e.tagName==="TEXTAREA"},p1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!fI(e)&&r[t]==="visible")},pI=function(e){return p1(e,"overflowY")},mI=function(e){return p1(e,"overflowX")},Rv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=m1(e,n);if(s){var o=g1(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m1=function(e,t){return e==="v"?pI(t):mI(t)},g1=function(e,t){return e==="v"?gI(t):vI(t)},yI=function(e,t){return e==="h"&&t==="rtl"?-1:1},wI=function(e,t,r,n,s){var o=yI(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,h=0,g=0;do{if(!a)break;var f=g1(e,a),b=f[0],m=f[1],y=f[2],v=m-y-o*b;(b||v)&&m1(e,a)&&(h+=v,g+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Av=function(e){return[e.deltaX,e.deltaY]},Iv=function(e){return e&&"current"in e?e.current:e},xI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_I=0,io=[];function SI(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(_I++)[0],o=p.useState(f1)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=jp([e.lockRef.current],(e.shards||[]).map(Iv),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var v=kl(m),w=r.current,x="deltaX"in m?m.deltaX:w[0]-v[0],_="deltaY"in m?m.deltaY:w[1]-v[1],S,E=m.target,C=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var k=Rv(C,E);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=Rv(C,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=S),!S)return!0;var O=n.current||S;return wI(O,y,m,O==="h"?x:_,!0)},[]),c=p.useCallback(function(m){var y=m;if(!(!io.length||io[io.length-1]!==o)){var v="deltaY"in y?Av(y):kl(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&xI(S.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(i.current.shards||[]).map(Iv).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=x.length>0?a(y,x[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(m,y,v,w){var x={name:m,delta:y,target:v,should:w,shadowParent:EI(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=p.useCallback(function(m){r.current=kl(m),n.current=void 0},[]),h=p.useCallback(function(m){u(m.type,Av(m),m.target,a(m,e.lockRef.current))},[]),g=p.useCallback(function(m){u(m.type,kl(m),m.target,a(m,e.lockRef.current))},[]);p.useEffect(function(){return io.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,oo),document.addEventListener("touchmove",c,oo),document.addEventListener("touchstart",d,oo),function(){io=io.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,oo),document.removeEventListener("touchmove",c,oo),document.removeEventListener("touchstart",d,oo)}},[]);var f=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(o,{styles:bI(s)}):null,f?p.createElement(hI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function EI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CI=ZA(h1,SI);var du=p.forwardRef(function(e,t){return p.createElement(uu,Wt({},e,{ref:t,sideCar:CI}))});du.classNames=uu.classNames;var jI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ao=new WeakMap,Nl=new WeakMap,Pl={},_d=0,v1=function(e){return e&&(e.host||v1(e.parentNode))},kI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=v1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},NI=function(e,t,r,n){var s=kI(t,Array.isArray(e)?e:[e]);Pl[r]||(Pl[r]=new WeakMap);var o=Pl[r],i=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))d(g);else try{var f=g.getAttribute(n),b=f!==null&&f!=="false",m=(ao.get(g)||0)+1,y=(o.get(g)||0)+1;ao.set(g,m),o.set(g,y),i.push(g),m===1&&b&&Nl.set(g,!0),y===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),a.clear(),_d++,function(){i.forEach(function(h){var g=ao.get(h)-1,f=o.get(h)-1;ao.set(h,g),o.set(h,f),g||(Nl.has(h)||h.removeAttribute(n),Nl.delete(h)),f||h.removeAttribute(r)}),_d--,_d||(ao=new WeakMap,ao=new WeakMap,Nl=new WeakMap,Pl={})}},$p=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=jI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),NI(n,s,r,"aria-hidden")):function(){return null}},hu="Dialog",[y1,yL]=Er(hu),[PI,Cr]=y1(hu),w1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),c=p.useRef(null),[u,d]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:hu});return l.jsx(PI,{scope:t,triggerRef:a,contentRef:c,contentId:mt(),titleId:mt(),descriptionId:mt(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:r})};w1.displayName=hu;var x1="DialogTrigger",b1=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(x1,r),o=be(t,s.triggerRef);return l.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fp(s.open),...n,ref:o,onClick:J(e.onClick,s.onOpenToggle)})});b1.displayName=x1;var Mp="DialogPortal",[TI,_1]=y1(Mp,{forceMount:void 0}),S1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Cr(Mp,t);return l.jsx(TI,{scope:t,forceMount:r,children:p.Children.map(n,i=>l.jsx(Lr,{present:r||o.open,children:l.jsx(Da,{asChild:!0,container:s,children:i})}))})};S1.displayName=Mp;var Nc="DialogOverlay",E1=p.forwardRef((e,t)=>{const r=_1(Nc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(Nc,e.__scopeDialog);return o.modal?l.jsx(Lr,{present:n||o.open,children:l.jsx(RI,{...s,ref:t})}):null});E1.displayName=Nc;var OI=Ps("DialogOverlay.RemoveScroll"),RI=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(Nc,r);return l.jsx(du,{as:OI,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ee.div,{"data-state":Fp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Rs="DialogContent",C1=p.forwardRef((e,t)=>{const r=_1(Rs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(Rs,e.__scopeDialog);return l.jsx(Lr,{present:n||o.open,children:o.modal?l.jsx(AI,{...s,ref:t}):l.jsx(II,{...s,ref:t})})});C1.displayName=Rs;var AI=p.forwardRef((e,t)=>{const r=Cr(Rs,e.__scopeDialog),n=p.useRef(null),s=be(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return $p(o)},[]),l.jsx(j1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:J(e.onFocusOutside,o=>o.preventDefault())})}),II=p.forwardRef((e,t)=>{const r=Cr(Rs,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(j1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),j1=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Cr(Rs,r),c=p.useRef(null),u=be(t,c);return Dp(),l.jsxs(l.Fragment,{children:[l.jsx(cu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(oi,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Fp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(DI,{titleId:a.titleId}),l.jsx(MI,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Lp="DialogTitle",k1=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(Lp,r);return l.jsx(ee.h2,{id:s.titleId,...n,ref:t})});k1.displayName=Lp;var N1="DialogDescription",P1=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(N1,r);return l.jsx(ee.p,{id:s.descriptionId,...n,ref:t})});P1.displayName=N1;var T1="DialogClose",O1=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(T1,r);return l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});O1.displayName=T1;function Fp(e){return e?"open":"closed"}var R1="DialogTitleWarning",[wL,A1]=bj(R1,{contentName:Rs,titleName:Lp,docsSlug:"dialog"}),DI=({titleId:e})=>{const t=A1(R1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$I="DialogDescriptionWarning",MI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A1($I).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},I1=w1,LI=b1,D1=S1,Up=E1,Bp=C1,$1=k1,M1=P1,FI=O1;const gi=I1,vi=LI,UI=D1,L1=p.forwardRef(({className:e,...t},r)=>l.jsx(Up,{ref:r,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L1.displayName=Up.displayName;const qs=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(UI,{children:[l.jsx(L1,{}),l.jsxs(Bp,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(FI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ap,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qs.displayName=Bp.displayName;const Hs=({className:e,...t})=>l.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hs.displayName="DialogHeader";const Ks=p.forwardRef(({className:e,...t},r)=>l.jsx($1,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));Ks.displayName=$1.displayName;const fu=p.forwardRef(({className:e,...t},r)=>l.jsx(M1,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));fu.displayName=M1.displayName;var pu="Popover",[F1,xL]=Er(pu,[di]),za=di(),[BI,Kn]=F1(pu),U1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=za(t),c=p.useRef(null),[u,d]=p.useState(!1),[h,g]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:pu});return l.jsx(Px,{...a,children:l.jsx(BI,{scope:t,contentId:mt(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(f=>!f),[g]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:i,children:r})})};U1.displayName=pu;var B1="PopoverAnchor",zI=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(B1,r),o=za(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(tu,{...o,...n,ref:t})});zI.displayName=B1;var z1="PopoverTrigger",V1=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(z1,r),o=za(r),i=be(t,s.triggerRef),a=l.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":G1(s.open),...n,ref:i,onClick:J(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(tu,{asChild:!0,...o,children:a})});V1.displayName=z1;var zp="PopoverPortal",[VI,WI]=F1(zp,{forceMount:void 0}),W1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Kn(zp,t);return l.jsx(VI,{scope:t,forceMount:r,children:l.jsx(Lr,{present:r||o.open,children:l.jsx(Da,{asChild:!0,container:s,children:n})})})};W1.displayName=zp;var ti="PopoverContent",q1=p.forwardRef((e,t)=>{const r=WI(ti,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Kn(ti,e.__scopePopover);return l.jsx(Lr,{present:n||o.open,children:o.modal?l.jsx(HI,{...s,ref:t}):l.jsx(KI,{...s,ref:t})})});q1.displayName=ti;var qI=Ps("PopoverContent.RemoveScroll"),HI=p.forwardRef((e,t)=>{const r=Kn(ti,e.__scopePopover),n=p.useRef(null),s=be(t,n),o=p.useRef(!1);return p.useEffect(()=>{const i=n.current;if(i)return $p(i)},[]),l.jsx(du,{as:qI,allowPinchZoom:!0,children:l.jsx(H1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:J(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),KI=p.forwardRef((e,t)=>{const r=Kn(ti,e.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(H1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),H1=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,g=Kn(ti,r),f=za(r);return Dp(),l.jsx(cu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(oi,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(wp,{"data-state":G1(g.open),role:"dialog",id:g.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K1="PopoverClose",GI=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kn(K1,r);return l.jsx(ee.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});GI.displayName=K1;var QI="PopoverArrow",YI=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=za(r);return l.jsx(xp,{...s,...n,ref:t})});YI.displayName=QI;function G1(e){return e?"open":"closed"}var JI=U1,XI=V1,ZI=W1,Q1=q1;const eD=JI,tD=XI,Y1=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(ZI,{children:l.jsx(Q1,{ref:s,align:t,sideOffset:r,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Y1.displayName=Q1.displayName;var Dv=1,rD=.9,nD=.8,sD=.17,Sd=.1,Ed=.999,oD=.9999,iD=.99,aD=/[\\\/_+.#"@\[\(\{&]/,lD=/[\\\/_+.#"@\[\(\{&]/g,cD=/[\s-]/,J1=/[\s-]/g;function Jh(e,t,r,n,s,o,i){if(o===t.length)return s===e.length?Dv:iD;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),u=r.indexOf(c,s),d=0,h,g,f,b;u>=0;)h=Jh(e,t,r,n,u+1,o+1,i),h>d&&(u===s?h*=Dv:aD.test(e.charAt(u-1))?(h*=nD,f=e.slice(s,u-1).match(lD),f&&s>0&&(h*=Math.pow(Ed,f.length))):cD.test(e.charAt(u-1))?(h*=rD,b=e.slice(s,u-1).match(J1),b&&s>0&&(h*=Math.pow(Ed,b.length))):(h*=sD,s>0&&(h*=Math.pow(Ed,u-s))),e.charAt(u)!==t.charAt(o)&&(h*=oD)),(h<Sd&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(g=Jh(e,t,r,n,u+1,o+2,i),g*Sd>h&&(h=g*Sd)),h>d&&(d=h),u=r.indexOf(c,u+1);return i[a]=d,d}function $v(e){return e.toLowerCase().replace(J1," ")}function uD(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Jh(e,t,$v(e),$v(t),0,0,{})}var Oi='[cmdk-group=""]',Cd='[cmdk-group-items=""]',dD='[cmdk-group-heading=""]',X1='[cmdk-item=""]',Mv=`${X1}:not([aria-disabled="true"])`,Xh="cmdk-item-select",ho="data-value",hD=(e,t,r)=>uD(e,t,r),Z1=p.createContext(void 0),Va=()=>p.useContext(Z1),e_=p.createContext(void 0),Vp=()=>p.useContext(e_),t_=p.createContext(void 0),r_=p.forwardRef((e,t)=>{let r=fo(()=>{var N,D;return{search:"",value:(D=(N=e.value)!=null?N:e.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=fo(()=>new Set),s=fo(()=>new Map),o=fo(()=>new Map),i=fo(()=>new Set),a=n_(e),{label:c,children:u,value:d,onValueChange:h,filter:g,shouldFilter:f,loop:b,disablePointerSelection:m=!1,vimBindings:y=!0,...v}=e,w=mt(),x=mt(),_=mt(),S=p.useRef(null),E=SD();As(()=>{if(d!==void 0){let N=d.trim();r.current.value=N,C.emit()}},[d]),As(()=>{E(6,X)},[]);let C=p.useMemo(()=>({subscribe:N=>(i.current.add(N),()=>i.current.delete(N)),snapshot:()=>r.current,setState:(N,D,U)=>{var q,ne,$,ae;if(!Object.is(r.current[N],D)){if(r.current[N]=D,N==="search")B(),A(),E(1,K);else if(N==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let pe=document.getElementById(_);pe?pe.focus():(q=document.getElementById(w))==null||q.focus()}if(E(7,()=>{var pe;r.current.selectedItemId=(pe=M())==null?void 0:pe.id,C.emit()}),U||E(5,X),((ne=a.current)==null?void 0:ne.value)!==void 0){let pe=D??"";(ae=($=a.current).onValueChange)==null||ae.call($,pe);return}}C.emit()}},emit:()=>{i.current.forEach(N=>N())}}),[]),k=p.useMemo(()=>({value:(N,D,U)=>{var q;D!==((q=o.current.get(N))==null?void 0:q.value)&&(o.current.set(N,{value:D,keywords:U}),r.current.filtered.items.set(N,O(D,U)),E(2,()=>{A(),C.emit()}))},item:(N,D)=>(n.current.add(N),D&&(s.current.has(D)?s.current.get(D).add(N):s.current.set(D,new Set([N]))),E(3,()=>{B(),A(),r.current.value||K(),C.emit()}),()=>{o.current.delete(N),n.current.delete(N),r.current.filtered.items.delete(N);let U=M();E(4,()=>{B(),(U==null?void 0:U.getAttribute("id"))===N&&K(),C.emit()})}),group:N=>(s.current.has(N)||s.current.set(N,new Set),()=>{o.current.delete(N),s.current.delete(N)}),filter:()=>a.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:w,inputId:_,labelId:x,listInnerRef:S}),[]);function O(N,D){var U,q;let ne=(q=(U=a.current)==null?void 0:U.filter)!=null?q:hD;return N?ne(N,r.current.search,D):0}function A(){if(!r.current.search||a.current.shouldFilter===!1)return;let N=r.current.filtered.items,D=[];r.current.filtered.groups.forEach(q=>{let ne=s.current.get(q),$=0;ne.forEach(ae=>{let pe=N.get(ae);$=Math.max(pe,$)}),D.push([q,$])});let U=S.current;Y().sort((q,ne)=>{var $,ae;let pe=q.getAttribute("id"),ge=ne.getAttribute("id");return(($=N.get(ge))!=null?$:0)-((ae=N.get(pe))!=null?ae:0)}).forEach(q=>{let ne=q.closest(Cd);ne?ne.appendChild(q.parentElement===ne?q:q.closest(`${Cd} > *`)):U.appendChild(q.parentElement===U?q:q.closest(`${Cd} > *`))}),D.sort((q,ne)=>ne[1]-q[1]).forEach(q=>{var ne;let $=(ne=S.current)==null?void 0:ne.querySelector(`${Oi}[${ho}="${encodeURIComponent(q[0])}"]`);$==null||$.parentElement.appendChild($)})}function K(){let N=Y().find(U=>U.getAttribute("aria-disabled")!=="true"),D=N==null?void 0:N.getAttribute(ho);C.setState("value",D||void 0)}function B(){var N,D,U,q;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let $ of n.current){let ae=(D=(N=o.current.get($))==null?void 0:N.value)!=null?D:"",pe=(q=(U=o.current.get($))==null?void 0:U.keywords)!=null?q:[],ge=O(ae,pe);r.current.filtered.items.set($,ge),ge>0&&ne++}for(let[$,ae]of s.current)for(let pe of ae)if(r.current.filtered.items.get(pe)>0){r.current.filtered.groups.add($);break}r.current.filtered.count=ne}function X(){var N,D,U;let q=M();q&&(((N=q.parentElement)==null?void 0:N.firstChild)===q&&((U=(D=q.closest(Oi))==null?void 0:D.querySelector(dD))==null||U.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function M(){var N;return(N=S.current)==null?void 0:N.querySelector(`${X1}[aria-selected="true"]`)}function Y(){var N;return Array.from(((N=S.current)==null?void 0:N.querySelectorAll(Mv))||[])}function T(N){let D=Y()[N];D&&C.setState("value",D.getAttribute(ho))}function W(N){var D;let U=M(),q=Y(),ne=q.findIndex(ae=>ae===U),$=q[ne+N];(D=a.current)!=null&&D.loop&&($=ne+N<0?q[q.length-1]:ne+N===q.length?q[0]:q[ne+N]),$&&C.setState("value",$.getAttribute(ho))}function P(N){let D=M(),U=D==null?void 0:D.closest(Oi),q;for(;U&&!q;)U=N>0?bD(U,Oi):_D(U,Oi),q=U==null?void 0:U.querySelector(Mv);q?C.setState("value",q.getAttribute(ho)):W(N)}let j=()=>T(Y().length-1),I=N=>{N.preventDefault(),N.metaKey?j():N.altKey?P(1):W(1)},F=N=>{N.preventDefault(),N.metaKey?T(0):N.altKey?P(-1):W(-1)};return p.createElement(ee.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:N=>{var D;(D=v.onKeyDown)==null||D.call(v,N);let U=N.nativeEvent.isComposing||N.keyCode===229;if(!(N.defaultPrevented||U))switch(N.key){case"n":case"j":{y&&N.ctrlKey&&I(N);break}case"ArrowDown":{I(N);break}case"p":case"k":{y&&N.ctrlKey&&F(N);break}case"ArrowUp":{F(N);break}case"Home":{N.preventDefault(),T(0);break}case"End":{N.preventDefault(),j();break}case"Enter":{N.preventDefault();let q=M();if(q){let ne=new Event(Xh);q.dispatchEvent(ne)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:CD},c),mu(e,N=>p.createElement(e_.Provider,{value:C},p.createElement(Z1.Provider,{value:k},N))))}),fD=p.forwardRef((e,t)=>{var r,n;let s=mt(),o=p.useRef(null),i=p.useContext(t_),a=Va(),c=n_(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;As(()=>{if(!u)return a.item(s,i==null?void 0:i.id)},[u]);let d=s_(s,o,[e.value,e.children,o],e.keywords),h=Vp(),g=Bn(E=>E.value&&E.value===d.current),f=Bn(E=>u||a.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);p.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(Xh,b),()=>E.removeEventListener(Xh,b)},[f,e.onSelect,e.disabled]);function b(){var E,C;m(),(C=(E=c.current).onSelect)==null||C.call(E,d.current)}function m(){h.setState("value",d.current,!0)}if(!f)return null;let{disabled:y,value:v,onSelect:w,forceMount:x,keywords:_,...S}=e;return p.createElement(ee.div,{ref:Ns(o,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!g,"data-disabled":!!y,"data-selected":!!g,onPointerMove:y||a.getDisablePointerSelection()?void 0:m,onClick:y?void 0:b},e.children)}),pD=p.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,i=mt(),a=p.useRef(null),c=p.useRef(null),u=mt(),d=Va(),h=Bn(f=>s||d.filter()===!1?!0:f.search?f.filtered.groups.has(i):!0);As(()=>d.group(i),[]),s_(i,a,[e.value,e.heading,c]);let g=p.useMemo(()=>({id:i,forceMount:s}),[s]);return p.createElement(ee.div,{ref:Ns(a,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),mu(e,f=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},p.createElement(t_.Provider,{value:g},f))))}),mD=p.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=p.useRef(null),o=Bn(i=>!i.search);return!r&&!o?null:p.createElement(ee.div,{ref:Ns(s,t),...n,"cmdk-separator":"",role:"separator"})}),gD=p.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=Vp(),i=Bn(u=>u.search),a=Bn(u=>u.selectedItemId),c=Va();return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(ee.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":a,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),vD=p.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=p.useRef(null),i=p.useRef(null),a=Bn(u=>u.selectedItemId),c=Va();return p.useEffect(()=>{if(i.current&&o.current){let u=i.current,d=o.current,h,g=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=u.offsetHeight;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(h),g.unobserve(u)}}},[]),p.createElement(ee.div,{ref:Ns(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:c.listId},mu(e,u=>p.createElement("div",{ref:Ns(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),yD=p.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=e;return p.createElement(I1,{open:r,onOpenChange:n},p.createElement(D1,{container:i},p.createElement(Up,{"cmdk-overlay":"",className:s}),p.createElement(Bp,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(r_,{ref:t,...a}))))}),wD=p.forwardRef((e,t)=>Bn(r=>r.filtered.count===0)?p.createElement(ee.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),xD=p.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return p.createElement(ee.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},mu(e,i=>p.createElement("div",{"aria-hidden":!0},i)))}),Ct=Object.assign(r_,{List:vD,Item:fD,Input:gD,Group:pD,Separator:mD,Dialog:yD,Empty:wD,Loading:xD});function bD(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function _D(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function n_(e){let t=p.useRef(e);return As(()=>{t.current=e}),t}var As=typeof window>"u"?p.useEffect:p.useLayoutEffect;function fo(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Bn(e){let t=Vp(),r=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,r,r)}function s_(e,t,r,n=[]){let s=p.useRef(),o=Va();return As(()=>{var i;let a=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());o.value(e,a,c),(i=t.current)==null||i.setAttribute(ho,a),s.current=a}),s}var SD=()=>{let[e,t]=p.useState(),r=fo(()=>new Map);return As(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function ED(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function mu({asChild:e,children:t},r){return e&&p.isValidElement(t)?p.cloneElement(ED(t),{ref:t.ref},r(t.props.children)):r(t)}var CD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const o_=p.forwardRef(({className:e,...t},r)=>l.jsx(Ct,{ref:r,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));o_.displayName=Ct.displayName;const i_=p.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Yw,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Ct.Input,{ref:r,className:te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));i_.displayName=Ct.Input.displayName;const a_=p.forwardRef(({className:e,...t},r)=>l.jsx(Ct.List,{ref:r,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));a_.displayName=Ct.List.displayName;const l_=p.forwardRef((e,t)=>l.jsx(Ct.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));l_.displayName=Ct.Empty.displayName;const c_=p.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Group,{ref:r,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));c_.displayName=Ct.Group.displayName;const jD=p.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Separator,{ref:r,className:te("-mx-1 h-px bg-border",e),...t}));jD.displayName=Ct.Separator.displayName;const u_=p.forwardRef(({className:e,...t},r)=>l.jsx(Ct.Item,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));u_.displayName=Ct.Item.displayName;function Lv(e,[t,r]){return Math.min(r,Math.max(t,e))}var kD=p.createContext(void 0);function Wp(e){const t=p.useContext(kD);return e||t||"ltr"}function qp(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ND=[" ","Enter","ArrowUp","ArrowDown"],PD=[" ","Enter"],Is="Select",[gu,vu,TD]=tp(Is),[yi,bL]=Er(Is,[TD,di]),yu=di(),[OD,Gn]=yi(Is),[RD,AD]=yi(Is),d_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:g,required:f,form:b}=e,m=yu(t),[y,v]=p.useState(null),[w,x]=p.useState(null),[_,S]=p.useState(!1),E=Wp(u),[C,k]=Zr({prop:n,defaultProp:s??!1,onChange:o,caller:Is}),[O,A]=Zr({prop:i,defaultProp:a,onChange:c,caller:Is}),K=p.useRef(null),B=y?b||!!y.closest("form"):!0,[X,M]=p.useState(new Set),Y=Array.from(X).map(T=>T.props.value).join(";");return l.jsx(Px,{...m,children:l.jsxs(OD,{required:f,scope:t,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:mt(),value:O,onValueChange:A,open:C,onOpenChange:k,dir:E,triggerPointerDownPosRef:K,disabled:g,children:[l.jsx(gu.Provider,{scope:t,children:l.jsx(RD,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(T=>{M(W=>new Set(W).add(T))},[]),onNativeOptionRemove:p.useCallback(T=>{M(W=>{const P=new Set(W);return P.delete(T),P})},[]),children:r})}),B?l.jsxs(D_,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:T=>A(T.target.value),disabled:g,form:b,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(X)]},Y):null]})})};d_.displayName=Is;var h_="SelectTrigger",f_=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=yu(r),i=Gn(h_,r),a=i.disabled||n,c=be(t,i.onTriggerChange),u=vu(r),d=p.useRef("touch"),[h,g,f]=M_(m=>{const y=u().filter(x=>!x.disabled),v=y.find(x=>x.value===i.value),w=L_(y,m,v);w!==void 0&&i.onValueChange(w.value)}),b=m=>{a||(i.onOpenChange(!0),f()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(tu,{asChild:!0,...o,children:l.jsx(ee.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$_(i.value)?"":void 0,...s,ref:c,onClick:J(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&b(m)}),onPointerDown:J(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:J(s.onKeyDown,m=>{const y=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&g(m.key),!(y&&m.key===" ")&&ND.includes(m.key)&&(b(),m.preventDefault())})})})});f_.displayName=h_;var p_="SelectValue",m_=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=Gn(p_,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=be(t,c.onValueNodeChange);return et(()=>{u(d)},[u,d]),l.jsx(ee.span,{...a,ref:h,style:{pointerEvents:"none"},children:$_(c.value)?l.jsx(l.Fragment,{children:i}):o})});m_.displayName=p_;var ID="SelectIcon",g_=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ee.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});g_.displayName=ID;var DD="SelectPortal",v_=e=>l.jsx(Da,{asChild:!0,...e});v_.displayName=DD;var Ds="SelectContent",y_=p.forwardRef((e,t)=>{const r=Gn(Ds,e.__scopeSelect),[n,s]=p.useState();if(et(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Fs.createPortal(l.jsx(w_,{scope:e.__scopeSelect,children:l.jsx(gu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(x_,{...e,ref:t})});y_.displayName=Ds;var ur=10,[w_,Qn]=yi(Ds),$D="SelectContentImpl",MD=Ps("SelectContent.RemoveScroll"),x_=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:f,sticky:b,hideWhenDetached:m,avoidCollisions:y,...v}=e,w=Gn(Ds,r),[x,_]=p.useState(null),[S,E]=p.useState(null),C=be(t,$=>_($)),[k,O]=p.useState(null),[A,K]=p.useState(null),B=vu(r),[X,M]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(x)return $p(x)},[x]),Dp();const T=p.useCallback($=>{const[ae,...pe]=B().map(we=>we.ref.current),[ge]=pe.slice(-1),ve=document.activeElement;for(const we of $)if(we===ve||(we==null||we.scrollIntoView({block:"nearest"}),we===ae&&S&&(S.scrollTop=0),we===ge&&S&&(S.scrollTop=S.scrollHeight),we==null||we.focus(),document.activeElement!==ve))return},[B,S]),W=p.useCallback(()=>T([k,x]),[T,k,x]);p.useEffect(()=>{X&&W()},[X,W]);const{onOpenChange:P,triggerPointerDownPosRef:j}=w;p.useEffect(()=>{if(x){let $={x:0,y:0};const ae=ge=>{var ve,we;$={x:Math.abs(Math.round(ge.pageX)-(((ve=j.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((we=j.current)==null?void 0:we.y)??0))}},pe=ge=>{$.x<=10&&$.y<=10?ge.preventDefault():x.contains(ge.target)||P(!1),document.removeEventListener("pointermove",ae),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",pe,{capture:!0})}}},[x,P,j]),p.useEffect(()=>{const $=()=>P(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[P]);const[I,F]=M_($=>{const ae=B().filter(ve=>!ve.disabled),pe=ae.find(ve=>ve.ref.current===document.activeElement),ge=L_(ae,$,pe);ge&&setTimeout(()=>ge.ref.current.focus())}),N=p.useCallback(($,ae,pe)=>{const ge=!Y.current&&!pe;(w.value!==void 0&&w.value===ae||ge)&&(O($),ge&&(Y.current=!0))},[w.value]),D=p.useCallback(()=>x==null?void 0:x.focus(),[x]),U=p.useCallback(($,ae,pe)=>{const ge=!Y.current&&!pe;(w.value!==void 0&&w.value===ae||ge)&&K($)},[w.value]),q=n==="popper"?Zh:b_,ne=q===Zh?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:f,sticky:b,hideWhenDetached:m,avoidCollisions:y}:{};return l.jsx(w_,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:N,selectedItem:k,onItemLeave:D,itemTextRefCallback:U,focusSelectedItem:W,selectedItemText:A,position:n,isPositioned:X,searchRef:I,children:l.jsx(du,{as:MD,allowPinchZoom:!0,children:l.jsx(cu,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:J(s,$=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),$.preventDefault()}),children:l.jsx(oi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...v,...ne,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:J(v.onKeyDown,$=>{const ae=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!ae&&$.key.length===1&&F($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ge=B().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes($.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ve=$.target,we=ge.indexOf(ve);ge=ge.slice(we+1)}setTimeout(()=>T(ge)),$.preventDefault()}})})})})})})});x_.displayName=$D;var LD="SelectItemAlignedPosition",b_=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Gn(Ds,r),i=Qn(Ds,r),[a,c]=p.useState(null),[u,d]=p.useState(null),h=be(t,C=>d(C)),g=vu(r),f=p.useRef(!1),b=p.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=i,x=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&y&&v){const C=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(o.dir!=="rtl"){const ve=A.left-k.left,we=O.left-ve,tt=C.left-we,Lt=C.width+tt,Yn=Math.max(Lt,k.width),nn=window.innerWidth-ur,Jn=Lv(we,[ur,Math.max(ur,nn-Yn)]);a.style.minWidth=Lt+"px",a.style.left=Jn+"px"}else{const ve=k.right-A.right,we=window.innerWidth-O.right-ve,tt=window.innerWidth-C.right-we,Lt=C.width+tt,Yn=Math.max(Lt,k.width),nn=window.innerWidth-ur,Jn=Lv(we,[ur,Math.max(ur,nn-Yn)]);a.style.minWidth=Lt+"px",a.style.right=Jn+"px"}const K=g(),B=window.innerHeight-ur*2,X=m.scrollHeight,M=window.getComputedStyle(u),Y=parseInt(M.borderTopWidth,10),T=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),P=parseInt(M.paddingBottom,10),j=Y+T+X+P+W,I=Math.min(y.offsetHeight*5,j),F=window.getComputedStyle(m),N=parseInt(F.paddingTop,10),D=parseInt(F.paddingBottom,10),U=C.top+C.height/2-ur,q=B-U,ne=y.offsetHeight/2,$=y.offsetTop+ne,ae=Y+T+$,pe=j-ae;if(ae<=U){const ve=K.length>0&&y===K[K.length-1].ref.current;a.style.bottom="0px";const we=u.clientHeight-m.offsetTop-m.offsetHeight,tt=Math.max(q,ne+(ve?D:0)+we+W),Lt=ae+tt;a.style.height=Lt+"px"}else{const ve=K.length>0&&y===K[0].ref.current;a.style.top="0px";const tt=Math.max(U,Y+m.offsetTop+(ve?N:0)+ne)+pe;a.style.height=tt+"px",m.scrollTop=ae-U+m.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[g,o.trigger,o.valueNode,a,u,m,y,v,o.dir,n]);et(()=>x(),[x]);const[_,S]=p.useState();et(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(C=>{C&&b.current===!0&&(x(),w==null||w(),b.current=!1)},[x,w]);return l.jsx(UD,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(ee.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});b_.displayName=LD;var FD="SelectPopperPosition",Zh=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ur,...o}=e,i=yu(r);return l.jsx(wp,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zh.displayName=FD;var[UD,Hp]=yi(Ds,{}),ef="SelectViewport",__=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Qn(ef,r),i=Hp(ef,r),a=be(t,o.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(gu.Slot,{scope:r,children:l.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const b=window.innerHeight-ur*2,m=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(m,y);if(v<b){const w=v+f,x=Math.min(b,w),_=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});__.displayName=ef;var S_="SelectGroup",[BD,zD]=yi(S_),VD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mt();return l.jsx(BD,{scope:r,id:s,children:l.jsx(ee.div,{role:"group","aria-labelledby":s,...n,ref:t})})});VD.displayName=S_;var E_="SelectLabel",C_=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=zD(E_,r);return l.jsx(ee.div,{id:s.id,...n,ref:t})});C_.displayName=E_;var Pc="SelectItem",[WD,j_]=yi(Pc),k_=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Gn(Pc,r),c=Qn(Pc,r),u=a.value===n,[d,h]=p.useState(o??""),[g,f]=p.useState(!1),b=be(t,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,n,s)}),m=mt(),y=p.useRef("touch"),v=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(WD,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:p.useCallback(w=>{h(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(gu.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ee.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:J(i.onFocus,()=>f(!0)),onBlur:J(i.onBlur,()=>f(!1)),onClick:J(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:J(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:J(i.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:J(i.onPointerMove,w=>{var x;y.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:J(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(PD.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});k_.displayName=Pc;var Ui="SelectItemText",N_=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Gn(Ui,r),a=Qn(Ui,r),c=j_(Ui,r),u=AD(Ui,r),[d,h]=p.useState(null),g=be(t,v=>h(v),c.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,c.value,c.disabled)}),f=d==null?void 0:d.textContent,b=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return et(()=>(m(b),()=>y(b)),[m,y,b]),l.jsxs(l.Fragment,{children:[l.jsx(ee.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Fs.createPortal(o.children,i.valueNode):null]})});N_.displayName=Ui;var P_="SelectItemIndicator",T_=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return j_(P_,r).isSelected?l.jsx(ee.span,{"aria-hidden":!0,...n,ref:t}):null});T_.displayName=P_;var tf="SelectScrollUpButton",O_=p.forwardRef((e,t)=>{const r=Qn(tf,e.__scopeSelect),n=Hp(tf,e.__scopeSelect),[s,o]=p.useState(!1),i=be(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(A_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});O_.displayName=tf;var rf="SelectScrollDownButton",R_=p.forwardRef((e,t)=>{const r=Qn(rf,e.__scopeSelect),n=Hp(rf,e.__scopeSelect),[s,o]=p.useState(!1),i=be(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(A_,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});R_.displayName=rf;var A_=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Qn("SelectScrollButton",r),i=p.useRef(null),a=vu(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),et(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ee.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:J(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:J(s.onPointerLeave,()=>{c()})})}),qD="SelectSeparator",I_=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ee.div,{"aria-hidden":!0,...n,ref:t})});I_.displayName=qD;var nf="SelectArrow",HD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=yu(r),o=Gn(nf,r),i=Qn(nf,r);return o.open&&i.position==="popper"?l.jsx(xp,{...s,...n,ref:t}):null});HD.displayName=nf;var KD="SelectBubbleInput",D_=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=p.useRef(null),o=be(n,s),i=qp(t);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),l.jsx(ee.select,{...r,style:{...Sw,...r.style},ref:o,defaultValue:t})});D_.displayName=KD;function $_(e){return e===""||e===void 0}function M_(e){const t=Zt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function L_(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=GD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function GD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var QD=d_,F_=f_,YD=m_,JD=g_,XD=v_,U_=y_,ZD=__,B_=C_,z_=k_,e$=N_,t$=T_,V_=O_,W_=R_,q_=I_;const er=QD,tr=YD,It=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(F_,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(JD,{asChild:!0,children:l.jsx(Hw,{className:"h-4 w-4 opacity-50"})})]}));It.displayName=F_.displayName;const H_=p.forwardRef(({className:e,...t},r)=>l.jsx(V_,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(yk,{className:"h-4 w-4"})}));H_.displayName=V_.displayName;const K_=p.forwardRef(({className:e,...t},r)=>l.jsx(W_,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Hw,{className:"h-4 w-4"})}));K_.displayName=W_.displayName;const Dt=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(XD,{children:l.jsxs(U_,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(H_,{}),l.jsx(ZD,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(K_,{})]})}));Dt.displayName=U_.displayName;const r$=p.forwardRef(({className:e,...t},r)=>l.jsx(B_,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));r$.displayName=B_.displayName;const _e=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(z_,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(t$,{children:l.jsx(op,{className:"h-4 w-4"})})}),l.jsx(e$,{children:t})]}));_e.displayName=z_.displayName;const n$=p.forwardRef(({className:e,...t},r)=>l.jsx(q_,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));n$.displayName=q_.displayName;var wu="Checkbox",[s$,_L]=Er(wu),[o$,Kp]=s$(wu);function i$(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[g,f]=Zr({prop:r,defaultProp:s??!1,onChange:c,caller:wu}),[b,m]=p.useState(null),[y,v]=p.useState(null),w=p.useRef(!1),x=b?!!i||!!b.closest("form"):!0,_={checked:g,disabled:o,setChecked:f,control:b,setControl:m,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:$n(s)?!1:s,isFormControl:x,bubbleInput:y,setBubbleInput:v};return l.jsx(o$,{scope:t,..._,children:a$(h)?h(_):n})}var G_="CheckboxTrigger",Q_=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:f,bubbleInput:b}=Kp(G_,e),m=be(s,d),y=p.useRef(c);return p.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const w=()=>h(y.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[o,h]),l.jsx(ee.button,{type:"button",role:"checkbox","aria-checked":$n(c)?"mixed":c,"aria-required":u,"data-state":eS(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:m,onKeyDown:J(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:J(r,v=>{h(w=>$n(w)?!0:!w),b&&f&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})})});Q_.displayName=G_;var Gp=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(i$,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>l.jsxs(l.Fragment,{children:[l.jsx(Q_,{...h,ref:t,__scopeCheckbox:r}),g&&l.jsx(Z_,{__scopeCheckbox:r})]})})});Gp.displayName=wu;var Y_="CheckboxIndicator",J_=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Kp(Y_,r);return l.jsx(Lr,{present:n||$n(o.checked)||o.checked===!0,children:l.jsx(ee.span,{"data-state":eS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});J_.displayName=Y_;var X_="CheckboxBubbleInput",Z_=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:h,bubbleInput:g,setBubbleInput:f}=Kp(X_,e),b=be(r,f),m=qp(o),y=gp(n);p.useEffect(()=>{const w=g;if(!w)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,E=!s.current;if(m!==o&&S){const C=new Event("click",{bubbles:E});w.indeterminate=$n(o),S.call(w,$n(o)?!1:o),w.dispatchEvent(C)}},[g,m,o,s]);const v=p.useRef($n(o)?!1:o);return l.jsx(ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:a,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:b,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Z_.displayName=X_;function a$(e){return typeof e=="function"}function $n(e){return e==="indeterminate"}function eS(e){return $n(e)?"indeterminate":e?"checked":"unchecked"}const Qp=p.forwardRef(({className:e,...t},r)=>l.jsx(Gp,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(J_,{className:te("flex items-center justify-center text-current"),children:l.jsx(op,{className:"h-4 w-4"})})}));Qp.displayName=Gp.displayName;const ja=p.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ja.displayName="Textarea";const tS=(e,t)=>{const[r,n]=p.useState([]),[s,o]=p.useState(!0);p.useEffect(()=>{e&&i()},[e,t]);const i=async()=>{if(e)try{const{data:a,error:c}=await H.from("custom_fields").select("*").eq("company_id",e).eq("table_name",t).order("field_order");if(c)throw c;n(a||[])}catch(a){console.error("Error fetching custom fields:",a)}finally{o(!1)}};return{fields:r,loading:s}},jd={category:"raw",quantity:"",unit:"",reorderLevel:"",price:""},Fv=[{value:"add_new",label:"Add New Item"},{value:"restock",label:"Add to Existing Stock"},{value:"returns",label:"Process Return (Add Stock)"},{value:"damaged_goods",label:"Log Damaged Goods (Remove Stock)"},{value:"sample",label:"Log Sample Used (Remove Stock)"},{value:"correction",label:"Make Correction (Remove Stock)"}],l$=({onAdd:e,items:t})=>{const{primaryColor:r,accentColor:n}=Et(),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,u]=p.useState(""),[d,h]=p.useState(jd),[g,f]=p.useState({}),[b,m]=p.useState(!1),[y,v]=p.useState(""),[w,x]=p.useState(""),{fields:_}=tS(i,"inventory_items");p.useEffect(()=>{C()},[]);const S=()=>{h(jd),f({}),v(""),u(""),x("")},E=T=>{o(T),T||S()},C=async()=>{try{const{data:{user:T}}=await H.auth.getUser();if(!T)return;const{data:W}=await H.from("profiles").select("company_id").eq("id",T.id).single();W&&a(W.company_id)}catch(T){console.error("Error fetching profile:",T)}},k=T=>{const W=t.find(P=>P.name.toLowerCase()===T.toLowerCase());if(!W){z.error("Item not found. You must select an existing item.");return}v(T),h({category:W.category,quantity:"",unit:W.unit,reorderLevel:String(W.reorderLevel),price:String(W.price)}),m(!1)},O=T=>{if(T.preventDefault(),K){if(t.find(P=>P.name.toLowerCase()===y.toLowerCase())){z.error("Item already exists. Use 'Add to Existing' action.");return}}else if(!t.find(W=>W.name.toLowerCase()===y.toLowerCase())&&(y===""||!t.map(W=>W.name.toLowerCase()).includes(y.toLowerCase()))){z.error("Please select an existing item for this action.");return}e({name:y,category:d.category,quantity:Number(d.quantity),unit:d.unit,reorderLevel:Number(d.reorderLevel),price:Number(d.price)},g,c,w),S(),o(!1)},A=T=>{const W=g[T.field_name]||"";switch(T.field_type){case"text":return l.jsx(ie,{value:W,onChange:P=>f({...g,[T.field_name]:P.target.value}),placeholder:`Enter ${T.field_name}`});case"number":return l.jsx(ie,{type:"number",value:W,onChange:P=>f({...g,[T.field_name]:P.target.value}),placeholder:`Enter ${T.field_name}`});case"date":return l.jsx(ie,{type:"date",value:W,onChange:P=>f({...g,[T.field_name]:P.target.value})});case"boolean":return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qp,{checked:W===!0||W==="true",onCheckedChange:P=>f({...g,[T.field_name]:P})}),l.jsx("span",{className:"text-sm",children:"Yes"})]});default:return null}},K=c==="add_new",B=c!==""&&!K,X=()=>{var T;return c?((T=Fv.find(W=>W.value===c))==null?void 0:T.label)||"Manage Inventory":"Select Action"},M=()=>K?"Initial Quantity":["restock","returns"].includes(c)?"Quantity to Add":["damaged_goods","sample","correction"].includes(c)?"Quantity to Remove":"Quantity",Y=()=>K?"Add New Item":["restock","returns"].includes(c)?"Add Stock":["damaged_goods","sample","correction"].includes(c)?"Remove Stock":"Submit";return l.jsxs(gi,{open:s,onOpenChange:E,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(he,{style:{backgroundColor:r},className:"text-primary-foreground",onMouseEnter:T=>T.currentTarget.style.backgroundColor=n,onMouseLeave:T=>T.currentTarget.style.backgroundColor=r,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Add Item"]})}),l.jsxs(qs,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Hs,{children:[l.jsx(Ks,{children:X()}),l.jsx(fu,{children:K?"Add a new raw material or finished product to your inventory.":"Select an item to adjust its stock level."})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"actionType",children:"Action"}),l.jsxs(er,{value:c,onValueChange:T=>{u(T),v(""),h(jd),x("")},children:[l.jsx(It,{id:"actionType",children:l.jsx(tr,{placeholder:"Select an action..."})}),l.jsx(Dt,{children:Fv.map(T=>l.jsx(_e,{value:T.value,children:T.label},T.value))})]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"name",children:"Item Name"}),K?l.jsx(ie,{id:"name",value:y,onChange:T=>v(T.target.value),placeholder:"Type a unique new item name...",required:!0}):l.jsxs(eD,{open:b,onOpenChange:m,children:[l.jsx(tD,{asChild:!0,children:l.jsxs(he,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-full justify-between font-normal",children:[y||"Select an existing item...",l.jsx(wk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50",style:{color:r}})]})}),l.jsx(Y1,{className:"w-[--radix-popover-trigger-width] p-0",children:l.jsxs(o_,{children:[l.jsx(i_,{placeholder:"Search item..."}),l.jsx(l_,{children:l.jsx("span",{className:"p-4 text-sm text-muted-foreground",children:"No item found."})}),l.jsx(a_,{children:l.jsx(c_,{children:t.map(T=>l.jsxs(u_,{value:T.name,onSelect:W=>{k(W)},children:[l.jsx(op,{style:{color:r},className:`mr-2 h-4 w-4 ${y.toLowerCase()===T.name.toLowerCase()?"opacity-100":"opacity-0"}`}),T.name]},T.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"quantity",children:M()}),l.jsx(ie,{id:"quantity",type:"number",value:d.quantity,onChange:T=>h({...d,quantity:T.target.value}),placeholder:"ex. 100",required:!0,min:"0"})]}),B&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"notes",children:"Notes (Optional)"}),l.jsx(ja,{id:"notes",value:w,onChange:T=>x(T.target.value),placeholder:"e.g., 'Box dropped during receiving' or 'Client return, order #123'"})]}),K&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"category",children:"Category"}),l.jsxs(er,{value:d.category,onValueChange:T=>h({...d,category:T}),children:[l.jsx(It,{id:"category",children:l.jsx(tr,{})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"raw",children:"Raw Material"}),l.jsx(_e,{value:"finished",children:"Finished Product"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"unit",children:"Unit"}),l.jsx(ie,{id:"unit",value:d.unit,onChange:T=>h({...d,unit:T.target.value}),placeholder:"kg, lbs, units",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"reorderLevel",children:"Reorder Level"}),l.jsx(ie,{id:"reorderLevel",type:"number",value:d.reorderLevel,onChange:T=>h({...d,reorderLevel:T.target.value}),placeholder:"ex. 20",required:!0,min:"0"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"price",children:"Price per Unit"}),l.jsx(ie,{id:"price",type:"number",step:"0.01",value:d.price,onChange:T=>h({...d,price:T.target.value}),placeholder:"ex. 0.00",required:!0,min:"0"})]})]}),_.length>0&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Custom Fields"}),_.map(T=>l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:T.field_name,className:"capitalize",children:T.field_name}),A(T)]},T.id))]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(he,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),l.jsx(he,{type:"submit",style:{backgroundColor:r},className:"text-primary-foreground",disabled:!c||!y||!d.quantity,onMouseEnter:T=>{T.currentTarget.disabled||(T.currentTarget.style.backgroundColor=n)},onMouseLeave:T=>T.currentTarget.style.backgroundColor=r,children:Y()})]})]})]})]})};var kd="rovingFocusGroup.onEntryFocus",c$={bubbles:!1,cancelable:!0},Wa="RovingFocusGroup",[sf,rS,u$]=tp(Wa),[d$,nS]=Er(Wa,[u$]),[h$,f$]=d$(Wa),sS=p.forwardRef((e,t)=>l.jsx(sf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(sf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(p$,{...e,ref:t})})}));sS.displayName=Wa;var p$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,g=p.useRef(null),f=be(t,g),b=Wp(o),[m,y]=Zr({prop:i,defaultProp:a??null,onChange:c,caller:Wa}),[v,w]=p.useState(!1),x=Zt(u),_=rS(r),S=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const k=g.current;if(k)return k.addEventListener(kd,x),()=>k.removeEventListener(kd,x)},[x]),l.jsx(h$,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:m,onItemFocus:p.useCallback(k=>y(k),[y]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>C(k=>k-1),[]),children:l.jsx(ee.div,{tabIndex:v||E===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{S.current=!0}),onFocus:J(e.onFocus,k=>{const O=!S.current;if(k.target===k.currentTarget&&O&&!v){const A=new CustomEvent(kd,c$);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const K=_().filter(T=>T.focusable),B=K.find(T=>T.active),X=K.find(T=>T.id===m),Y=[B,X,...K].filter(Boolean).map(T=>T.ref.current);aS(Y,d)}}S.current=!1}),onBlur:J(e.onBlur,()=>w(!1))})})}),oS="RovingFocusGroupItem",iS=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=mt(),u=o||c,d=f$(oS,r),h=d.currentTabStopId===u,g=rS(r),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:m}=d;return p.useEffect(()=>{if(n)return f(),()=>b()},[n,f,b]),l.jsx(sf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(ee.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:J(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:J(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=v$(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=g().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(y.currentTarget);x=d.loop?y$(x,_+1):x.slice(_+1)}setTimeout(()=>aS(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:m!=null}):i})})});iS.displayName=oS;var m$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v$(e,t,r){const n=g$(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m$[n]}function aS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function y$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var w$=sS,x$=iS,xu="Tabs",[b$,SL]=Er(xu,[nS]),lS=nS(),[_$,Yp]=b$(xu),cS=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Wp(a),[h,g]=Zr({prop:n,onChange:s,defaultProp:o??"",caller:xu});return l.jsx(_$,{scope:r,baseId:mt(),value:h,onValueChange:g,orientation:i,dir:d,activationMode:c,children:l.jsx(ee.div,{dir:d,"data-orientation":i,...u,ref:t})})});cS.displayName=xu;var uS="TabsList",dS=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Yp(uS,r),i=lS(r);return l.jsx(w$,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(ee.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});dS.displayName=uS;var hS="TabsTrigger",fS=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Yp(hS,r),a=lS(r),c=gS(i.baseId,n),u=vS(i.baseId,n),d=n===i.value;return l.jsx(x$,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:J(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:J(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:J(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(n)})})})});fS.displayName=hS;var pS="TabsContent",mS=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Yp(pS,r),c=gS(a.baseId,n),u=vS(a.baseId,n),d=n===a.value,h=p.useRef(d);return p.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(Lr,{present:s||d,children:({present:g})=>l.jsx(ee.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&o})})});mS.displayName=pS;function gS(e,t){return`${e}-trigger-${t}`}function vS(e,t){return`${e}-content-${t}`}var S$=cS,yS=dS,wS=fS,xS=mS;const bu=S$,qa=p.forwardRef(({className:e,...t},r)=>l.jsx(yS,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qa.displayName=yS.displayName;const Ht=p.forwardRef(({className:e,...t},r)=>l.jsx(wS,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ht.displayName=wS.displayName;const Kt=p.forwardRef(({className:e,...t},r)=>l.jsx(xS,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kt.displayName=xS.displayName;const E$=({companyId:e})=>{const t=rr(),[r,n]=p.useState([]),[s,o]=p.useState(0);p.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(e)try{const{data:a,error:c}=await H.from("orders").select("id, order_number, customer_name, total_amount, status").eq("company_id",e).in("status",["pending","processing"]).order("created_at",{ascending:!1}).limit(5);if(c)throw c;n((a||[]).map(h=>({id:h.id,orderNumber:h.order_number,customerName:h.customer_name,totalAmount:typeof h.total_amount=="string"?parseFloat(h.total_amount):h.total_amount,status:h.status})));const{data:u,error:d}=await H.from("shipments").select("id").eq("company_id",e).eq("status","scheduled");if(d)throw d;o((u||[]).length)}catch(a){console.error("Error fetching pending data:",a)}};return l.jsxs(Ae,{children:[l.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[l.jsx(Yt,{className:"text-lg font-semibold",children:"Pending Orders & Shipments"}),l.jsx(Kw,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(Be,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Orders to Ship"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsxs(he,{variant:"outline",size:"sm",onClick:()=>t("/orders"),className:"gap-2",children:["View Orders",l.jsx(xg,{className:"h-4 w-4"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Shipments"}),l.jsx("p",{className:"text-2xl font-bold",children:s})]}),l.jsxs(he,{variant:"outline",size:"sm",onClick:()=>t("/shipping"),className:"gap-2",children:["View Schedule",l.jsx(xg,{className:"h-4 w-4"})]})]}),r.length>0&&l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Recent Pending Orders"}),l.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(a=>l.jsxs("div",{className:"flex items-center justify-between text-sm p-2 hover:bg-muted/50 rounded cursor-pointer",onClick:()=>t("/orders"),children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:a.orderNumber}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a.customerName})]}),l.jsxs("p",{className:"font-medium",children:["$",a.totalAmount.toFixed(2)]})]},a.id))})]})]})})]})},Gs=({companyName:e,pageTitle:t,pageSubtitle:r,activePage:n,children:s})=>{const o=rr(),{primaryColor:i}=Et(),[a,c]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{const b=()=>{const m=window.scrollY;!u&&m>40?d(!0):u&&m<10&&d(!1)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[u]);const h=async()=>{await H.auth.signOut(),z.success("Logged out successfully"),o("/")},g=[{key:"inventory",label:"Inventory",icon:ii,path:"/dashboard"},{key:"orders",label:"Orders",icon:Jc,path:"/orders"},{key:"customers",label:"Customers",icon:ip,path:"/customers"},{key:"shipping",label:"Shipping",icon:Jw,path:"/shipping"},{key:"properties",label:"Properties",icon:Nk,path:"/properties"},{key:"team",label:"Team",icon:$k,path:"/teammanagement"},{key:"reports",label:"Reports",icon:gk,path:"/reports"}],f=()=>c(!a);return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:`sticky top-0 z-40 transition-all duration-300 border-b ${u?"bg-background/80 backdrop-blur-md border-border shadow-sm py-3":"bg-background border-transparent py-5"}`,children:l.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(he,{variant:"ghost",size:"icon",onClick:f,className:"hover:bg-accent hover:text-accent-foreground rounded-full",children:[l.jsx(Ck,{className:"h-6 w-6"}),l.jsx("span",{className:"sr-only",children:"Open menu"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground hidden sm:inline-block",children:e}),l.jsx(vk,{className:"h-4 w-4 text-muted-foreground hidden sm:block"}),l.jsx("h1",{className:"text-xl font-bold tracking-tight bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(to right, var(--company-primary), var(--company-accent), var(--company-primary))"},children:t})]}),!u&&l.jsx("p",{className:`text-xs text-muted-foreground hidden md:block transition-all duration-300 ${u?"opacity-0 translate-y-1 h-0 overflow-hidden":"opacity-100 translate-y-0 h-auto"}`,children:r})]})]}),l.jsx("div",{className:"flex items-center gap-3",children:s})]})}),l.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-50 transition-opacity duration-300 ${a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>c(!1)}),l.jsxs("aside",{className:`fixed top-0 left-0 bottom-0 w-[280px] bg-card border-r border-border z-50 shadow-2xl transform transition-transform duration-300 ease-in-out flex flex-col ${a?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("span",{className:"text-lg font-bold",style:{color:i},children:"Navigation"}),l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>c(!1),className:"rounded-full h-8 w-8",children:l.jsx(ap,{className:"h-4 w-4"})})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1",children:g.map(b=>{const m=n===b.key;return l.jsxs("button",{onClick:()=>{o(b.path),c(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 group relative overflow-hidden ${m?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:[m&&l.jsx("span",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-full",style:{backgroundColor:i}}),l.jsx(b.icon,{className:`h-5 w-5 transition-colors ${m?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,style:m?{color:i}:{}}),b.label]},b.key)})}),l.jsx("div",{className:"p-4 border-t border-border bg-muted/20",children:l.jsxs(he,{variant:"ghost",onClick:h,className:"w-full justify-start gap-3 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20",children:[l.jsx(Sk,{className:"h-5 w-5"}),"Log Out"]})})]})]})},C$=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,o]=p.useState(null),[i,a]=p.useState("");p.useEffect(()=>{c()},[]),p.useEffect(()=>{s&&u()},[s]);const c=async()=>{try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");y.user_metadata&&y.user_metadata.company_name&&a(y.user_metadata.company_name);const{data:v,error:w}=await H.from("profiles").select("company_id").eq("id",y.id).single();if(w)throw w;o(v.company_id)}catch(y){z.error("Failed to fetch profile"),console.error("Error fetching profile:",y)}},u=async()=>{if(s)try{const{data:y,error:v}=await H.from("inventory_items").select("*").eq("company_id",s).order("created_at",{ascending:!1});if(v)throw v;const w=(y||[]).map(x=>({id:x.id,name:x.name,category:x.category,quantity:x.quantity,unit:x.unit,reorderLevel:x.reorder_level,lastUpdated:x.updated_at,price:typeof x.price=="string"?parseFloat(x.price):x.price||0}));t(w)}catch(y){z.error("Failed to load inventory items"),console.error("Error fetching items:",y)}finally{n(!1)}},d=async(y,v,w,x)=>{if(!s){z.error("Company information not loaded");return}if(!w){z.error("No action selected");return}try{const{data:{user:_}}=await H.auth.getUser();if(!_)throw new Error("Not authenticated");const S=e.find(E=>E.name.toLowerCase()===y.name.toLowerCase());if(w==="add_new"){if(S){z.error("Item name already exists. Use 'Add to Existing' action instead.");return}const{data:E,error:C}=await H.from("inventory_items").insert({user_id:_.id,company_id:s,name:y.name,category:y.category,quantity:y.quantity,unit:y.unit,reorder_level:y.reorderLevel,price:y.price,custom_data:v||{}}).select().single();if(C)throw C;if(!E)throw new Error("Failed to create item.");await H.from("inventory_transactions").insert({company_id:s,inventory_item_id:E.id,transaction_type:"add_new",quantity:E.quantity,reference_type:"item_creation",notes:x||"New item created"}),z.success("New item added successfully")}else{if(!S){z.error("Item not found. Cannot apply adjustment to a non-existent item.");return}const E=["damaged_goods","sample","correction"].includes(w),C=Number(y.quantity),k=E?-C:C,O=S.quantity+k;if(O<0){z.error(`Operation failed. Cannot set "${S.name}" quantity below zero.`);return}const{error:A}=await H.from("inventory_items").update({quantity:O,updated_at:new Date().toISOString()}).eq("id",S.id);if(A)throw A;await H.from("inventory_transactions").insert({company_id:s,inventory_item_id:S.id,transaction_type:w,quantity:k,reference_type:"manual_adjustment",notes:x||"Manual stock adjustment"}),z.success(`Stock updated for ${S.name}`)}u()}catch(_){z.error("Failed to submit item"),console.error("Error submitting item:",_)}},h=y=>{z.info("Edit functionality coming soon!")},g=async y=>{try{const{error:v}=await H.from("inventory_items").delete().eq("id",y);if(v)throw v;z.success("Item deleted successfully"),u()}catch(v){z.error("Failed to delete item"),console.error("Error deleting item:",v)}},f=e.filter(y=>y.category==="raw"),b=e.filter(y=>y.category==="finished"),m=e.filter(y=>y.quantity<=y.reorderLevel);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Gs,{companyName:i,pageTitle:"Inventory",pageSubtitle:"Track and manage your inventory",activePage:"inventory",children:l.jsx(l$,{onAdd:d,items:e})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsx(IA,{totalItems:e.length,rawMaterials:f.length,finishedProducts:b.length,lowStock:m.length}),l.jsx(E$,{companyId:s}),l.jsxs(bu,{defaultValue:"all",className:"spacey-4",children:[l.jsxs(qa,{className:"bg-muted",style:{borderColor:"var(--company-primary)"},children:[l.jsx(Ht,{value:"all",children:"All Items"}),l.jsx(Ht,{value:"raw",children:"Raw Materials"}),l.jsx(Ht,{value:"finished",children:"Finished Products"}),l.jsx(Ht,{value:"lowstock",children:"Low Stock"})]}),l.jsx(Kt,{value:"all",className:"space-y-4",children:l.jsx(Cl,{items:e,onEdit:h,onDelete:g})}),l.jsx(Kt,{value:"raw",className:"space-y-4",children:l.jsx(Cl,{items:f,onEdit:h,onDelete:g})}),l.jsx(Kt,{value:"finished",className:"space-y-4",children:l.jsx(Cl,{items:b,onEdit:h,onDelete:g})}),l.jsx(Kt,{value:"lowstock",className:"space-y-4",children:l.jsx(Cl,{items:m,onEdit:h,onDelete:g})})]})]})})]})},j$=({orders:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.length,s=e.reduce((d,h)=>d+h.totalAmount,0),o=e.filter(d=>d.status==="pending"||d.status==="processing").length,i=n>0?s/n:0,a=[{title:"Total Orders",value:n,icon:Tk},{title:"Total Revenue",value:`$${s.toLocaleString()}`,icon:Gw},{title:"Pending Orders",value:o,icon:ii},{title:"Avg Order Value",value:`$${i.toFixed(2)}`,icon:Jc}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,h)=>l.jsx(Ae,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[h]}`},children:l.jsxs(Be,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[h]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[h],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[h]}})]})},d.title))})},k$=({orders:e,onDelete:t,onUpdateStatus:r})=>{const{primaryColor:n}=Et(),s=o=>{switch(o){case"completed":return"success";case"processing":return"warning";case"pending":return"secondary";case"cancelled":return"destructive";default:return"secondary"}};return l.jsx(Ae,{className:"bg-card/50 backdrop-blur",style:{borderColor:`${n}33`},children:l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${n}33`},children:[l.jsx(de,{children:"Order #"}),l.jsx(de,{children:"Contact"}),l.jsx(de,{children:"Email"}),l.jsx(de,{children:"Phone"}),l.jsx(de,{children:"Items"}),l.jsx(de,{children:"Total Amount"}),l.jsx(de,{children:"Date"}),l.jsx(de,{children:"Status"}),l.jsx(de,{className:"text-right",children:"Actions"})]})}),l.jsx(Ws,{children:e.map(o=>l.jsxs(at,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${n}1A`},children:[l.jsx(oe,{className:"font-medium",children:o.orderNumber}),l.jsx(oe,{children:o.contactName}),l.jsx(oe,{className:"text-muted-foreground",children:o.contactEmail}),l.jsx(oe,{className:"text-muted-foreground",children:o.contactPhone}),l.jsx(oe,{children:l.jsxs(gi,{children:[l.jsx(vi,{asChild:!0,children:l.jsxs(he,{variant:"ghost",size:"sm",className:"gap-2",children:[l.jsx(Qw,{className:"h-4 w-4",style:{color:n}}),o.items.length," item",o.items.length!==1?"s":""]})}),l.jsxs(qs,{children:[l.jsx(Hs,{children:l.jsxs(Ks,{children:["Order Items - ",o.orderNumber]})}),l.jsx("div",{className:"space-y-2",children:o.items.map((i,a)=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:i.itemName}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",i.quantity]})]}),l.jsxs("p",{className:"font-semibold",children:["$",(i.quantity*i.price).toFixed(2)]})]},a))})]})]})}),l.jsxs(oe,{className:"font-semibold",children:["$",o.totalAmount.toFixed(2)]}),l.jsx(oe,{className:"text-muted-foreground",children:new Date(o.orderDate).toLocaleDateString()}),l.jsx(oe,{children:l.jsxs(er,{value:o.status,onValueChange:i=>r(o.id,i),children:[l.jsx(It,{className:"w-[140px]",children:l.jsx(tr,{children:o.status==="pending"?l.jsx(Qe,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Pending"}):l.jsx(Qe,{variant:s(o.status),children:o.status})})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"pending",children:l.jsx(Qe,{style:{backgroundColor:n},className:"text-primary-foreground",children:"Pending"})}),l.jsx(_e,{value:"processing",children:l.jsx(Qe,{variant:"warning",children:"Processing"})}),l.jsx(_e,{value:"completed",children:l.jsx(Qe,{variant:"success",children:"Completed"})}),l.jsx(_e,{value:"cancelled",children:l.jsx(Qe,{variant:"destructive",children:"Cancelled"})})]})]})}),l.jsx(oe,{className:"text-right",children:l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(o.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:l.jsx(ai,{className:"h-4 w-4"})})})]},o.id))})]})})};var _u="Switch",[N$,EL]=Er(_u),[P$,T$]=N$(_u),bS=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...h}=e,[g,f]=p.useState(null),b=be(t,x=>f(x)),m=p.useRef(!1),y=g?d||!!g.closest("form"):!0,[v,w]=Zr({prop:s,defaultProp:o??!1,onChange:u,caller:_u});return l.jsxs(P$,{scope:r,checked:v,disabled:a,children:[l.jsx(ee.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":CS(v),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:b,onClick:J(e.onClick,x=>{w(_=>!_),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&l.jsx(ES,{control:g,bubbles:!m.current,name:n,value:c,checked:v,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});bS.displayName=_u;var _S="SwitchThumb",SS=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=T$(_S,r);return l.jsx(ee.span,{"data-state":CS(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});SS.displayName=_S;var O$="SwitchBubbleInput",ES=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=p.useRef(null),a=be(i,o),c=qp(r),u=gp(t);return p.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const b=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(b)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ES.displayName=O$;function CS(e){return e?"checked":"unchecked"}var jS=bS,R$=SS;const kS=p.forwardRef(({className:e,...t},r)=>l.jsx(jS,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:l.jsx(R$,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kS.displayName=jS.displayName;const A$=({open:e,onOpenChange:t,onAdd:r})=>{const{primaryColor:n,accentColor:s}=Et(),[o,i]=p.useState(null),[a,c]=p.useState([]),[u,d]=p.useState([]),[h,g]=p.useState(null),[f,b]=p.useState({name:"",email:"",phone:""}),[m,y]=p.useState([]),[v,w]=p.useState(!1),[x,_]=p.useState({recipientName:"",recipientEmail:"",recipientPhone:"",shippingAddress:"",scheduledDate:new Date().toISOString().split("T")[0],carrier:"",trackingNumber:"",notes:""}),[S,E]=p.useState({}),{fields:C}=tS(o,"orders");p.useEffect(()=>{k()},[]),p.useEffect(()=>{o&&e&&(O(),A())},[o,e]);const k=async()=>{try{const{data:{user:j}}=await H.auth.getUser();if(!j)return;const{data:I}=await H.from("profiles").select("company_id").eq("id",j.id).single();I&&i(I.company_id)}catch(j){console.error("Error fetching profile:",j)}},O=async()=>{if(o)try{const{data:j,error:I}=await H.from("inventory_items").select("id, name, price, quantity, unit").eq("company_id",o).eq("category","finished").order("name");if(I)throw I;c((j==null?void 0:j.map(F=>({id:F.id,name:F.name,price:typeof F.price=="string"?parseFloat(F.price):F.price||0,quantity:F.quantity,unit:F.unit})))||[])}catch(j){z.error("Failed to load inventory items"),console.error("Error fetching inventory:",j)}},A=async()=>{if(o)try{const{data:j,error:I}=await H.from("customers").select("id, name, email, phone, address").eq("company_id",o).order("name");if(I)throw I;d(j||[])}catch(j){z.error("Failed to load customers"),console.error("Error fetching customers:",j)}},K=j=>{g(j);const I=u.find(F=>F.id===j);I?(b({name:I.name,email:I.email,phone:I.phone}),I.address&&_(F=>({...F,shippingAddress:I.address}))):(b({name:"",email:"",phone:""}),_(F=>({...F,shippingAddress:""})))},B=()=>{b({name:"",email:"",phone:""}),y([]),w(!1),_({recipientName:"",recipientEmail:"",recipientPhone:"",shippingAddress:"",scheduledDate:new Date().toISOString().split("T")[0],carrier:"",trackingNumber:"",notes:""}),E({}),g(null)},X=j=>{t(j),j||B()},M=()=>{y([...m,{inventoryItemId:"",itemName:"",quantity:0,price:0,availableQty:0}])},Y=j=>{y(m.filter((I,F)=>F!==j))},T=(j,I,F)=>{var D;const N=[...m];if(I==="inventoryItemId"){const U=a.find(q=>q.id===F);U&&(N[j]={inventoryItemId:F,itemName:U.name,quantity:1,price:U.price,availableQty:U.quantity})}else if(I==="quantity"){const U=Number(F);if(U>N[j].availableQty){z.error(`Only ${N[j].availableQty} ${((D=a.find(q=>q.id===N[j].inventoryItemId))==null?void 0:D.unit)||"units"} available`);return}N[j].quantity=U}y(N)},W=j=>{if(j.preventDefault(),!f.name||!f.email||!f.phone){z.error("Please ensure all customer contact details (Name, Email, Phone) are filled out.");return}if(m.length===0){z.error("Please add at least one item");return}if(m.some(D=>!D.inventoryItemId||D.quantity<=0)){z.error("Please complete all order items");return}const I=m.reduce((D,U)=>D+U.price*U.quantity,0),F=`ORD-${Date.now()}`;if(v){if(!x.shippingAddress){z.error("Please enter a shipping address");return}if(!x.scheduledDate){z.error("Please select a scheduled shipping date");return}}const N={id:crypto.randomUUID(),orderNumber:F,contactName:f.name,contactEmail:f.email,contactPhone:f.phone,selectedCustomerId:h,items:m.map(D=>({itemId:D.inventoryItemId,itemName:D.itemName,quantity:D.quantity,price:D.price})),totalAmount:I,orderDate:new Date().toISOString(),status:"pending",needsShipping:v,shippingAddress:v?x.shippingAddress:void 0,recipientName:v?x.recipientName||f.name:void 0,recipientEmail:v?x.recipientEmail||f.email:void 0,recipientPhone:v?x.recipientPhone||f.phone:void 0,scheduledDate:v?x.scheduledDate:void 0,carrier:v?x.carrier:void 0,trackingNumber:v?x.trackingNumber:void 0,notes:v?x.notes:void 0};r(N,S),B(),t(!1)},P=j=>{const I=S[j.field_name]||"";switch(j.field_type){case"text":return l.jsx(ie,{value:I,onChange:F=>E({...S,[j.field_name]:F.target.value}),placeholder:`Enter ${j.field_name}`});case"number":return l.jsx(ie,{type:"number",value:I,onChange:F=>E({...S,[j.field_name]:F.target.value}),placeholder:`Enter ${j.field_name}`});case"date":return l.jsx(ie,{type:"date",value:I,onChange:F=>E({...S,[j.field_name]:F.target.value})});case"boolean":return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qp,{checked:I===!0||I==="true",onCheckedChange:F=>E({...S,[j.field_name]:F})}),l.jsx("span",{className:"text-sm",children:"Yes"})]});default:return null}};return l.jsxs(gi,{open:e,onOpenChange:X,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(he,{className:"text-primary-foreground",style:{backgroundColor:n},onMouseEnter:j=>j.currentTarget.style.backgroundColor=s,onMouseLeave:j=>j.currentTarget.style.backgroundColor=n,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"New Order"]})}),l.jsxs(qs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Hs,{children:[l.jsx(Ks,{children:"Create New Order"}),l.jsx(fu,{children:"Create a new customer order from finished products in inventory."})]}),l.jsxs("form",{onSubmit:W,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Customer Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"customerSelect",children:"Select Existing Customer"}),l.jsxs(er,{value:h||"new",onValueChange:K,children:[l.jsx(It,{id:"customerSelect",children:l.jsx(tr,{placeholder:"Select a customer or create a new one"})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"new",children:"-- New Customer --"}),u.map(j=>l.jsxs(_e,{value:j.id,children:[j.name," (",j.email,")"]},j.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"contactName",children:"Name *"}),l.jsx(ie,{id:"contactName",value:f.name,onChange:j=>b({...f,name:j.target.value}),placeholder:"John Doe",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"contactEmail",children:"Email *"}),l.jsx(ie,{id:"contactEmail",type:"email",value:f.email,onChange:j=>b({...f,email:j.target.value}),placeholder:"john@example.com",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"contactPhone",children:"Phone *"}),l.jsx(ie,{id:"contactPhone",type:"tel",value:f.phone,onChange:j=>b({...f,phone:j.target.value}),placeholder:"+1 (555) 000-0000",required:!0})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Order Items"}),l.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:M,style:{color:n,borderColor:n},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2",style:{color:n}}),"Add Item"]})]}),m.map((j,I)=>l.jsxs("div",{className:"flex gap-2 items-end p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(re,{children:"Product"}),l.jsxs(er,{value:j.inventoryItemId,onValueChange:F=>T(I,"inventoryItemId",F),children:[l.jsx(It,{children:l.jsx(tr,{placeholder:"Select product"})}),l.jsx(Dt,{children:a.map(F=>l.jsxs(_e,{value:F.id,children:[F.name," ($",F.price.toFixed(2)," - ",F.quantity," ",F.unit," available)"]},F.id))})]})]}),l.jsxs("div",{className:"w-24 space-y-2",children:[l.jsx(re,{children:"Quantity"}),l.jsx(ie,{type:"number",min:"1",max:j.availableQty,value:j.quantity||"",onChange:F=>T(I,"quantity",F.target.value),placeholder:"0",disabled:!j.inventoryItemId})]}),l.jsxs("div",{className:"w-28 space-y-2",children:[l.jsx(re,{children:"Price"}),l.jsx(ie,{type:"text",value:`$${j.price.toFixed(2)}`,disabled:!0})]}),l.jsx(he,{type:"button",variant:"ghost",size:"icon",onClick:()=>Y(I),className:"text-destructive",children:l.jsx(ai,{className:"h-4 w-4"})})]},I)),m.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'No items added yet. Click "Add Item" to get started.'})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(re,{htmlFor:"needsShipping",children:"Needs Shipping"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a shipment for this order"})]}),l.jsx(kS,{id:"needsShipping",checked:v,onCheckedChange:w})]}),v&&l.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Shipping Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"shippingAddress",children:"Shipping Address *"}),l.jsx(ie,{id:"shippingAddress",value:x.shippingAddress,onChange:j=>_({...x,shippingAddress:j.target.value}),placeholder:"123 Main St, City, State, ZIP",required:v})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientName",children:"Recipient Name"}),l.jsx(ie,{id:"recipientName",value:x.recipientName,onChange:j=>_({...x,recipientName:j.target.value}),placeholder:"Leave empty to use customer name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientEmail",children:"Recipient Email"}),l.jsx(ie,{id:"recipientEmail",type:"email",value:x.recipientEmail,onChange:j=>_({...x,recipientEmail:j.target.value}),placeholder:"Leave empty to use customer email"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientPhone",children:"Recipient Phone"}),l.jsx(ie,{id:"recipientPhone",type:"tel",value:x.recipientPhone,onChange:j=>_({...x,recipientPhone:j.target.value}),placeholder:"Leave empty to use customer phone"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"scheduledDate",children:"Scheduled Shipping Date *"}),l.jsx(ie,{id:"scheduledDate",type:"date",value:x.scheduledDate,onChange:j=>_({...x,scheduledDate:j.target.value}),required:v})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"carrier",children:"Carrier"}),l.jsx(ie,{id:"carrier",value:x.carrier,onChange:j=>_({...x,carrier:j.target.value}),placeholder:"e.g., FedEx, USPS"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"trackingNumber",children:"Tracking Number"}),l.jsx(ie,{id:"trackingNumber",value:x.trackingNumber,onChange:j=>_({...x,trackingNumber:j.target.value}),placeholder:"Optional tracking number"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"notes",children:"Notes"}),l.jsx(ja,{id:"notes",value:x.notes,onChange:j=>_({...x,notes:j.target.value}),placeholder:"Any special instructions or internal notes"})]})]})]}),C.length>0&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Additional Information"}),C.map(j=>l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:j.field_name,className:"capitalize",children:j.field_name}),P(j)]},j.id))]}),m.length>0&&l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[l.jsx("span",{className:"font-semibold",children:"Total Amount:"}),l.jsxs("span",{className:"text-2xl font-bold",children:["$",m.reduce((j,I)=>j+I.price*I.quantity,0).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(he,{type:"button",variant:"outline",onClick:()=>X(!1),children:"Cancel"}),l.jsx(he,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:n},onMouseEnter:j=>{j.currentTarget.disabled||(j.currentTarget.style.backgroundColor=s)},onMouseLeave:j=>j.currentTarget.style.backgroundColor=n,children:"Create Order"})]})]})]})]})},I$=()=>{rr();const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,u]=p.useState("");p.useEffect(()=>{d()},[]),p.useEffect(()=>{i&&h()},[i]);const d=async()=>{try{const{data:{user:m}}=await H.auth.getUser();if(!m)throw new Error("Not authenticated");m.user_metadata&&m.user_metadata.company_name&&u(m.user_metadata.company_name);const{data:y,error:v}=await H.from("profiles").select("company_id").eq("id",m.id).single();if(v)throw v;a(y.company_id)}catch(m){z.error("Failed to fetch profile"),console.error("Error fetching profile:",m)}},h=async()=>{if(i)try{const{data:m,error:y}=await H.from("orders").select("*, order_items(*)").eq("company_id",i).order("created_at",{ascending:!1});if(y)throw y;const v=(m||[]).map(w=>({id:w.id,orderNumber:w.order_number,contactName:w.customer_name,contactEmail:w.customer_email,contactPhone:w.customer_phone,selectedCustomerId:w.customer_id,items:(w.order_items||[]).map(x=>({itemId:x.id,itemName:x.item_name,quantity:x.quantity,price:typeof x.price=="string"?parseFloat(x.price):x.price})),totalAmount:typeof w.total_amount=="string"?parseFloat(w.total_amount):w.total_amount,orderDate:w.created_at,status:w.status,needsShipping:w.needs_shipping,shippingAddress:w.shipping_address,recipientName:w.recipient_name,recipientEmail:w.recipient_email,recipientPhone:w.recipient_phone}));t(v)}catch(m){z.error("Failed to load orders"),console.error("Error fetching orders:",m)}finally{n(!1)}},g=async(m,y)=>{if(!i){z.error("Company information not loaded");return}try{const{data:{user:v}}=await H.auth.getUser();if(!v)throw new Error("Not authenticated");const{data:w,error:x}=await H.from("orders").insert({user_id:v.id,company_id:i,order_number:m.orderNumber,customer_name:m.contactName,customer_email:m.contactEmail,customer_phone:m.contactPhone,customer_id:m.selectedCustomerId||null,total_amount:m.totalAmount,status:m.status,custom_data:y||{},needs_shipping:m.needsShipping||!1,shipping_address:m.shippingAddress,recipient_name:m.recipientName,recipient_email:m.recipientEmail,recipient_phone:m.recipientPhone}).select().single();if(x)throw x;const _=m.items.map(E=>({order_id:w.id,item_name:E.itemName,quantity:E.quantity,price:E.price,inventory_item_id:E.itemId})),{error:S}=await H.from("order_items").insert(_);if(S)throw S;for(const E of m.items){const{data:C,error:k}=await H.from("inventory_items").select("quantity").eq("id",E.itemId).single();if(k)throw k;const O=C.quantity-E.quantity,{error:A}=await H.from("inventory_items").update({quantity:O}).eq("id",E.itemId);if(A)throw A;await H.from("inventory_transactions").insert({company_id:i,inventory_item_id:E.itemId,transaction_type:"order",quantity:-E.quantity,reference_id:w.id,reference_type:"order",notes:`Order ${m.orderNumber} - ${m.contactName}`})}if(m.needsShipping){const E=`SHP-${Date.now()}`,{error:C}=await H.from("shipments").insert({company_id:i,order_id:w.id,shipment_number:E,shipment_type:"shipment",recipient_name:m.recipientName||m.contactName,recipient_email:m.recipientEmail||m.contactEmail,recipient_phone:m.recipientPhone||m.contactPhone,shipping_address:m.shippingAddress,scheduled_date:new Date().toISOString(),status:"scheduled"});if(C)throw C}z.success(m.needsShipping?"Order created, inventory updated, and shipment scheduled":"Order created and inventory updated"),h()}catch(v){z.error("Failed to create order"),console.error("Error creating order:",v)}},f=async m=>{try{const{error:y}=await H.from("orders").delete().eq("id",m);if(y)throw y;z.success("Order deleted successfully"),h()}catch(y){z.error("Failed to delete order"),console.error("Error deleting order:",y)}},b=async(m,y)=>{try{const{error:v}=await H.from("orders").update({status:y}).eq("id",m);if(v)throw v;z.success("Order status updated"),h()}catch(v){z.error("Failed to update order status"),console.error("Error updating status:",v)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Gs,{companyName:c,pageTitle:"Orders",pageSubtitle:"Track and manage your customer orders",activePage:"orders",children:l.jsx(A$,{open:s,onOpenChange:o,onAdd:g})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(j$,{orders:e}),l.jsx(k$,{orders:e,onDelete:f,onUpdateStatus:b})]})]})},D$=({shipments:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.filter(d=>d.status==="scheduled").length,s=e.filter(d=>d.status==="in_transit").length,o=e.filter(d=>d.status==="delivered").length,a=[{title:"Total Shipments",value:e.length,icon:ii},{title:"Scheduled",value:n,icon:Kw},{title:"In Transit",value:s,icon:Jw},{title:"Delivered",value:o,icon:Wl}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,h)=>l.jsx(Ae,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[h]}`},children:l.jsxs(Be,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[h]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[h],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[h]}})]})},d.title))})};function jr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $s(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const NS=6048e5,$$=864e5;let M$={};function Su(){return M$}function ka(e,t){var a,c,u,d;const r=Su(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=jr(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Tc(e){return ka(e,{weekStartsOn:1})}function PS(e){const t=jr(e),r=t.getFullYear(),n=$s(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Tc(n),o=$s(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Tc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Uv(e){const t=jr(e);return t.setHours(0,0,0,0),t}function Bv(e){const t=jr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function L$(e,t){const r=Uv(e),n=Uv(t),s=+r-Bv(r),o=+n-Bv(n);return Math.round((s-o)/$$)}function F$(e){const t=PS(e),r=$s(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Tc(r)}function U$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function B$(e){if(!U$(e)&&typeof e!="number")return!1;const t=jr(e);return!isNaN(Number(t))}function z$(e){const t=jr(e),r=$s(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const V$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W$=(e,t,r)=>{let n;const s=V$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const q$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},G$={date:Nd({formats:q$,defaultWidth:"full"}),time:Nd({formats:H$,defaultWidth:"full"}),dateTime:Nd({formats:K$,defaultWidth:"full"})},Q$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y$=(e,t,r,n)=>Q$[e];function Ri(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const J$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nM=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sM={ordinalNumber:nM,era:Ri({values:J$,defaultWidth:"wide"}),quarter:Ri({values:X$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ri({values:Z$,defaultWidth:"wide"}),day:Ri({values:eM,defaultWidth:"wide"}),dayPeriod:Ri({values:tM,defaultWidth:"wide",formattingValues:rM,defaultFormattingWidth:"wide"})};function Ai(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?iM(a,h=>h.test(i)):oM(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function oM(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iM(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function aM(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const lM=/^(\d+)(th|st|nd|rd)?/i,cM=/\d+/i,uM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dM={any:[/^b/i,/^(a|c)/i]},hM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fM={any:[/1/i,/2/i,/3/i,/4/i]},pM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xM={ordinalNumber:aM({matchPattern:lM,parsePattern:cM,valueCallback:e=>parseInt(e,10)}),era:Ai({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:dM,defaultParseWidth:"any"}),quarter:Ai({matchPatterns:hM,defaultMatchWidth:"wide",parsePatterns:fM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ai({matchPatterns:pM,defaultMatchWidth:"wide",parsePatterns:mM,defaultParseWidth:"any"}),day:Ai({matchPatterns:gM,defaultMatchWidth:"wide",parsePatterns:vM,defaultParseWidth:"any"}),dayPeriod:Ai({matchPatterns:yM,defaultMatchWidth:"any",parsePatterns:wM,defaultParseWidth:"any"})},bM={code:"en-US",formatDistance:W$,formatLong:G$,formatRelative:Y$,localize:sM,match:xM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _M(e){const t=jr(e);return L$(t,z$(t))+1}function SM(e){const t=jr(e),r=+Tc(t)-+F$(t);return Math.round(r/NS)+1}function TS(e,t){var d,h,g,f;const r=jr(e),n=r.getFullYear(),s=Su(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(g=s.locale)==null?void 0:g.options)==null?void 0:f.firstWeekContainsDate)??1,i=$s(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=ka(i,t),c=$s(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ka(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function EM(e,t){var a,c,u,d;const r=Su(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=TS(e,t),o=$s(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ka(o,t)}function CM(e,t){const r=jr(e),n=+ka(r,t)-+EM(r,t);return Math.round(n/NS)+1}function Se(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Se(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Se(r+1,2)},d(e,t){return Se(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Se(e.getHours()%12||12,t.length)},H(e,t){return Se(e.getHours(),t.length)},m(e,t){return Se(e.getMinutes(),t.length)},s(e,t){return Se(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Se(s,t.length)}},lo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return hn.y(e,t)},Y:function(e,t,r,n){const s=TS(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Se(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Se(o,t.length)},R:function(e,t){const r=PS(e);return Se(r,t.length)},u:function(e,t){const r=e.getFullYear();return Se(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Se(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Se(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Se(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=CM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Se(s,t.length)},I:function(e,t,r){const n=SM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Se(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hn.d(e,t)},D:function(e,t,r){const n=_M(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Se(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Se(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Se(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Se(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=lo.noon:n===0?s=lo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=lo.evening:n>=12?s=lo.afternoon:n>=4?s=lo.morning:s=lo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hn.s(e,t)},S:function(e,t){return hn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Wv(n);case"XXXX":case"XX":return is(n);case"XXXXX":case"XXX":default:return is(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Wv(n);case"xxxx":case"xx":return is(n);case"xxxxx":case"xxx":default:return is(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vv(n,":");case"OOOO":default:return"GMT"+is(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vv(n,":");case"zzzz":default:return"GMT"+is(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Se(n,t.length)},T:function(e,t,r){const n=e.getTime();return Se(n,t.length)}};function Vv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Se(o,2)}function Wv(e,t){return e%60===0?(e>0?"-":"+")+Se(Math.abs(e)/60,2):is(e,t)}function is(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Se(Math.trunc(n/60),2),o=Se(n%60,2);return r+s+t+o}const qv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},OS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return qv(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",qv(n,t)).replace("{{time}}",OS(s,t))},kM={p:OS,P:jM},NM=/^D+$/,PM=/^Y+$/,TM=["D","DD","YY","YYYY"];function OM(e){return NM.test(e)}function RM(e){return PM.test(e)}function AM(e,t,r){const n=IM(e,t,r);if(console.warn(n),TM.includes(e))throw new RangeError(n)}function IM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const DM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$M=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MM=/^'([^]*?)'?$/,LM=/''/g,FM=/[a-zA-Z]/;function Oc(e,t,r){var d,h,g,f;const n=Su(),s=n.locale??bM,o=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((f=(g=n.locale)==null?void 0:g.options)==null?void 0:f.weekStartsOn)??0,a=jr(e);if(!B$(a))throw new RangeError("Invalid time value");let c=t.match($M).map(b=>{const m=b[0];if(m==="p"||m==="P"){const y=kM[m];return y(b,s.formatLong)}return b}).join("").match(DM).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const m=b[0];if(m==="'")return{isToken:!1,value:UM(b)};if(zv[m])return{isToken:!0,value:b};if(m.match(FM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const m=b.value;(RM(m)||OM(m))&&AM(m,t,String(e));const y=zv[m[0]];return y(a,m,s.localize,u)}).join("")}function UM(e){const t=e.match(MM);return t?t[1].replace(LM,"'"):e}const BM=({shipments:e,onDelete:t,onUpdateStatus:r})=>{const{primaryColor:n}=Et(),s=i=>{switch(i){case"scheduled":return"secondary";case"in_transit":return"secondary";case"delivered":return"success";case"cancelled":return"destructive";default:return"secondary"}},o=i=>i.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ");return l.jsx(Ae,{children:l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{children:[l.jsx(de,{children:"Shipment #"}),l.jsx(de,{children:"Type"}),l.jsx(de,{children:"Recipient"}),l.jsx(de,{children:"Scheduled Date"}),l.jsx(de,{children:"Shipped Date"}),l.jsx(de,{children:"Tracking"}),l.jsx(de,{children:"Status"}),l.jsx(de,{children:"Actions"})]})}),l.jsx(Ws,{children:e.map(i=>l.jsxs(at,{children:[l.jsxs(oe,{className:"font-medium",children:[i.shipmentNumber,i.orderNumber&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Order: ",i.orderNumber]})]}),l.jsx(oe,{children:l.jsx(Qe,{variant:"outline",children:o(i.shipmentType)})}),l.jsxs(oe,{children:[l.jsx("div",{className:"font-medium",children:i.recipientName}),i.recipientEmail&&l.jsx("div",{className:"text-xs text-muted-foreground",children:i.recipientEmail})]}),l.jsx(oe,{children:Oc(new Date(i.scheduledDate),"MMM dd, yyyy")}),l.jsx(oe,{children:i.shippedDate?Oc(new Date(i.shippedDate),"MMM dd, yyyy"):"-"}),l.jsx(oe,{children:i.trackingNumber?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-xs",children:i.trackingNumber}),i.carrier&&l.jsx("div",{className:"text-xs text-muted-foreground",children:i.carrier})]}):"-"}),l.jsx(oe,{children:l.jsxs(er,{value:i.status,onValueChange:a=>r(i.id,a),children:[l.jsx(It,{className:"w-[140px]",children:l.jsx(tr,{children:i.status==="in_transit"?l.jsx(Qe,{style:{backgroundColor:n},className:"text-primary-foreground",children:"In Transit"}):l.jsx(Qe,{variant:s(i.status),children:i.status})})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"scheduled",children:l.jsx(Qe,{variant:"secondary",children:"Scheduled"})}),l.jsx(_e,{value:"in_transit",children:l.jsx(Qe,{style:{backgroundColor:n},className:"text-primary-foreground",children:"In Transit"})}),l.jsx(_e,{value:"delivered",children:l.jsx(Qe,{variant:"success",children:"Delivered"})}),l.jsx(_e,{value:"cancelled",children:l.jsx(Qe,{variant:"destructive",children:"Cancelled"})})]})]})}),l.jsx(oe,{children:l.jsxs("div",{className:"flex gap-2",children:[i.items&&i.items.length>0&&l.jsxs(gi,{children:[l.jsx(vi,{asChild:!0,children:l.jsx(he,{variant:"outline",size:"icon",children:l.jsx(Qw,{className:"h-4 w-4",style:{color:n}})})}),l.jsxs(qs,{children:[l.jsx(Hs,{children:l.jsx(Ks,{children:"Shipment Items"})}),l.jsx("div",{className:"space-y-2",children:i.items.map((a,c)=>l.jsxs("div",{className:"flex justify-between p-2 border rounded",children:[l.jsx("span",{children:a.itemName}),l.jsxs("span",{className:"font-medium",children:["Qty: ",a.quantity]})]},c))})]})]}),l.jsx(he,{variant:"destructive",size:"icon",onClick:()=>t(i.id),children:l.jsx(ai,{className:"h-4 w-4"})})]})})]},i.id))})]})})},zM=({open:e,onOpenChange:t,onAdd:r,companyId:n})=>{const{primaryColor:s,accentColor:o}=Et(),[i,a]=p.useState([]),[c,u]=p.useState({status:"scheduled",shipmentType:"shipment"});p.useEffect(()=>{e&&n&&d()},[e,n]);const d=async()=>{if(n)try{const{data:f,error:b}=await H.from("orders").select("id, order_number, customer_name").eq("company_id",n).in("status",["pending","processing"]).order("created_at",{ascending:!1});if(b)throw b;a((f||[]).map(m=>({id:m.id,orderNumber:m.order_number,customerName:m.customer_name})))}catch(f){console.error("Error fetching orders:",f)}},h=f=>{const b=i.find(m=>m.id===f);b&&u({...c,orderId:f,orderNumber:b.orderNumber,recipientName:b.customerName})},g=f=>{f.preventDefault();const b=c.shipmentNumber||`SHP-${Date.now()}`;r({id:"",shipmentNumber:b,orderId:c.orderId,orderNumber:c.orderNumber,shipmentType:c.shipmentType,recipientName:c.recipientName||"",recipientEmail:c.recipientEmail,recipientPhone:c.recipientPhone,shippingAddress:c.shippingAddress,scheduledDate:c.scheduledDate||new Date().toISOString(),trackingNumber:c.trackingNumber,carrier:c.carrier,status:c.status,notes:c.notes}),u({status:"scheduled",shipmentType:"shipment"}),t(!1)};return l.jsxs(gi,{open:e,onOpenChange:t,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(he,{className:"gap-2 text-primary-foreground",style:{backgroundColor:s},onMouseEnter:f=>f.currentTarget.style.backgroundColor=o,onMouseLeave:f=>f.currentTarget.style.backgroundColor=s,children:[l.jsx(Ts,{className:"h-4 w-4"}),"New Shipment"]})}),l.jsxs(qs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Hs,{children:l.jsx(Ks,{children:"Create New Shipment"})}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"shipmentType",children:"Shipment Type"}),l.jsxs(er,{value:c.shipmentType,onValueChange:f=>u({...c,shipmentType:f}),children:[l.jsx(It,{children:l.jsx(tr,{})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"order",children:"Order"}),l.jsx(_e,{value:"shipment",children:"Shipment"}),l.jsx(_e,{value:"sample",children:"Sample"}),l.jsx(_e,{value:"distributor_pickup",children:"Distributor Pickup"}),l.jsx(_e,{value:"store_delivery",children:"Store Delivery"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"orderId",children:"Link to Order (Optional)"}),l.jsxs(er,{value:c.orderId,onValueChange:h,children:[l.jsx(It,{children:l.jsx(tr,{placeholder:"Select an order..."})}),l.jsx(Dt,{children:i.map(f=>l.jsxs(_e,{value:f.id,children:[f.orderNumber," - ",f.customerName]},f.id))})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientName",children:"Recipient Name *"}),l.jsx(ie,{id:"recipientName",value:c.recipientName||"",onChange:f=>u({...c,recipientName:f.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientEmail",children:"Recipient Email"}),l.jsx(ie,{id:"recipientEmail",type:"email",value:c.recipientEmail||"",onChange:f=>u({...c,recipientEmail:f.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"recipientPhone",children:"Recipient Phone"}),l.jsx(ie,{id:"recipientPhone",value:c.recipientPhone||"",onChange:f=>u({...c,recipientPhone:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"shippingAddress",children:"Shipping Address"}),l.jsx(ja,{id:"shippingAddress",value:c.shippingAddress||"",onChange:f=>u({...c,shippingAddress:f.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"scheduledDate",children:"Scheduled Date *"}),l.jsx(ie,{id:"scheduledDate",type:"date",value:c.scheduledDate?new Date(c.scheduledDate).toISOString().split("T")[0]:"",onChange:f=>u({...c,scheduledDate:new Date(f.target.value).toISOString()}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"carrier",children:"Carrier"}),l.jsx(ie,{id:"carrier",value:c.carrier||"",onChange:f=>u({...c,carrier:f.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"trackingNumber",children:"Tracking Number"}),l.jsx(ie,{id:"trackingNumber",value:c.trackingNumber||"",onChange:f=>u({...c,trackingNumber:f.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"notes",children:"Notes"}),l.jsx(ja,{id:"notes",value:c.notes||"",onChange:f=>u({...c,notes:f.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(he,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(he,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:f=>{f.currentTarget.disabled||(f.currentTarget.style.backgroundColor=o)},onMouseLeave:f=>f.currentTarget.style.backgroundColor=s,children:"Create Shipment"})]})]})]})]})},VM=()=>{rr();const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,u]=p.useState("");p.useEffect(()=>{d()},[]),p.useEffect(()=>{i&&h()},[i]);const d=async()=>{try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");y.user_metadata&&y.user_metadata.company_name&&u(y.user_metadata.company_name);const{data:v,error:w}=await H.from("profiles").select("company_id").eq("id",y.id).single();if(w)throw w;a(v.company_id)}catch(y){z.error("Failed to fetch profile"),console.error("Error fetching profile:",y)}},h=async()=>{if(i)try{const{data:y,error:v}=await H.from("shipments").select(`
          *,
          orders!shipments_order_id_fkey (
            order_number,
            order_items (
              item_name,
              quantity
            )
          )
        `).eq("company_id",i).order("scheduled_date",{ascending:!1});if(v)throw v;const w=(y||[]).map(x=>{var _,S,E;return{id:x.id,shipmentNumber:x.shipment_number,orderId:x.order_id||void 0,orderNumber:((_=x.orders)==null?void 0:_.order_number)||void 0,shipmentType:x.shipment_type,recipientName:x.recipient_name,recipientEmail:x.recipient_email||void 0,recipientPhone:x.recipient_phone||void 0,shippingAddress:x.shipping_address||void 0,scheduledDate:x.scheduled_date,shippedDate:x.shipped_date||void 0,trackingNumber:x.tracking_number||void 0,carrier:x.carrier||void 0,status:x.status,notes:x.notes||void 0,items:((E=(S=x.orders)==null?void 0:S.order_items)==null?void 0:E.map(C=>({itemName:C.item_name,quantity:C.quantity})))||void 0}});t(w)}catch(y){z.error("Failed to load shipments"),console.error("Error fetching shipments:",y)}finally{n(!1)}},g=async y=>{if(!i){z.error("Company information not loaded");return}try{const{error:v}=await H.from("shipments").insert({company_id:i,order_id:y.orderId||null,shipment_number:y.shipmentNumber,shipment_type:y.shipmentType,recipient_name:y.recipientName,recipient_email:y.recipientEmail||null,recipient_phone:y.recipientPhone||null,shipping_address:y.shippingAddress||null,scheduled_date:y.scheduledDate,tracking_number:y.trackingNumber||null,carrier:y.carrier||null,status:y.status,notes:y.notes||null});if(v)throw v;z.success("Shipment created successfully"),h()}catch(v){z.error("Failed to create shipment"),console.error("Error creating shipment:",v)}},f=async y=>{try{const{error:v}=await H.from("shipments").delete().eq("id",y);if(v)throw v;z.success("Shipment deleted successfully"),h()}catch(v){z.error("Failed to delete shipment"),console.error("Error deleting shipment:",v)}},b=async(y,v)=>{try{const w={status:v};if(v==="in_transit"){const _=e.find(S=>S.id===y);_!=null&&_.shippedDate||(w.shipped_date=new Date().toISOString(),_!=null&&_.orderId&&await m(_.orderId,y))}const{error:x}=await H.from("shipments").update(w).eq("id",y);if(x)throw x;z.success("Shipment status updated"),h()}catch(w){z.error("Failed to update shipment status"),console.error("Error updating status:",w)}},m=async(y,v)=>{try{const{data:w,error:x}=await H.from("order_items").select("item_name, quantity").eq("order_id",y);if(x)throw x;const{data:_,error:S}=await H.from("inventory_items").select("id, name, quantity").eq("company_id",i);if(S)throw S;for(const E of w||[]){const C=_==null?void 0:_.find(k=>k.name.toLowerCase()===E.item_name.toLowerCase());C&&await H.from("inventory_transactions").insert({company_id:i,inventory_item_id:C.id,transaction_type:"shipment",quantity:0,reference_id:v,reference_type:"shipment",notes:"Shipped for order"})}}catch(w){console.error("Error creating inventory transactions:",w)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Gs,{companyName:c,pageTitle:"Shipping Schedule",pageSubtitle:"Manage shipments and track deliveries",activePage:"shipping",children:l.jsx(zM,{open:s,onOpenChange:o,onAdd:g,companyId:i})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(D$,{shipments:e}),l.jsx(BM,{shipments:e,onDelete:f,onUpdateStatus:b})]})]})},WM=()=>{rr();const[e,t]=p.useState(null),[r,n]=p.useState("DuckInventory"),[s,o]=p.useState([]),[i,a]=p.useState([]),[c,u]=p.useState({name:"",type:"text"}),[d,h]=p.useState("inventory");p.useEffect(()=>{g()},[]),p.useEffect(()=>{e&&f()},[e]);const g=async()=>{try{const{data:{user:v}}=await H.auth.getUser();if(!v)throw new Error("Not authenticated");v.user_metadata&&v.user_metadata.company_name&&n(v.user_metadata.company_name);const{data:w,error:x}=await H.from("profiles").select("company_id").eq("id",v.id).single();if(x)throw x;t(w.company_id)}catch(v){z.error("Failed to fetch profile"),console.error("Error fetching profile:",v)}},f=async()=>{if(e)try{const{data:v,error:w}=await H.from("custom_fields").select("*").eq("company_id",e).order("field_order");if(w)throw w;const x=(v==null?void 0:v.filter(S=>S.table_name==="inventory_items"))||[],_=(v==null?void 0:v.filter(S=>S.table_name==="orders"))||[];o(x),a(_)}catch(v){z.error("Failed to load custom fields"),console.error("Error fetching custom fields:",v)}},b=async()=>{if(!e)return;if(!c.name.trim()){z.error("Field name is required");return}const v=d==="inventory"?s:i;if(v.length>=5){z.error("Maximum 5 custom fields allowed per table");return}try{const{error:w}=await H.from("custom_fields").insert({company_id:e,table_name:d==="inventory"?"inventory_items":"orders",field_name:c.name,field_type:c.type,field_order:v.length});if(w)throw w;z.success("Custom field added"),u({name:"",type:"text"}),f()}catch(w){z.error("Failed to add custom field"),console.error("Error adding custom field:",w)}},m=async v=>{try{const{error:w}=await H.from("custom_fields").delete().eq("id",v);if(w)throw w;z.success("Custom field deleted"),f()}catch(w){z.error("Failed to delete custom field"),console.error("Error deleting custom field:",w)}},y=v=>l.jsxs("div",{className:"space-y-3",children:[v.map(w=>l.jsx(Ae,{children:l.jsxs(Be,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:w.field_name}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:w.field_type})]}),l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>m(w.id),className:"text-destructive hover:text-destructive",children:l.jsx(ai,{className:"h-4 w-4"})})]})},w.id)),v.length===0&&l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No custom fields defined yet"})]});return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Gs,{companyName:r,pageTitle:"Properties",pageSubtitle:"Customize your inventory and order fields",activePage:"properties"}),l.jsx("div",{className:"container mx-auto p-6 space-y-8",children:l.jsxs(bu,{value:d,onValueChange:v=>h(v),children:[l.jsxs(qa,{className:"grid w-full max-w-md grid-cols-2",style:{borderColor:"var(--company-primary)"},children:[l.jsx(Ht,{value:"inventory",children:"Inventory Fields"}),l.jsx(Ht,{value:"orders",children:"Order Fields"})]}),l.jsxs(Kt,{value:"inventory",className:"space-y-6",children:[l.jsxs(Ae,{children:[l.jsxs(Qt,{children:[l.jsx(Yt,{children:"Add Custom Inventory Field"}),l.jsxs(_s,{children:["Create custom fields for your inventory items (",s.length,"/5)"]})]}),l.jsx(Be,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"field-name",children:"Field Name"}),l.jsx(ie,{id:"field-name",placeholder:"e.g., Supplier",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"field-type",children:"Field Type"}),l.jsxs(er,{value:c.type,onValueChange:v=>u({...c,type:v}),children:[l.jsx(It,{id:"field-type",children:l.jsx(tr,{})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"text",children:"Text"}),l.jsx(_e,{value:"number",children:"Number"}),l.jsx(_e,{value:"date",children:"Date"}),l.jsx(_e,{value:"boolean",children:"Yes/No"})]})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs(he,{onClick:b,disabled:s.length>=5,className:"w-full gap-2 text-primary-foreground",style:{backgroundColor:"var(--company-primary)",transition:"background-color 0.15s ease-in-out"},onMouseEnter:v=>{v.currentTarget.disabled||(v.currentTarget.style.backgroundColor="var(--company-accent)")},onMouseLeave:v=>v.currentTarget.style.backgroundColor="var(--company-primary)",children:[l.jsx(Ts,{className:"h-4 w-4"}),"Add Field"]})})]})})]}),y(s)]}),l.jsxs(Kt,{value:"orders",className:"space-y-6",children:[l.jsxs(Ae,{children:[l.jsxs(Qt,{children:[l.jsx(Yt,{children:"Add Custom Order Field"}),l.jsxs(_s,{children:["Create custom fields for your orders (",i.length,"/5)"]})]}),l.jsx(Be,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"order-field-name",children:"Field Name"}),l.jsx(ie,{id:"order-field-name",placeholder:"e.g., Delivery Date",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"order-field-type",children:"Field Type"}),l.jsxs(er,{value:c.type,onValueChange:v=>u({...c,type:v}),children:[l.jsx(It,{id:"order-field-type",children:l.jsx(tr,{})}),l.jsxs(Dt,{children:[l.jsx(_e,{value:"text",children:"Text"}),l.jsx(_e,{value:"number",children:"Number"}),l.jsx(_e,{value:"date",children:"Date"}),l.jsx(_e,{value:"boolean",children:"Yes/No"})]})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs(he,{onClick:b,disabled:i.length>=5,className:"w-full gap-2 text-primary-foreground",style:{backgroundColor:"var(--company-primary)",transition:"background-color 0.15s ease-in-out"},onMouseEnter:v=>{v.currentTarget.disabled||(v.currentTarget.style.backgroundColor="var(--company-accent)")},onMouseLeave:v=>v.currentTarget.style.backgroundColor="var(--company-primary)",children:[l.jsx(Ts,{className:"h-4 w-4"}),"Add Field"]})})]})})]}),y(i)]})]})})]})},qM=({customers:e})=>{const{primaryColor:t,accentColor:r}=Et(),n=e.length,s=e.filter(d=>!!d.email).length,o=e.filter(d=>!!d.phone).length,i=e.filter(d=>!!d.address).length,a=[{title:"Total Customers",value:n,icon:ip},{title:"With Email",value:s,icon:jh},{title:"With Phone",value:o,icon:Ik},{title:"With Address",value:i,icon:Ek}],c=[t,r,t,r],u=[`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`,`linear-gradient(to br, ${t}, ${r})`,`linear-gradient(to br, ${r}, ${t})`];return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((d,h)=>l.jsx(Ae,{className:"relative overflow-hidden border-primary/20 bg-card/50 backdrop-blur transition-all hover:shadow-lg hover:shadow-primary/20 hover:scale-105",style:{borderColor:`${c[h]}`},children:l.jsxs(Be,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d.title}),l.jsx("p",{className:"text-3xl font-bold mt-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, hsl(var(--foreground)), ${c[h]})`},children:d.value})]}),l.jsx("div",{className:"p-3 rounded-lg",style:{background:u[h],opacity:.1},children:l.jsx(d.icon,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full",style:{background:u[h]}})]})},d.title))})};function Ii({className:e,...t}){return l.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const HM=({customers:e,onEdit:t,onDelete:r,loading:n})=>{const{primaryColor:s}=Et(),o=()=>Array.from({length:5}).map((i,a)=>l.jsxs(at,{children:[l.jsx(oe,{children:l.jsx(Ii,{className:"h-4 w-32"})}),l.jsx(oe,{children:l.jsx(Ii,{className:"h-4 w-48"})}),l.jsx(oe,{children:l.jsx(Ii,{className:"h-4 w-32"})}),l.jsx(oe,{children:l.jsx(Ii,{className:"h-4 w-24"})}),l.jsx(oe,{className:"text-right",children:l.jsx(Ii,{className:"h-8 w-16"})})]},`skel-${a}`));return l.jsx(Ae,{className:"bg-card/50 backdrop-blur",style:{borderColor:`${s}33`},children:l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${s}33`},children:[l.jsx(de,{children:"Name"}),l.jsx(de,{children:"Email"}),l.jsx(de,{children:"Phone"}),l.jsx(de,{children:"Date Added"}),l.jsx(de,{className:"text-right",children:"Actions"})]})}),l.jsx(Ws,{children:n?o():e.length>0?e.map(i=>l.jsxs(at,{className:"hover:bg-muted-foreground/10",style:{borderColor:`${s}1A`},children:[l.jsx(oe,{className:"font-medium",children:i.name}),l.jsx(oe,{className:"text-muted-foreground",children:i.email}),l.jsx(oe,{className:"text-muted-foreground",children:i.phone}),l.jsx(oe,{className:"text-muted-foreground",children:new Date(i.created_at).toLocaleDateString()}),l.jsxs(oe,{className:"text-right space-x-2",children:[l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(i),className:"text-muted-foreground hover:text-primary",children:l.jsx(kk,{className:"h-4 w-4",style:{color:s}})}),l.jsx(he,{variant:"ghost",size:"icon",onClick:()=>r(i.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:l.jsx(ai,{className:"h-4 w-4"})})]})]},i.id)):l.jsx(at,{children:l.jsx(oe,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"No customers found."})})})]})})},KM=({open:e,onOpenChange:t,onAdd:r,companyId:n})=>{const{primaryColor:s,accentColor:o}=Et(),[i,a]=p.useState({name:"",email:"",phone:"",address:""}),c=d=>{if(d.preventDefault(),!n){z.error("Cannot add customer: Company ID is missing.");return}if(!i.name||!i.email){z.error("Please fill in at least Name and Email.");return}const h={name:i.name,email:i.email,phone:i.phone,address:i.address};r(h),a({name:"",email:"",phone:"",address:""}),t(!1)},u=d=>{d||a({name:"",email:"",phone:"",address:""}),t(d)};return l.jsxs(gi,{open:e,onOpenChange:u,children:[l.jsx(vi,{asChild:!0,children:l.jsxs(he,{className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:d=>d.currentTarget.style.backgroundColor=o,onMouseLeave:d=>d.currentTarget.style.backgroundColor=s,children:[l.jsx(Ts,{className:"mr-2 h-4 w-4"}),"New Customer"]})}),l.jsxs(qs,{className:"sm:max-w-[500px]",children:[l.jsxs(Hs,{children:[l.jsx(Ks,{children:"Create New Customer"}),l.jsx(fu,{children:"Add a new customer to your database."})]}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Customer Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"customerName",children:"Name *"}),l.jsx(ie,{id:"customerName",value:i.name,onChange:d=>a({...i,name:d.target.value}),placeholder:"John Doe",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"customerEmail",children:"Email *"}),l.jsx(ie,{id:"customerEmail",type:"email",value:i.email,onChange:d=>a({...i,email:d.target.value}),placeholder:"john@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"customerPhone",children:"Phone"}),l.jsx(ie,{id:"customerPhone",type:"tel",value:i.phone,onChange:d=>a({...i,phone:d.target.value}),placeholder:"+1 (555) 000-0000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"customerAddress",children:"Address"}),l.jsx(ie,{id:"customerAddress",value:i.address,onChange:d=>a({...i,address:d.target.value}),placeholder:"123 Main St, Anytown, USA"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(he,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(he,{type:"submit",className:"text-primary-foreground",style:{backgroundColor:s},onMouseEnter:d=>d.currentTarget.style.backgroundColor=o,onMouseLeave:d=>d.currentTarget.style.backgroundColor=s,children:"Create Customer"})]})]})]})]})},GM=()=>{rr();const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,u]=p.useState("");p.useEffect(()=>{d()},[]),p.useEffect(()=>{i&&h()},[i]);const d=async()=>{try{const{data:{user:m}}=await H.auth.getUser();if(!m)throw new Error("Not authenticated");m.user_metadata&&m.user_metadata.company_name&&u(m.user_metadata.company_name);const{data:y,error:v}=await H.from("profiles").select("company_id").eq("id",m.id).single();if(v)throw v;a(y.company_id)}catch(m){z.error("Failed to fetch profile"),console.error("Error fetching profile:",m)}},h=async()=>{if(i){n(!0);try{const{data:m,error:y}=await H.from("customers").select("*").eq("company_id",i).order("created_at",{ascending:!1});if(y)throw y;t(m||[])}catch(m){z.error("Failed to load customers"),console.error("Error fetching customers:",m)}finally{n(!1)}}},g=async m=>{if(!i){z.error("Company information not loaded");return}try{const{data:{user:y}}=await H.auth.getUser();if(!y)throw new Error("Not authenticated");const{data:v,error:w}=await H.from("customers").insert({...m,company_id:i,user_id:y.id}).select().single();if(w)if(w.code==="23505")z.error("A customer with this email already exists.");else throw w;else z.success("Customer added successfully"),h()}catch(y){z.error("Failed to add customer"),console.error("Error adding customer:",y)}},f=async m=>{try{const{error:y}=await H.from("customers").delete().eq("id",m);if(y)throw y;z.success("Customer deleted successfully"),h()}catch(y){z.error("Failed to delete customer"),console.error("Error deleting customer:",y)}},b=m=>{z.info("Edit functionality coming soon!")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:[l.jsx(Gs,{companyName:c,pageTitle:"Customers",pageSubtitle:"Manage your customer database",activePage:"customers",children:l.jsx(KM,{open:s,onOpenChange:o,onAdd:g,companyId:i})}),l.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[l.jsx(qM,{customers:e}),l.jsx(HM,{customers:e,onEdit:b,onDelete:f,loading:r})]})]})},QM=()=>{const e=Ua();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},rs=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0);return p.useEffect(()=>{const{data:{subscription:o}}=H.auth.onAuthStateChange((i,a)=>{r(a),s(!1)});return H.auth.getSession().then(({data:{session:i}})=>{r(i),s(!1)}),()=>o.unsubscribe()},[]),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(GO,{to:"/auth",replace:!0})};var YM="Separator",Hv="horizontal",JM=["horizontal","vertical"],RS=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Hv,...s}=e,o=XM(n)?n:Hv,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(ee.div,{"data-orientation":o,...a,...s,ref:t})});RS.displayName=YM;function XM(e){return JM.includes(e)}var AS=RS;const IS=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(AS,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));IS.displayName=AS.displayName;const ZM=()=>{const e=rr(),[t,r]=p.useState(""),[n,s]=p.useState(!1),[o,i]=p.useState("DuckInventory"),[a,c]=p.useState(null),[u,d]=p.useState([]),[h,g]=p.useState(""),[f,b]=p.useState(""),[m,y]=p.useState(!1),{reloadBranding:v}=Et();p.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:{user:S}}=await H.auth.getUser();if(!S){e("/");return}const{data:E,error:C}=await H.from("profiles").select("company_id").eq("id",S.id).maybeSingle();if(C)throw C;if(!E||!E.company_id){z.error("Could not find your company profile."),e("/");return}const k=E.company_id;c(k);const[O,A]=await Promise.all([H.from("companies").select("name, primary_color, accent_color").eq("id",k).maybeSingle(),H.from("profiles").select("email, role").eq("company_id",k)]);if(O.error)throw O.error;if(A.error)throw A.error;O.data?(i(O.data.name||"DuckInventory"),g(O.data.primary_color||"#800000"),b(O.data.accent_color||"#FFD700")):z.error("Failed to load company branding details."),A.data&&d(A.data)}catch(S){console.error("Error fetching data:",S),z.error(S.message||"Failed to load company data.")}},x=async S=>{if(S.preventDefault(),s(!0),!t){z.error("Please enter an email address."),s(!1);return}try{const{data:E,error:C}=await H.auth.getSession();if(C||!E.session)throw new Error("User session not found.");const k=E.session.access_token,O=await fetch("https://sseafesutfqctttpefia.supabase.co/functions/v1/handle_new_user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({emailToInvite:t,companyName:o})}),A=await O.json();if(!O.ok||A.error)throw new Error(A.error||"Failed to send invitation. Check server logs.");z.success(`Invitation sent successfully to ${t}`),r(""),w()}catch(E){console.error("Invite Error:",E),z.error(E.message||"Failed to send invitation.")}finally{s(!1)}},_=async()=>{if(a){y(!0);try{const{error:S}=await H.from("companies").update({primary_color:h,accent_color:f}).eq("id",a);if(v(),S)throw S;z.success("Company colors updated!")}catch(S){console.error("Color Save Error:",S),z.error(S.message||"Failed to save colors.")}finally{y(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-background",style:{"--company-primary":h,"--company-accent":f},children:[l.jsx(Gs,{companyName:o,pageTitle:"Team Management",pageSubtitle:"Manage your team and company branding",activePage:"team"}),l.jsx("main",{className:"container mx-auto px-4 py-12",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs(Ae,{children:[l.jsxs(Qt,{children:[l.jsxs(Yt,{className:"flex items-center gap-2",children:[l.jsx(jh,{className:"h-6 w-6 text-[var(--company-primary)]"})," Invite New Team Member"]}),l.jsx(_s,{children:"Send an invitation email to a new user. They will automatically join your company's inventory team."})]}),l.jsx(Be,{children:l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"email",children:"User Email"}),l.jsx(ie,{id:"email",type:"email",placeholder:"new.user@team.com",value:t,onChange:S=>r(S.target.value),required:!0})]}),l.jsx(he,{type:"submit",className:"w-full bg-[var(--company-primary)] hover:bg-[var(--company-accent)] text-white",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(Ch,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Invite..."]}):l.jsxs(l.Fragment,{children:[l.jsx(jh,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})})]}),l.jsxs(Ae,{children:[l.jsxs(Qt,{children:[l.jsxs(Yt,{className:"flex items-center gap-2",children:[l.jsx(ip,{className:"h-6 w-6 text-[var(--company-primary)]"})," Current Team"]}),l.jsx(_s,{children:"A list of all members currently in your company."})]}),l.jsx(Be,{children:l.jsx("div",{className:"space-y-4",children:u.length>0?u.map((S,E)=>l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Dk,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:S.email}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:S.role})]})]})}),E<u.length-1&&l.jsx(IS,{className:"mt-4"})]},S.email)):l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your team is empty. Send an invite to get started!"})})})]})]}),l.jsx("div",{className:"space-y-8",children:l.jsxs(Ae,{children:[l.jsxs(Qt,{children:[l.jsxs(Yt,{className:"flex items-center gap-2",children:[l.jsx(jk,{className:"h-6 w-6 text-[var(--company-primary)]"})," Company Branding"]}),l.jsx(_s,{children:"Choose your company's primary and accent colors."})]}),l.jsx(Be,{children:l.jsxs("form",{onSubmit:S=>{S.preventDefault(),_()},className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{id:"primaryColor",type:"color",className:"w-16 p-1",value:h,onChange:S=>g(S.target.value)}),l.jsx("span",{className:"font-mono text-sm",children:h})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(re,{htmlFor:"accentColor",children:"Accent Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{id:"accentColor",type:"color",className:"w-16 p-1",value:f,onChange:S=>b(S.target.value)}),l.jsx("span",{className:"font-mono text-sm",children:f})]})]}),l.jsx(he,{type:"submit",variant:"outline",className:"w-full bg-[var(--company-primary)] hover:bg-[var(--company-accent)] text-white",disabled:m,children:m?l.jsxs(l.Fragment,{children:[l.jsx(Ch,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving Colors..."]}):"Save Colors"})]})})]})})]})})]})},eL=()=>{const[e,t]=p.useState(""),[r,n]=p.useState(!1),s=rr(),o=async i=>{if(i.preventDefault(),n(!0),e.length<6){z.error("Password must be at least 6 characters long."),n(!1);return}try{const{error:a}=await H.auth.updateUser({password:e});a?(console.error("Password update error:",a),z.error(a.message||"Failed to set password. Please try again.")):(z.success("Welcome to the team! Your password is set."),s("/dashboard",{replace:!0}))}catch(a){console.error("Unexpected error:",a),z.error("An unexpected error occurred during setup.")}finally{n(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:l.jsxs(Ae,{className:"max-w-md w-full shadow-lg",children:[l.jsx(Qt,{children:l.jsxs(Yt,{className:"text-3xl font-bold flex items-center gap-3",children:[l.jsx(Ak,{className:"h-6 w-6 text-primary"}),"Finalize Account"]})}),l.jsxs(Be,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You have successfully accepted the invitation. Please set a password to complete your account setup."}),l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password-input",className:"text-sm font-medium",children:"New Password"}),l.jsx(ie,{id:"password-input",type:"password",placeholder:"Enter a strong password",value:e,onChange:i=>t(i.target.value),required:!0})]}),l.jsx(he,{type:"submit",className:"w-full gap-2",disabled:r||e.length<6,children:r?l.jsxs(l.Fragment,{children:[l.jsx(Ch,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_k,{className:"h-4 w-4"}),"Set Password & Continue"]})})]})]})]})})},tL=({children:e})=>{const t=rr(),r=Ua();return p.useEffect(()=>{window.location.hash.includes("access_token")&&H.auth.getSession().then(({data:{session:n}})=>{n&&(r.pathname!=="/set-password"&&(z.success("Invitation accepted! Please set your password."),t("/set-password",{replace:!0})),window.history.replaceState(null,"",window.location.pathname))}).catch(n=>{console.error("Error processing invite session:",n),z.error("Failed to process invite. Please try logging in."),window.history.replaceState(null,"",window.location.pathname)})},[t,r.pathname]),l.jsx(l.Fragment,{children:e})},rL=({companyId:e,items:t})=>{const[r,n]=p.useState(null),[s,o]=p.useState([]),[i,a]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!r){o([]);return}a(!0);try{const{data:g,error:f}=await H.from("inventory_transactions").select("id, created_at, transaction_type, quantity, reference_type, notes").eq("company_id",e).eq("inventory_item_id",r).order("created_at",{ascending:!0});if(f)throw f;o(g)}catch(g){z.error("Failed to load transactions."),console.error("Error fetching transactions:",g),o([])}finally{a(!1)}})()},[r,e]);const u=[...s.reduce((h,g)=>{const b=(h.length>0?h[h.length-1].runningStock:0)+g.quantity;return h.push({runningStock:b,...g}),h},[])].reverse(),d=h=>{let g="bg-gray-100 text-gray-800";return["shipment","restock","returns","add_new"].includes(h)?g="bg-green-100 text-green-800":["order","damaged_goods","sample","correction"].includes(h)&&(g="bg-red-100 text-red-800"),l.jsx(Qe,{className:`capitalize ${g}`,children:h.replace(/_/g," ")})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Inventory Item:"}),l.jsxs(er,{onValueChange:n,value:r||"",children:[l.jsx(It,{className:"w-[300px]",children:l.jsx(tr,{placeholder:"Choose an item..."})}),l.jsx(Dt,{children:t.map(h=>l.jsx(_e,{value:h.id,children:h.name},h.id))})]})]}),l.jsx("div",{className:"mt-6 border rounded-lg overflow-hidden",children:r&&i?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading transactions..."}):r&&u.length===0&&!i?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"No transactions found for this item."}):r&&u.length>0?l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{children:[l.jsx(de,{children:"Timestamp"}),l.jsx(de,{children:"Type"}),l.jsx(de,{className:"text-right",children:"Quantity Change"}),l.jsx(de,{className:"text-right",children:"Running Stock"}),l.jsx(de,{children:"Reference/Notes"})]})}),l.jsx(Ws,{children:u.map(h=>{var g;return l.jsxs(at,{children:[l.jsx(oe,{children:Oc(new Date(h.created_at),"MMM dd, yyyy HH:mm")}),l.jsx(oe,{children:d(h.transaction_type)}),l.jsx(oe,{className:`text-right font-medium ${h.quantity>=0?"text-green-600":"text-red-600"}`,children:h.quantity>=0?`+${h.quantity}`:h.quantity}),l.jsx(oe,{className:"text-right font-bold",children:h.runningStock}),l.jsxs(oe,{children:[l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(g=h.reference_type)==null?void 0:g.replace(/_/g," ")}),l.jsx("p",{className:"text-sm",children:h.notes})]})]},h.id)})})]}):l.jsxs("div",{className:"p-10 text-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 mt-8",children:[l.jsx("p",{className:"text-xl font-semibold text-gray-600",children:"Select an inventory item above to see transaction history."}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"The report details will appear here once an item is chosen."})]})})]})},nL=({companyId:e})=>{const[t,r]=p.useState([]),[n,s]=p.useState(null),[o,i]=p.useState([]),[a,c]=p.useState(0),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>{if(e)try{const{data:b,error:m}=await H.from("customers").select("id, name, email").eq("company_id",e).order("name",{ascending:!0});if(m)throw m;r(b||[])}catch{z.error("Failed to load customer list.")}})()},[e]),p.useEffect(()=>{(async()=>{if(!n){i([]),c(0);return}d(!0);try{const{data:b,error:m}=await H.from("orders").select(`
                        id,
                        order_number,
                        created_at,
                        status,
                        total_amount,
                        order_items (item_name, quantity, price)
                    `).eq("customer_id",n).order("created_at",{ascending:!1});if(m)throw m;const y=b;i(y);const v=y.reduce((w,x)=>x.status==="completed"?w+Number(x.total_amount):w,0);c(v)}catch(b){z.error("Failed to load customer order history."),console.error("Error fetching orders:",b)}finally{d(!1)}})()},[n,e]);const h=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),g=t.find(f=>f.id===n);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Customer:"}),l.jsxs(er,{onValueChange:s,value:n||"",children:[l.jsx(It,{className:"w-[300px]",children:l.jsx(tr,{placeholder:"Choose a customer..."})}),l.jsx(Dt,{children:t.map(f=>l.jsxs(_e,{value:f.id,children:[f.name," (",f.email||"No Email",")"]},f.id))})]})]}),n?l.jsxs(l.Fragment,{children:[l.jsxs("h3",{className:"text-2xl font-bold mt-4",children:["Order History for ",g==null?void 0:g.name]}),l.jsxs(bu,{defaultValue:"summary",className:"w-full",children:[l.jsxs(qa,{children:[l.jsx(Ht,{value:"summary",children:"Revenue Summary"}),l.jsx(Ht,{value:"details",children:"Detailed Order List"})]}),l.jsx(Kt,{value:"summary",className:"pt-4",children:l.jsxs("div",{className:"p-6 border rounded-lg bg-green-50 shadow-md",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue (Completed Orders):"}),l.jsx("p",{className:"text-4xl font-extrabold text-green-700",children:h(a)})]})}),l.jsx(Kt,{value:"details",className:"pt-4",children:u?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading orders..."}):o.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"No orders found for this customer."}):l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs(zs,{children:[l.jsx(Vs,{children:l.jsxs(at,{children:[l.jsx(de,{children:"Order #"}),l.jsx(de,{children:"Date"}),l.jsx(de,{children:"Status"}),l.jsx(de,{className:"text-right",children:"Total"}),l.jsx(de,{children:"Items"})]})}),l.jsx(Ws,{children:o.map(f=>l.jsxs(at,{children:[l.jsx(oe,{className:"font-medium",children:f.order_number}),l.jsx(oe,{children:Oc(new Date(f.created_at),"MMM dd, yyyy")}),l.jsx(oe,{children:l.jsx(Qe,{variant:f.status==="completed"?"default":"secondary",className:"capitalize",children:f.status})}),l.jsx(oe,{className:"text-right",children:h(Number(f.total_amount))}),l.jsx(oe,{children:l.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-sm",children:f.order_items.map((b,m)=>l.jsxs("li",{children:[b.quantity,"x ",b.item_name]},m))})})]},f.id))})]})})})]})]}):l.jsxs("div",{className:"p-10 text-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 mt-8",children:[l.jsx("p",{className:"text-xl font-semibold text-gray-600",children:"Select a customer above to see order history and sales metrics."}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"The report details will appear here once a customer is chosen."})]})]})},sL=({companyId:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!1),o=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i);return p.useEffect(()=>{(async()=>{if(e){s(!0);try{const{data:a,error:c}=await H.from("inventory_items").select("category, quantity, price");if(c)throw c;let u=0,d=0,h=0;a.forEach(f=>{const b=f.price||0,m=f.quantity||0,y=b*m;u+=m,f.category==="raw"?d+=y:f.category==="finished"&&(h+=y)});const g=d+h;r({totalItems:u,rawMaterialValue:d,finishedProductValue:h,overallTotalValue:g})}catch(a){z.error("Failed to calculate stock valuation."),console.error("Error fetching valuation data:",a)}finally{s(!1)}}})()},[e]),n?l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Calculating valuation..."}):t?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Valuation is calculated as: **Quantity  Price per Unit** for all items."}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ae,{className:"shadow-lg border-2 border-primary",children:[l.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Yt,{className:"text-sm font-medium",children:"Total Inventory Value"}),l.jsx(Gw,{className:"h-4 w-4 text-primary"})]}),l.jsxs(Be,{children:[l.jsx("div",{className:"text-3xl font-bold",children:o(t.overallTotalValue)}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.totalItems," units across all categories"]})]})]}),l.jsxs(Ae,{children:[l.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Yt,{className:"text-sm font-medium",children:"Raw Material Value"}),l.jsx(bk,{className:"h-4 w-4 text-indigo-500"})]}),l.jsxs(Be,{children:[l.jsx("div",{className:"text-2xl font-bold",children:o(t.rawMaterialValue)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'Value of items categorized as "raw"'})]})]}),l.jsxs(Ae,{children:[l.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Yt,{className:"text-sm font-medium",children:"Finished Product Value"}),l.jsx(xk,{className:"h-4 w-4 text-amber-500"})]}),l.jsxs(Be,{children:[l.jsx("div",{className:"text-2xl font-bold",children:o(t.finishedProductValue)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'Value of items categorized as "finished"'})]})]})]})]}):l.jsx("div",{className:"p-6 text-center text-gray-500",children:"No inventory data available for valuation."})},oL=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(""),[s,o]=p.useState([]),[i,a]=p.useState(!0);p.useEffect(()=>{c()},[]);const c=async()=>{var u;a(!0);try{const{data:{user:d}}=await H.auth.getUser();if(!d)throw new Error("Not authenticated");(u=d.user_metadata)!=null&&u.company_name&&n(d.user_metadata.company_name);const{data:h,error:g}=await H.from("profiles").select("company_id").eq("id",d.id).single();if(g)throw g;const f=h.company_id;t(f);const{data:b,error:m}=await H.from("inventory_items").select("id, name").eq("company_id",f);if(m)throw m;o(b||[])}catch(d){z.error("Failed to load necessary data."),console.error("Error fetching data:",d)}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Gs,{companyName:r,pageTitle:"Reports",pageSubtitle:"Generate business insights from your data",activePage:"reports"}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(bu,{defaultValue:"transactions",className:"spacey-4",children:[l.jsxs(qa,{className:"bg-muted",children:[l.jsx(Ht,{value:"transactions",children:"Item Transactions"}),l.jsx(Ht,{value:"orders",children:"Customer Orders"}),l.jsx(Ht,{value:"valuation",children:"Valuation Summary"})]}),l.jsx(Kt,{value:"transactions",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Individual Item Transaction History"}),i?l.jsx("p",{children:"Loading..."}):e?l.jsx(rL,{companyId:e,items:s}):l.jsx("p",{children:"Please log in to view reports."})]})}),l.jsx(Kt,{value:"orders",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Sales Performance"}),i?l.jsx("p",{children:"Loading..."}):e?l.jsx(nL,{companyId:e}):l.jsx("p",{children:"Please log in to view reports."})]})}),l.jsx(Kt,{value:"valuation",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Stock Valuation"}),i?l.jsx("p",{children:"Loading..."}):e?l.jsx(sL,{companyId:e}):l.jsx("p",{children:"Please log in to view reports."})]})})]})})]})},iL=new oO,aL=()=>l.jsx(aO,{client:iL,children:l.jsxs(DT,{children:[l.jsx(wN,{}),l.jsx(JN,{}),l.jsx(ZO,{basename:"/duck-inventory-systems",children:l.jsx(tL,{children:l.jsxs(YO,{children:[l.jsx(Ut,{path:"/",element:l.jsx(rR,{})}),l.jsx(Ut,{path:"/auth",element:l.jsx(RA,{})}),l.jsx(Ut,{path:"/set-password",element:l.jsx(eL,{})}),l.jsx(Ut,{path:"/dashboard",element:l.jsx(rs,{children:l.jsx(C$,{})})}),l.jsx(Ut,{path:"/orders",element:l.jsx(rs,{children:l.jsx(I$,{})})}),l.jsx(Ut,{path:"/shipping",element:l.jsx(rs,{children:l.jsx(VM,{})})}),l.jsx(Ut,{path:"/properties",element:l.jsx(rs,{children:l.jsx(WM,{})})}),l.jsx(Ut,{path:"/teammanagement",element:l.jsx(rs,{children:l.jsx(ZM,{})})}),l.jsx(Ut,{path:"/customers",element:l.jsx(rs,{children:l.jsx(GM,{})})}),l.jsx(Ut,{path:"/reports",element:l.jsx(rs,{children:l.jsx(oL,{})})}),l.jsx(Ut,{path:"*",element:l.jsx(QM,{})})]})})})]})});vw(document.getElementById("root")).render(l.jsx(AA,{children:l.jsx(aL,{})}));
